{"version":3,"file":"ew.js","sources":["../../node_modules/core-js/internals/global.js","../../node_modules/core-js/internals/fails.js","../../node_modules/core-js/internals/descriptors.js","../../node_modules/core-js/internals/object-property-is-enumerable.js","../../node_modules/core-js/internals/create-property-descriptor.js","../../node_modules/core-js/internals/classof-raw.js","../../node_modules/core-js/internals/indexed-object.js","../../node_modules/core-js/internals/require-object-coercible.js","../../node_modules/core-js/internals/to-indexed-object.js","../../node_modules/core-js/internals/is-object.js","../../node_modules/core-js/internals/to-primitive.js","../../node_modules/core-js/internals/has.js","../../node_modules/core-js/internals/document-create-element.js","../../node_modules/core-js/internals/ie8-dom-define.js","../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../node_modules/core-js/internals/an-object.js","../../node_modules/core-js/internals/object-define-property.js","../../node_modules/core-js/internals/create-non-enumerable-property.js","../../node_modules/core-js/internals/set-global.js","../../node_modules/core-js/internals/shared-store.js","../../node_modules/core-js/internals/inspect-source.js","../../node_modules/core-js/internals/native-weak-map.js","../../node_modules/core-js/internals/shared.js","../../node_modules/core-js/internals/uid.js","../../node_modules/core-js/internals/shared-key.js","../../node_modules/core-js/internals/hidden-keys.js","../../node_modules/core-js/internals/internal-state.js","../../node_modules/core-js/internals/redefine.js","../../node_modules/core-js/internals/path.js","../../node_modules/core-js/internals/get-built-in.js","../../node_modules/core-js/internals/to-integer.js","../../node_modules/core-js/internals/to-length.js","../../node_modules/core-js/internals/to-absolute-index.js","../../node_modules/core-js/internals/array-includes.js","../../node_modules/core-js/internals/object-keys-internal.js","../../node_modules/core-js/internals/enum-bug-keys.js","../../node_modules/core-js/internals/object-get-own-property-names.js","../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../node_modules/core-js/internals/own-keys.js","../../node_modules/core-js/internals/copy-constructor-properties.js","../../node_modules/core-js/internals/is-forced.js","../../node_modules/core-js/internals/export.js","../../node_modules/core-js/internals/a-function.js","../../node_modules/core-js/internals/function-bind-context.js","../../node_modules/core-js/internals/to-object.js","../../node_modules/core-js/internals/is-array.js","../../node_modules/core-js/internals/native-symbol.js","../../node_modules/core-js/internals/use-symbol-as-uid.js","../../node_modules/core-js/internals/well-known-symbol.js","../../node_modules/core-js/internals/array-species-create.js","../../node_modules/core-js/internals/array-iteration.js","../../node_modules/core-js/internals/object-keys.js","../../node_modules/core-js/internals/object-define-properties.js","../../node_modules/core-js/internals/html.js","../../node_modules/core-js/internals/object-create.js","../../node_modules/core-js/internals/add-to-unscopables.js","../../node_modules/core-js/internals/array-method-uses-to-length.js","../../node_modules/core-js/modules/es.array.find-index.js","../../node_modules/core-js/modules/es.array.includes.js","../../node_modules/core-js/internals/object-assign.js","../../node_modules/core-js/modules/es.object.assign.js","../../node_modules/core-js/internals/object-to-array.js","../../node_modules/core-js/modules/es.object.entries.js","../../node_modules/core-js/modules/es.object.values.js","../../node_modules/core-js/internals/is-regexp.js","../../node_modules/core-js/internals/not-a-regexp.js","../../node_modules/core-js/internals/correct-is-regexp-logic.js","../../node_modules/core-js/modules/es.string.ends-with.js","../../node_modules/core-js/modules/es.string.includes.js","../../node_modules/core-js/modules/es.string.starts-with.js","../../build/js/FormData.js","../../build/js/multipage.js","../../build/js/Validators.js","../../build/js/FormBase.js","../../build/js/Field.js","../../build/js/Form.js","../../build/js/AjaxLookup.js","../../build/js/SelectionListOption.js","../../build/js/AutoSuggest.js","../../build/js/Forms.js","../../build/js/Select2CustomOption.js","../../build/js/functions.js","../../build/js/main.js","../../build/js/jquery.js","../../build/js/fields.js","../../build/js/adminlte.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: 'Â© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","/* global FormData self Blob File */\r\n/* eslint-disable no-inner-declarations */\r\n\r\nif (typeof Blob !== 'undefined' && (typeof FormData === 'undefined' || !FormData.prototype.keys)) {\r\n  const global = typeof window === 'object'\r\n    ? window\r\n    : typeof self === 'object' ? self : this\r\n\r\n  // keep a reference to native implementation\r\n  const _FormData = global.FormData\r\n\r\n  // To be monkey patched\r\n  const _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\r\n  const _fetch = global.Request && global.fetch\r\n  const _sendBeacon = global.navigator && global.navigator.sendBeacon\r\n\r\n  // Unable to patch Request constructor correctly\r\n  // const _Request = global.Request\r\n  // only way is to use ES6 class extend\r\n  // https://github.com/babel/babel/issues/1966\r\n\r\n  const stringTag = global.Symbol && Symbol.toStringTag\r\n\r\n  // Add missing stringTags to blob and files\r\n  if (stringTag) {\r\n    if (!Blob.prototype[stringTag]) {\r\n      Blob.prototype[stringTag] = 'Blob'\r\n    }\r\n\r\n    if ('File' in global && !File.prototype[stringTag]) {\r\n      File.prototype[stringTag] = 'File'\r\n    }\r\n  }\r\n\r\n  // Fix so you can construct your own File\r\n  try {\r\n    new File([], '') // eslint-disable-line\r\n  } catch (a) {\r\n    global.File = function File (b, d, c) {\r\n      const blob = new Blob(b, c)\r\n      const t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date()\r\n\r\n      Object.defineProperties(blob, {\r\n        name: {\r\n          value: d\r\n        },\r\n        lastModifiedDate: {\r\n          value: t\r\n        },\r\n        lastModified: {\r\n          value: +t\r\n        },\r\n        toString: {\r\n          value () {\r\n            return '[object File]'\r\n          }\r\n        }\r\n      })\r\n\r\n      if (stringTag) {\r\n        Object.defineProperty(blob, stringTag, {\r\n          value: 'File'\r\n        })\r\n      }\r\n\r\n      return blob\r\n    }\r\n  }\r\n\r\n  function normalizeValue ([value, filename]) {\r\n    if (value instanceof Blob) {\r\n      // Should always returns a new File instance\r\n      // console.assert(fd.get(x) !== fd.get(x))\r\n      value = new File([value], filename, {\r\n        type: value.type,\r\n        lastModified: value.lastModified\r\n      })\r\n    }\r\n\r\n    return value\r\n  }\r\n\r\n  function ensureArgs (args, expected) {\r\n    if (args.length < expected) {\r\n      throw new TypeError(`${expected} argument required, but only ${args.length} present.`)\r\n    }\r\n  }\r\n\r\n  function normalizeArgs (name, value, filename) {\r\n    return value instanceof Blob\r\n      // normalize name and filename if adding an attachment\r\n      ? [String(name), value, filename !== undefined\r\n        ? filename + '' // Cast filename to string if 3th arg isn't undefined\r\n        : typeof value.name === 'string' // if name prop exist\r\n          ? value.name // Use File.name\r\n          : 'blob'] // otherwise fallback to Blob\r\n\r\n      // If no attachment, just cast the args to strings\r\n      : [String(name), String(value)]\r\n  }\r\n\r\n  // normalize linefeeds for textareas\r\n  // https://html.spec.whatwg.org/multipage/form-elements.html#textarea-line-break-normalisation-transformation\r\n  function normalizeLinefeeds (value) {\r\n    return value.replace(/\\r\\n/g, '\\n').replace(/\\n/g, '\\r\\n')\r\n  }\r\n\r\n  function each (arr, cb) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      cb(arr[i])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @implements {Iterable}\r\n   */\r\n  class FormDataPolyfill {\r\n    /**\r\n     * FormData class\r\n     *\r\n     * @param {HTMLElement=} form\r\n     */\r\n    constructor (form) {\r\n      this._data = Object.create(null)\r\n\r\n      if (!form) return this\r\n\r\n      const self = this\r\n\r\n      each(form.elements, elm => {\r\n        if (!elm.name || elm.disabled || elm.type === 'submit' || elm.type === 'button') return\r\n\r\n        if (elm.type === 'file') {\r\n          const files = elm.files && elm.files.length\r\n            ? elm.files\r\n            : [new File([], '', { type: 'application/octet-stream' })] // #78\r\n\r\n          each(files, file => {\r\n            self.append(elm.name, file)\r\n          })\r\n        } else if (elm.type === 'select-multiple' || elm.type === 'select-one') {\r\n          each(elm.options, opt => {\r\n            !opt.disabled && opt.selected && self.append(elm.name, opt.value)\r\n          })\r\n        } else if (elm.type === 'checkbox' || elm.type === 'radio') {\r\n          if (elm.checked) self.append(elm.name, elm.value)\r\n        } else {\r\n          const value = elm.type === 'textarea' ? normalizeLinefeeds(elm.value) : elm.value\r\n          self.append(elm.name, value)\r\n        }\r\n      })\r\n    }\r\n\r\n    /**\r\n     * Append a field\r\n     *\r\n     * @param   {string}           name      field name\r\n     * @param   {string|Blob|File} value     string / blob / file\r\n     * @param   {string=}          filename  filename to use with blob\r\n     * @return  {undefined}\r\n     */\r\n    append (name, value, filename) {\r\n      ensureArgs(arguments, 2)\r\n      ;[name, value, filename] = normalizeArgs.apply(null, arguments)\r\n      const map = this._data\r\n\r\n      if (!map[name]) map[name] = []\r\n\r\n      map[name].push([value, filename])\r\n    }\r\n\r\n    /**\r\n     * Delete all fields values given name\r\n     *\r\n     * @param   {string}  name  Field name\r\n     * @return  {undefined}\r\n     */\r\n    delete (name) {\r\n      ensureArgs(arguments, 1)\r\n      delete this._data[String(name)]\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields as [name, value]\r\n     *\r\n     * @return {Iterator}\r\n     */\r\n    * entries () {\r\n      const map = this._data\r\n\r\n      for (const name in map) {\r\n        for (const value of map[name]) {\r\n          yield [name, normalizeValue(value)]\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields\r\n     *\r\n     * @param   {Function}  callback  Executed for each item with parameters (value, name, thisArg)\r\n     * @param   {Object=}   thisArg   `this` context for callback function\r\n     * @return  {undefined}\r\n     */\r\n    forEach (callback, thisArg) {\r\n      ensureArgs(arguments, 1)\r\n      for (const [name, value] of this) {\r\n        callback.call(thisArg, value, name, this)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return first field value given name\r\n     * or null if non existen\r\n     *\r\n     * @param   {string}  name      Field name\r\n     * @return  {string|File|null}  value Fields value\r\n     */\r\n    get (name) {\r\n      ensureArgs(arguments, 1)\r\n      const map = this._data\r\n      name = String(name)\r\n      return map[name] ? normalizeValue(map[name][0]) : null\r\n    }\r\n\r\n    /**\r\n     * Return all fields values given name\r\n     *\r\n     * @param   {string}  name  Fields name\r\n     * @return  {Array}         [{String|File}]\r\n     */\r\n    getAll (name) {\r\n      ensureArgs(arguments, 1)\r\n      return (this._data[String(name)] || []).map(normalizeValue)\r\n    }\r\n\r\n    /**\r\n     * Check for field name existence\r\n     *\r\n     * @param   {string}   name  Field name\r\n     * @return  {boolean}\r\n     */\r\n    has (name) {\r\n      ensureArgs(arguments, 1)\r\n      return String(name) in this._data\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields name\r\n     *\r\n     * @return {Iterator}\r\n     */\r\n    * keys () {\r\n      for (const [name] of this) {\r\n        yield name\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Overwrite all values given name\r\n     *\r\n     * @param   {string}    name      Filed name\r\n     * @param   {string}    value     Field value\r\n     * @param   {string=}   filename  Filename (optional)\r\n     * @return  {undefined}\r\n     */\r\n    set (name, value, filename) {\r\n      ensureArgs(arguments, 2)\r\n      const args = normalizeArgs.apply(null, arguments)\r\n      this._data[args[0]] = [[args[1], args[2]]]\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields\r\n     *\r\n     * @return {Iterator}\r\n     */\r\n    * values () {\r\n      for (const [, value] of this) {\r\n        yield value\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return a native (perhaps degraded) FormData with only a `append` method\r\n     * Can throw if it's not supported\r\n     *\r\n     * @return {FormData}\r\n     */\r\n    ['_asNative'] () {\r\n      const fd = new _FormData()\r\n\r\n      for (const [name, value] of this) {\r\n        fd.append(name, value)\r\n      }\r\n\r\n      return fd\r\n    }\r\n\r\n    /**\r\n     * [_blob description]\r\n     *\r\n     * @return {Blob} [description]\r\n     */\r\n    ['_blob'] () {\r\n      const boundary = '----formdata-polyfill-' + Math.random()\r\n      const chunks = []\r\n\r\n      for (const [name, value] of this) {\r\n        chunks.push(`--${boundary}\\r\\n`)\r\n\r\n        if (value instanceof Blob) {\r\n          chunks.push(\r\n            `Content-Disposition: form-data; name=\"${name}\"; filename=\"${value.name}\"\\r\\n`,\r\n            `Content-Type: ${value.type || 'application/octet-stream'}\\r\\n\\r\\n`,\r\n            value,\r\n            '\\r\\n'\r\n          )\r\n        } else {\r\n          chunks.push(\r\n            `Content-Disposition: form-data; name=\"${name}\"\\r\\n\\r\\n${value}\\r\\n`\r\n          )\r\n        }\r\n      }\r\n\r\n      chunks.push(`--${boundary}--`)\r\n\r\n      return new Blob(chunks, {\r\n        type: 'multipart/form-data; boundary=' + boundary\r\n      })\r\n    }\r\n\r\n    /**\r\n     * The class itself is iterable\r\n     * alias for formdata.entries()\r\n     *\r\n     * @return  {Iterator}\r\n     */\r\n    [Symbol.iterator] () {\r\n      return this.entries()\r\n    }\r\n\r\n    /**\r\n     * Create the default string description.\r\n     *\r\n     * @return  {string} [object FormData]\r\n     */\r\n    toString () {\r\n      return '[object FormData]'\r\n    }\r\n  }\r\n\r\n  if (stringTag) {\r\n    /**\r\n     * Create the default string description.\r\n     * It is accessed internally by the Object.prototype.toString().\r\n     */\r\n    FormDataPolyfill.prototype[stringTag] = 'FormData'\r\n  }\r\n\r\n  // Patch xhr's send method to call _blob transparently\r\n  if (_send) {\r\n    const setRequestHeader = global.XMLHttpRequest.prototype.setRequestHeader\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {string} value\r\n     * @returns {undefined}\r\n     * @see https://xhr.spec.whatwg.org/#dom-xmlhttprequest-setrequestheader\r\n     */\r\n    global.XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\r\n      setRequestHeader.call(this, name, value)\r\n      if (name.toLowerCase() === 'content-type') this._hasContentType = true\r\n    }\r\n\r\n    /**\r\n     * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=} data\r\n     * @return {undefined}\r\n     * @see https://xhr.spec.whatwg.org/#the-send()-method\r\n     */\r\n    global.XMLHttpRequest.prototype.send = function (data) {\r\n      // need to patch send b/c old IE don't send blob's type (#44)\r\n      if (data instanceof FormDataPolyfill) {\r\n        const blob = data['_blob']()\r\n        if (!this._hasContentType) this.setRequestHeader('Content-Type', blob.type)\r\n        _send.call(this, blob)\r\n      } else {\r\n        _send.call(this, data)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Patch fetch's function to call _blob transparently\r\n  if (_fetch) {\r\n    const _fetch = global.fetch\r\n\r\n    global.fetch = function (input, init) {\r\n      if (init && init.body && init.body instanceof FormDataPolyfill) {\r\n        init.body = init.body['_blob']()\r\n      }\r\n\r\n      return _fetch.call(this, input, init)\r\n    }\r\n  }\r\n\r\n  // Patch navigator.sendBeacon to use native FormData\r\n  if (_sendBeacon) {\r\n    global.navigator.sendBeacon = function (url, data) {\r\n      if (data instanceof FormDataPolyfill) {\r\n        data = data['_asNative']()\r\n      }\r\n      return _sendBeacon.call(this, url, data)\r\n    }\r\n  }\r\n\r\n  global['FormData'] = FormDataPolyfill\r\n}\r\n","import $ from \"jquery\";\r\n\r\nexport default function MultiPage(formid) {\r\n\tvar self = this;\r\n\tthis.$form = null;\r\n\tthis.formID = formid;\r\n\tthis.pageIndex = 1;\r\n\tthis.maxPageIndex = 0;\r\n\tthis.minPageIndex = 0;\r\n\tthis.pageIndexes = [];\r\n\tthis.$pages = null;\r\n\tthis.$collapses = null;\r\n\tthis.isTab = false; // Is tabs\r\n\tthis.isCollapse = false; // Is collapses (accordion)\r\n\tthis.lastPageSubmit = false; // Enable submit button for the last page only\r\n\tthis.hideDisabledButton = false; // Hide disabled submit button\r\n\tthis.hideInactivePages = false; // Hide inactive pages\r\n\tthis.lockTabs = false; // Set inactive tabs as disabled\r\n\tthis.hideTabs = false; // Hide all tabs\r\n\tthis.showPagerTop = false; // Show pager at top\r\n\tthis.showPagerBottom = false; // Show pager at bottom\r\n\tthis.pagerTemplate = '<nav><ul class=\"pagination\"><li class=\"page-item previous ew-prev\"><a href=\"#\" class=\"page-link\"><span class=\"icon-prev\"></span> {Prev}</a></li><li class=\"page-item next ew-next\"><a href=\"#\" class=\"page-link\">{Next} <span class=\"icon-next\"></span></a></li></ul></nav>'; // Pager template\r\n\r\n\t// \"show\" handler (for disabled tabs)\r\n\tvar _show = function(e) {\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\t// Set properties\r\n\tvar _properties = [\"lastPageSubmit\", \"hideDisabledButton\", \"hideInactivePages\", \"lockTabs\",\r\n\t\t\"hideTabs\", \"showPagerTop\", \"showPagerBottom\", \"pagerTemplate\"];\r\n\r\n\tthis.set = function() {\r\n\t\tif (arguments.length == 1 && $.isObject(arguments[0])) {\r\n\t\t\tvar obj = arguments[0];\r\n\t\t\tfor (var i in obj) {\r\n\t\t\t\tvar p = i[0].toLowerCase() + i.substr(1); // Camel case\r\n\t\t\t\tif (_properties.includes(p))\r\n\t\t\t\t\tthis[p] = obj[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// DOM loaded\r\n\tthis.init = function() {\r\n\t\tvar tpl = this.pagerTemplate.replace(/\\{prev\\}/i, ew.language.phrase(\"Prev\")).replace(/\\{next\\}/i, ew.language.phrase(\"Next\"));\r\n\t\tif (this.isTab) {\r\n\t\t\tif (this.showPagerTop)\r\n\t\t\t\tthis.$pages.closest(\".tabbable, .ew-nav-tabs\").before(tpl);\r\n\t\t\tif (this.showPagerBottom)\r\n\t\t\t\tthis.$pages.closest(\".tabbable, .ew-nav-tabs\").after(tpl);\r\n\t\t\tthis.$form.find(\".ew-prev\").click(function(e) {\r\n\t\t\t\tself.$pages.off(\"show.bs.tab\", _show).filter(\".active\").parent()\r\n\t\t\t\t\t.prev(\":has([data-toggle=tab]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.find(\"[data-toggle=tab]\").toggleClass(\"disabled d-none\", false).click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tthis.$form.find(\".ew-next\").click(function(e) {\r\n\t\t\t\tself.$pages.off(\"show.bs.tab\", _show).filter(\".active\").parent()\r\n\t\t\t\t\t.next(\":has([data-toggle=tab]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.find(\"[data-toggle=tab]\").toggleClass(\"disabled d-none\", false).click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tif (this.hideTabs)\r\n\t\t\t\tthis.$form.find(\".ew-multi-page > .tabbable > .nav-tabs, .ew-multi-page > .ew-nav-tabs > .nav-tabs\").hide();\r\n\t\t} else if (this.isCollapse) {\r\n\t\t\tif (this.showPagerTop)\r\n\t\t\t\tthis.$collapses.closest(\".ew-accordion\").before(tpl);\r\n\t\t\tif (this.showPagerBottom)\r\n\t\t\t\tthis.$collapses.closest(\".ew-accordion\").after(tpl);\r\n\t\t\tthis.$form.find(\".ew-prev\").click(function(e) {\r\n\t\t\t\tself.$pages.closest(\".card\").filter(\":has(.collapse.show)\")\r\n\t\t\t\t\t.prev(\":has([data-toggle=collapse]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.toggleClass(\"disabled d-none\", false)\r\n\t\t\t\t\t.find(\"[data-toggle=collapse]\").click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tthis.$form.find(\".ew-next\").click(function(e) {\r\n\t\t\t\tself.$pages.closest(\".card\").filter(\":has(.collapse.show)\")\r\n\t\t\t\t\t.next(\":has([data-toggle=collapse]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.toggleClass(\"disabled d-none\", false)\r\n\t\t\t\t\t.find(\"[data-toggle=collapse]\").click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.pageShow();\r\n\t}\r\n\r\n\t// Page show\r\n\tthis.pageShow = function() {\r\n\t\tif (this.isTab) {\r\n\t\t\tif (this.lockTabs)\r\n\t\t\t\tthis.$pages.on(\"show.bs.tab\", _show);\r\n\t\t\tthis.$pages.each(function() {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif (self.hideInactivePages)\r\n\t\t\t\t\t$this.toggleClass(\"d-none\", !$this.hasClass(\"active\"));\r\n\t\t\t\tif (self.lockTabs)\r\n\t\t\t\t\t$this.toggleClass(\"disabled\", !$this.hasClass(\"active\"));\r\n\t\t\t});\r\n\t\t} else if (this.isCollapse) {\r\n\t\t\tthis.$pages.closest(\".card\").each(function() {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif (self.hideInactivePages)\r\n\t\t\t\t\t$this.toggleClass(\"d-none\", !$this.find(\".collapse.show\")[0]);\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar disabled = this.lastPageSubmit && this.pageIndex != this.maxPageIndex;\r\n\t\tvar $btn = this.$form.closest(\".content, .modal-content\").find(\"#btn-action, button.ew-submit\").prop(\"disabled\", disabled).toggle(!this.hideDisabledButton || !disabled);\r\n\t\t$(\".ew-captcha\").toggle($btn.is(\":visible:not(:disabled)\")); // Re-captcha uses class \"disabled\", not \"disabled\" property.\r\n\t\tdisabled = this.pageIndex <= this.minPageIndex;\r\n\t\tthis.$form.find(\".ew-prev\").toggleClass(\"disabled\", disabled);\r\n\t\tdisabled = this.pageIndex >= this.maxPageIndex;\r\n\t\tthis.$form.find(\".ew-next\").toggleClass(\"disabled\", disabled);\r\n\t}\r\n\r\n\t// Go to page by index\r\n\tthis.gotoPage = function(i) {\r\n\t\tif (i <= 0 || i < this.minPageIndex || i > this.maxPageIndex)\r\n\t\t\treturn;\r\n\t\tif (this.pageIndex != i) {\r\n\t\t\tvar $page = this.$pages.eq(i - 1);\r\n\t\t\tif (this.isTab) {\r\n\t\t\t\tif ($page.is(\":not(.d-none):not(.disabled)\"))\r\n\t\t\t\t\t$page.click();\r\n\t\t\t\telse\r\n\t\t\t\t\t$page.parent().next(\":has([data-toggle=tab]):not(.d-none):not(.disabled)\")\r\n\t\t\t\t\t\t.find(\"[data-toggle=tab]\").toggleClass(\"disabled\", false).click();\r\n\t\t\t} else if (this.isCollapse) {\r\n\t\t\t\tvar $p = $page.closest(\".card\");\r\n\t\t\t\tif ($p.is(\":not(.d-none)\"))\r\n\t\t\t\t\t$page.click();\r\n\t\t\t\telse\r\n\t\t\t\t\t$p.next(\":has([data-toggle=collapse]):not(.d-none)\").find(\"[data-toggle=collapse]\").click();\r\n\t\t\t}\r\n\t\t\tthis.pageIndex = i;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.gotoPageByIndex = this.gotoPage;\r\n\r\n\t// Go to page by element\r\n\tthis.gotoPageByElement = function(el) {\r\n\t\tthis.gotoPage(parseInt($(el).data(\"page\"), 10) || -1);\r\n\t}\r\n\r\n\t// Go to page by element's id or name or data-field attribute\r\n\tthis.gotoPageByElementId = function(id) {\r\n\t\tvar $el = this.$form.find(\"[data-page]\").filter(\"[id='\" + id + \"'],[name='\" + id + \"'],[data-field='\" + id + \"']\");\r\n\t\tthis.gotoPageByElement($el);\r\n\t}\r\n\r\n\t// Toggle page\r\n\tthis.togglePage = function(i, show) {\r\n\t\tif (this.isTab) {\r\n\t\t\tthis.$pages.eq(i - 1).toggleClass(\"d-none\", !show);\r\n\t\t} else if (this.isCollapse) {\r\n\t\t\tthis.$pages.eq(i - 1).closest(\".card\").toggle(\"d-none\", !show);\r\n\t\t}\r\n\t}\r\n\r\n\t// Render\r\n\tthis.render = function() {\r\n\t\tthis.$form = $(\"#\" + formid);\r\n\t\tthis.pageIndexes = this.$form.find(\"[data-page]\").map(function() {\r\n\t\t\tvar index = parseInt($(this).data(\"page\"), 10);\r\n\t\t\treturn (index > 0) ? index : null;\r\n\t\t}).get();\r\n\t\tthis.pageIndexes.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t});\r\n\t\tthis.minPageIndex = this.pageIndexes[0];\r\n\t\tthis.maxPageIndex = this.pageIndexes[this.pageIndexes.length - 1];\r\n\t\tvar $tabs = this.$form.find(\"[data-toggle=tab]\");\r\n\t\tif ($tabs[0]) {\r\n\t\t\tthis.$pages = $tabs;\r\n\t\t\tthis.isTab = true;\r\n\t\t\t$tabs.on(\"shown.bs.tab\", function(e) {\r\n\t\t\t\tself.pageIndex = $tabs.index(e.target) + 1;\r\n\t\t\t\tself.pageShow();\r\n\t\t\t\t$($(this).attr(\"href\")).find(\".ew-google-map\").each(function() {\r\n\t\t\t\t\tvar m = ew.googleMaps[this.id];\r\n\t\t\t\t\tif (m && m[\"map\"]) {\r\n\t\t\t\t\t\tgoogle.maps.event.trigger(m[\"map\"], \"resize\");\r\n\t\t\t\t\t\tm[\"map\"].setCenter(m[\"latlng\"]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.pageIndex = $tabs.index($tabs.parent(\".active\")) + 1;\r\n\t\t} else {\r\n\t\t\tthis.$collapses = this.$form.find(\"[data-toggle=collapse]\");\r\n\t\t\tif (this.$collapses[0]) {\r\n\t\t\t\tthis.$pages = this.$collapses;\r\n\t\t\t\tthis.isCollapse = true;\r\n\t\t\t\tvar $bodies = this.$collapses.closest(\".card-header\").next();\r\n\t\t\t\t$bodies.on(\"shown.bs.collapse\", function(e) {\r\n\t\t\t\t\tself.pageIndex = $bodies.index(e.target) + 1;\r\n\t\t\t\t\tself.pageShow();\r\n\t\t\t\t\t$(this).find(\".ew-google-map\").each(function() {\r\n\t\t\t\t\t\tvar m = ew.googleMaps[this.id];\r\n\t\t\t\t\t\tif (m && m[\"map\"]) {\r\n\t\t\t\t\t\t\tgoogle.maps.event.trigger(m[\"map\"], \"resize\");\r\n\t\t\t\t\t\t\tm[\"map\"].setCenter(m[\"latlng\"]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tthis.pageIndex = $bodies.index($bodies.hasClass(\"show\")) + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$(function() {\r\n\t\t\tself.init();\r\n\t\t});\r\n\t}\r\n}","import $ from 'jquery';\r\n\r\n/**\r\n * User level ID validator\r\n */\r\nexport function userLevelId(el) {\r\n    if (el && !ew.checkInteger(el.value))\r\n        return { userLevelId: ew.language.phrase(\"UserLevelIDInteger\") };\r\n    var level = parseInt(el.value, 10);\r\n    if (level < 1)\r\n        return { userLevelId: ew.language.phrase(\"UserLevelIDIncorrect\") };\r\n    return false;\r\n}\r\n\r\n/**\r\n * User level name validator\r\n * @param {string} id User ID Field input element ID\r\n */\r\nexport function userLevelName(id) {\r\n    return function(el) {\r\n        let elId = document.getElementById(\"x_\" + id);\r\n        if (elId && el) {\r\n            let name = el.value.trim(),\r\n                level = parseInt(elId.value.trim(), 10);\r\n            if (level === 0 && !ew.sameText(name, \"Default\")) {\r\n                return { userLevelName: ew.language.phrase(\"UserLevelDefaultName\") };\r\n            } else if (level === -1 && !ew.sameText(name, \"Administrator\")) {\r\n                return { userLevelName: ew.language.phrase(\"UserLevelAdministratorName\") };\r\n            } else if (level === -2 && !ew.sameText(name, \"Anonymous\")) {\r\n                return { userLevelName: ew.language.phrase(\"UserLevelAnonymousName\") };\r\n            } else if (level > 0 && [\"anonymous\", \"administrator\", \"default\"].includes(name.toLowerCase())) {\r\n                return { userLevelName: ew.language.phrase(\"UserLevelNameIncorrect\") };\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n}\r\n\r\n/**\r\n * Required validator\r\n */\r\nexport function required(fieldName) {\r\n    return function(el) {\r\n        if (el && !ew.hasValue(el)) {\r\n            return { required: ew.language.phrase(\"EnterRequiredField\").replace(\"%s\", fieldName) };\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * File required validator\r\n */\r\nexport function fileRequired(fieldName) {\r\n    return function(el) {\r\n        let elFn = document.getElementById(\"fn_\" + el.id);\r\n        if (elFn && !ew.hasValue(elFn)) {\r\n            return { fileRequired: ew.language.phrase(\"EnterRequiredField\").replace(\"%s\", fieldName) };\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Mismatch password validator\r\n */\r\nexport function mismatchPassword(el) {\r\n    let id;\r\n    if (el.id.startsWith(\"c_\")) // Confirm Password field in Register page\r\n        id = el.id.replace(/^c_/, \"x_\");\r\n    else if (el.id == \"cpwd\") // Change Password page\r\n        id = \"npwd\";\r\n    let elPwd = document.getElementById(id);\r\n    if (el.value !== elPwd.value) {\r\n        return { mismatchPassword: ew.language.phrase(\"MismatchPassword\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Between validator\r\n */\r\nexport function between(el) {\r\n    let x, z;\r\n    if (el.id.startsWith(\"y_\")) {\r\n        x = document.getElementById(el.id.replace(/^y_/, \"x_\"));\r\n        z = document.getElementById(el.id.replace(/^y_/, \"z_\"));\r\n    }\r\n    if (ew.hasValue(x) && $(z).val() == \"BETWEEN\" && !ew.hasValue(el)) {\r\n        return { between: ew.language.phrase(\"EnterValue2\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Password strength validator\r\n */\r\nexport function passwordStrength(el) {\r\n    let $el = $(el);\r\n    if ($el.hasClass(\"ew-password-strength\") && !$el.data(\"validated\")) {\r\n        return { passwordStrength: ew.language.phrase(\"PasswordTooSimple\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * User name validator\r\n */\r\nexport function username(raw) {\r\n    return function(el) {\r\n        if (!raw && el.value.match(new RegExp('[' + ew.escapeRegExChars(ew.INVALID_USERNAME_CHARACTERS) + ']')))\r\n            return { username: ew.language.phrase(\"InvalidUsernameChars\") };\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Password validator\r\n */\r\nexport function password(raw) {\r\n    return function(el) {\r\n        if (!raw && !ew.ENCRYPTED_PASSWORD && el.value.match(new RegExp('[' + ew.escapeRegExChars(ew.INVALID_PASSWORD_CHARACTERS) + ']')))\r\n            return { password: ew.language.phrase(\"InvalidPasswordChars\") };\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Email validator\r\n */\r\nexport function email(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkEmail(value)) {\r\n        return { email: ew.language.phrase(\"IncorrectEmail\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Emails validator\r\n */\r\nexport function emails(cnt, err) {\r\n    return function(el) {\r\n        let value = ew.getValue(el);\r\n        if (!ew.checkEmails(value, cnt)) {\r\n            return { email: err };\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * DateTime validator\r\n * @param {number} dateFormat DateTime format ID\r\n */\r\nexport function datetime(dateFormat) {\r\n    return function(el) {\r\n        let fn,\r\n            phraseId,\r\n            value = ew.getValue(el),\r\n            newSubStr = ew.DATE_SEPARATOR;\r\n        if ([12, 15, 115].includes(dateFormat)) {\r\n            fn = ew.checkShortDate;\r\n            phraseId = \"IncorrectShortDateYMD\";\r\n        } else if ([5, 9, 109].includes(dateFormat)) {\r\n            fn = ew.checkDate;\r\n            phraseId = \"IncorrectDateYMD\";\r\n        } else if ([14, 17, 117].includes(dateFormat)) {\r\n            fn = ew.checkShortEuroDate;\r\n            phraseId = \"IncorrectShortDateDMY\";\r\n        } else if ([7, 11, 111].includes(dateFormat)) {\r\n            fn = ew.checkEuroDate;\r\n            phraseId = \"IncorrectDateDMY\";\r\n        } else if ([13, 16, 116].includes(dateFormat)) {\r\n            fn = ew.checkShortUSDate;\r\n            phraseId = \"IncorrectShortDateMDY\";\r\n        } else if ([6, 10, 110].includes(dateFormat)) {\r\n            fn = ew.checkUSDate;\r\n            phraseId = \"IncorrectDateMDY\";\r\n        } else { // Default date format\r\n            fn = ew.checkDateDef;\r\n            phraseId = \"IncorrectDate\";\r\n            newSubStr = ew.DATE_FORMAT;\r\n        }\r\n        if (fn && !fn(value)) {\r\n            return { datetime: ew.language.phrase(phraseId).replace(\"%s\", newSubStr) };\r\n        }\r\n       return false;\r\n    };\r\n}\r\n\r\n/**\r\n * Time validator\r\n */\r\nexport function time(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkTime(value)) {\r\n        return { time: ew.language.phrase(\"IncorrectTime\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Float validator\r\n */\r\nexport function float(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkNumber(value)) {\r\n        return { time: ew.language.phrase(\"IncorrectFloat\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Range validator\r\n * @param {number} min Min value\r\n * @param {number} max Max value\r\n */\r\nexport function range(min, max) {\r\n    return function(el) {\r\n        let value = ew.getValue(el);\r\n        if (!ew.checkRange(value, min, max)) {\r\n            return { range: ew.language.phrase(\"IncorrectRange\").replace(\"%1\", min).replace(\"%2\", max) };\r\n        }\r\n       return false;\r\n    };\r\n}\r\n\r\n/**\r\n * Integer validator\r\n */\r\nexport function integer(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkInteger(value)) {\r\n        return { integer: ew.language.phrase(\"IncorrectInteger\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * US phone validator\r\n */\r\nexport function phone(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkPhone(value)) {\r\n        return { phone: ew.language.phrase(\"IncorrectPhone\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * US ZIP validator\r\n */\r\nexport function zip(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkZip(value)) {\r\n        return { zip: ew.language.phrase(\"IncorrectZip\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Credit card validator\r\n */\r\nexport function creditCard(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkCreditCard(value)) {\r\n        return { creditCard: ew.language.phrase(\"IncorrectCreditCard\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * US SSN validator\r\n */\r\nexport function ssn(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkSsn(value)) {\r\n        return { ssn: ew.language.phrase(\"IncorrectSSN\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * GUID validator\r\n */\r\nexport function guid(el) {\r\n    let value = ew.getValue(el);\r\n    if (!ew.checkGuid(value)) {\r\n        return { guid: ew.language.phrase(\"IncorrectGUID\") };\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Regular expression validator\r\n * @param {string} pattern Regular expression pattern\r\n */\r\nexport function regex(pattern) {\r\n    return function(el) {\r\n        let value = ew.getValue(el);\r\n        if (!ew.checkByRegEx(value, pattern)) {\r\n            return { regex: ew.language.phrase(\"IncorrectField\") };\r\n        }\r\n       return false;\r\n    };\r\n}\r\n\r\n/**\r\n  * Custom validator\r\n  * @param {*} fn Function(value, ...args)\r\n  * @param  {...any} args Additional arguments for the function \r\n  */\r\nexport function custom(fn, ...args) {\r\n    return function(el) {\r\n        if (typeof fn == \"function\") {\r\n            let value = ew.getValue(el);\r\n            if (fn(value, ...args))\r\n                return { custom: ew.language.phrase(\"IncorrectField\") };\r\n        }\r\n        return false;\r\n    };\r\n}\r\n\r\n/**\r\n * Captcha validator\r\n */\r\nexport function captcha(el) {\r\n    if (el && !ew.hasValue(el)) {\r\n        return { captcha: ew.language.phrase(\"EnterValidateCode\") };\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * reCaptcha validator\r\n * @param {number} id reCaptcha ID\r\n */\r\nexport function recaptcha(el) {\r\n    if (el && !ew.hasValue(el) && grecaptcha?.getResponse(el.dataset.id) === \"\") {\r\n        return { recaptcha: ew.language.phrase(\"ClickReCaptcha\") };\r\n    }\r\n    return false;\r\n}","import $ from 'jquery';\r\n\r\n// Form class\r\nexport default function FormBase(id, pageId) {\r\n    var self = this;\r\n\r\n    this._initiated = false;\r\n    this.id = id; // Same ID as the form\r\n    this.pageId = pageId;\r\n    this.$element = null; // jQuery object of the form or div\r\n    this.htmlForm = null; // HTML form element\r\n    this.initSearchPanel = false; // Expanded by default\r\n    this.modified = false;\r\n    this.validateRequired = true;\r\n    this.validate = null;\r\n    this.emptyRow = null; // Check empty row\r\n    this.multiPage = null; // Multi-page\r\n    this.autoSuggests = {}; // AutoSuggests\r\n    this.lists = {}; // Dynamic selection lists\r\n\r\n    // Disable form\r\n    this.disableForm = function() {\r\n        var form = this.getForm();\r\n        $(form).find(\":submit:not(.dropdown-toggle)\").prop(\"disabled\", true).addClass(\"disabled\");\r\n    }\r\n\r\n    // Enable form\r\n    this.enableForm = function() {\r\n        var form = this.getForm(),\r\n            $form = $(form);\r\n        $form.find(\".ew-disabled-element\").removeClass(\"ew-disabled-element\").prop(\"disabled\", false);\r\n        $form.find(\".ew-enabled-element\").removeClass(\"ew-enabled-element\").prop(\"disabled\", true);\r\n        $form.find(\":submit:not(.dropdown-toggle)\").prop(\"disabled\", false).removeClass(\"disabled\");\r\n    }\r\n\r\n    // Append hidden element with form name\r\n    this.appendHidden = function(el) {\r\n        var form = this.getForm(), $form = $(form), $dp = $(el).closest(\".ew-form\"), name = $dp.attr(\"id\") + \"$\" + el.name;\r\n        if ($form.find(\"input:hidden[name='\" + name + \"']\")[0]) // Already appended\r\n            return;\r\n        var ar = $dp.find('[name=\"' + el.name + '\"]').serializeArray();\r\n        if (ar.length) {\r\n            ar.forEach(function(o, i) {\r\n                $('<input type=\"hidden\" name=\"' + name + '\">').val(o.value).appendTo($form);\r\n            });\r\n        } else {\r\n            $('<input type=\"hidden\" name=\"' + name + '\">').val(\"\").appendTo($form);\r\n        }\r\n    }\r\n\r\n    // Can submit\r\n    this.canSubmit = function() {\r\n        var form = this.getForm(),\r\n            $form = $(form);\r\n        this.disableForm();\r\n        this.updateTextArea();\r\n        if (!this.validate || this.validate() && !$form.find(\".is-invalid\")[0]) {\r\n            $form.find(\"input[name^=sv_], input[name^=p_], .ew-template input\") // Do not submit these values\r\n                .prop(\"disabled\", true)\r\n                .addClass(\"ew-disabled-element\");\r\n            $form.find(\"[data-readonly=1][disabled]\")\r\n                .prop(\"disabled\", false)\r\n                .addClass(\"ew-enabled-element\"); // Submit readonly values\r\n            var $dps = $($form.find(\"input[name='detailpage']\").map(function(i, el) {\r\n                return $form.find(\"#\" + el.value).get();\r\n            }));\r\n            if ($dps.length > 1) { // Multiple Master/Detail, check element names\r\n                $dps.each(function(i, dp) {\r\n                    $(dp).find(\":input\").each(function(j, el) {\r\n                        if (/^(fn_)?(x|o)\\d*_/.test(el.name)) {\r\n                            var $els = $dps.not(dp).find(\":input[name='\" + el.name + \"']\");\r\n                            if ($els.length) { // Elements with same name found\r\n                                self.appendHidden(el); // Append element with form name\r\n                                $els.each(function() {\r\n                                    self.appendHidden(this); // Append elements with same name and form name\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            return true;\r\n        } else {\r\n            this.enableForm();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Submit\r\n    this.submit = function(action) {\r\n        var form = this.getForm();\r\n        if (this.canSubmit()) {\r\n            if (action)\r\n                form.action = action;\r\n            form.submit();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Get dynamic selection list by element name or id\r\n    this.getList = function(name) {\r\n        name = name.replace(/^(sv_)?[xy](\\d*|\\$rowindex\\$)_|\\[\\]$/g, \"\"); // Remove element name prefix/suffix\r\n        return this.lists[name];\r\n    }\r\n\r\n    // Compile templates\r\n    this.compileTemplates = function() {\r\n        let lists = Object.values(this.lists);\r\n        for (let list of lists) {\r\n            if (list.template && $.isString(list.template))\r\n                list.template = $.templates(list.template);\r\n        }\r\n    }\r\n\r\n    // Get the HTML form element\r\n    this.getForm = function() {\r\n        if (!this.htmlForm) {\r\n            this.$element = $(\"#\" + this.id);\r\n            if (this.$element.is(\"form\")) { // HTML form\r\n                this.htmlForm = this.$element[0];\r\n            } else if (this.$element.is(\"div\")) { // HTML div => Grid page\r\n                this.htmlForm = this.$element.closest(\"form\")[0];\r\n            }\r\n        }\r\n        return this.htmlForm;\r\n    }\r\n\r\n    // Get form element as single element\r\n    this.getElement = function(name) {\r\n        if (!this.$element)\r\n            this.$element = $(\"#\" + this.id);\r\n        return (name) ? ew.getElement(name, this.$element) : this.$element[0];\r\n    }\r\n\r\n    // Get form element(s) as single element or array of radio/checkbox\r\n    this.getElements = function(name) {\r\n        if (!this.$element)\r\n            this.$element = $(\"#\" + this.id);\r\n        var selector = \"[name='\" + name + \"']\";\r\n        selector = \"input\" + selector + \",select\" + selector + \",textarea\" + selector + \",button\" + selector;\r\n        var $els = this.$element.find(selector);\r\n        return ($els.length == 0) ? null : ($els.length == 1 && $els.is(\":not([type=checkbox]):not([type=radio])\")) ? $els[0] : $els.get();\r\n    }\r\n\r\n    // Update selection lists\r\n    // @param {(null|undefined|number)*} rowindex Row index\r\n    this.updateLists = function(rowindex) {\r\n        if (rowindex === null) // rowindex == $rowindex$ == null\r\n            return;\r\n        if (!$.isNumber(rowindex) && this.pageId == \"grid\")\r\n            return;\r\n        var form = this.getForm(), // Set up $element and htmlForm\r\n            confirm = form.querySelector(\"input#confirm\");\r\n        if (confirm && confirm.value == \"confirm\") { // Confirm page\r\n            ew.removeSpinner();\r\n            return;\r\n        }\r\n        var fixId = (id, multiple) => {\r\n            var t = \"\",\r\n                i = rowindex,\r\n                ar = id.split(\" \");\r\n            if (ar.length > 1) {\r\n                t = ar[0];\r\n                i = \"\";\r\n                id = ar[1];\r\n            }\r\n            let prefix = $.isNumber(i) ? \"x\" + i + \"_\" : \"x_\"; // Add row index\r\n            if (id.startsWith(\"x_\")) // Field element name\r\n                id = id.replace(/^x_/, prefix);\r\n            else // Field var\r\n                id = prefix + id;\r\n            if (multiple && !id.endsWith(\"[]\")) // Add [] if select-multiple\r\n                id += \"[]\";\r\n            return t ? t + \" \" + id : id;\r\n        };\r\n        var selector = Object.entries(this.lists).map(([id, list]) => {\r\n            return \"[name='\" + fixId(id, list.multiple) + \"']\";\r\n        }).join();\r\n        if (!selector || !form.querySelector(selector)) { // Lists not found\r\n            ew.removeSpinner();\r\n            return;\r\n        }\r\n        var actions = [],\r\n            promises = [];\r\n        this.compileTemplates(); // For grid where updateList() called before init()\r\n        for (let [id, list] of Object.entries(this.lists)) {\r\n            let parents = list.parentFields.slice().map(parent => fixId(parent)), // Clone and fix index\r\n                ajax = list.ajax;\r\n            id = fixId(id, list.multiple);\r\n            if ($.isBoolean(ajax)) { // Ajax\r\n                let pvalues = parents.map(parent => ew.getOptionValues(parent, form)); // Save the initial values of the parent lists\r\n                actions.push([id, pvalues, ajax, false]);\r\n            } else { // Non-Ajax\r\n                ew.updateOptions.call(this, id, parents, null, false);\r\n            }\r\n        }\r\n        // Update the Ajax lists\r\n        for (var i = 0; i < actions.length; i++) {\r\n            promises.push(new Promise(function(resolve, reject) {\r\n                setTimeout(function() {\r\n                    resolve(ew.updateOptions.apply(self, actions.shift()));\r\n                }, ew.AJAX_DELAY * i); // Delay a little in case of large number of lists\r\n            }));\r\n        }\r\n        Promise.all(promises).then(function() {\r\n            $(document).trigger(\"updatedone\", [{source: self, target: form}]);\r\n        }).catch(function(error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    // Create AutoSuggest\r\n    this.createAutoSuggest = function(settings) {\r\n        var options = Object.assign({\r\n            limit: ew.AUTO_SUGGEST_MAX_ENTRIES,\r\n            form: this\r\n        }, ew.autoSuggestSettings, settings); // Global settings + field specific settings\r\n        self.autoSuggests[settings.id] = new ew.AutoSuggest(options);\r\n    }\r\n\r\n    // Init editors\r\n    this.initEditors = function() {\r\n        var form = this.getForm();\r\n        $(form.elements).filter(\"textarea.editor\").each(function(i, el) {\r\n            var ed = $(el).data(\"editor\");\r\n            if (ed && !ed.active && !ed.name.includes(\"$rowindex$\"))\r\n                ed.create();\r\n        });\r\n    }\r\n\r\n    // Update textareas\r\n    this.updateTextArea = function(name) {\r\n        var form = this.getForm();\r\n        $(form.elements).filter(\"textarea.editor\").each(function(i, el) {\r\n            var ed = $(el).data(\"editor\");\r\n            if (!ed || name && ed.name != name)\r\n                return true; // Continue\r\n            ed.save();\r\n            if (name)\r\n                return false; // Break\r\n        });\r\n    }\r\n\r\n    // Destroy editor(s)\r\n    this.destroyEditor = function(name) {\r\n        var form = this.getForm();\r\n        $(form.elements).filter(\"textarea.editor\").each(function(i, el) {\r\n            var ed = $(el).data(\"editor\");\r\n            if (!ed || name && ed.name != name)\r\n                return true; // Continue\r\n            ed.destroy();\r\n            if (name)\r\n                return false; // Break\r\n        });\r\n    }\r\n\r\n    // Show error message\r\n    this.onError = function(el, msg) {\r\n        return ew.onError(this, el, msg);\r\n    }\r\n\r\n    // Init file upload\r\n    this.initUpload = function() {\r\n        var form = this.getForm();\r\n        $(form.elements).filter(\"input:file:not([name*='$rowindex$'],[id='importfiles'])\").each(function(index) {\r\n            $.later(ew.AJAX_DELAY * index, null, ew.upload, this); // Delay a little in case of large number of upload fields\r\n        });\r\n    }\r\n\r\n    // Set up filters\r\n    this.setupFilters = function(e, filters) {\r\n        var id = this.id, data = this.filterList ? this.filterList.data : null, $sf = $(\".ew-save-filter[data-form=\" + id + \"]\").toggleClass(\"disabled\", !data),\r\n            $df = $(\".ew-delete-filter[data-form=\" + id + \"]\").toggleClass(\"disabled\", !filters.length).toggleClass(\"dropdown-toggle\", !!filters.length),\r\n            $delete = $df.parent(\"li\").toggleClass(\"dropdown-submenu dropdown-hover\", !!filters.length).toggleClass(\"disabled\", !filters.length),\r\n            $save = $sf.parent(\"li\").toggleClass(\"disabled\", !data),\r\n            $btn = $(e.target);\r\n        var saveFilters = function(id, filters) {\r\n            if (ew.SEARCH_FILTER_OPTION == \"Client\") {\r\n                window.localStorage.setItem(id + \"_filters\", JSON.stringify(filters));\r\n            } else if (ew.SEARCH_FILTER_OPTION == \"Server\") {\r\n                var $body = $(\"body\");\r\n                $body.css(\"cursor\", \"wait\");\r\n                $.ajax(ew.currentPage(), {\r\n                    type: \"POST\",\r\n                    dataType: \"json\",\r\n                    data: { \"ajax\": \"savefilters\", \"filters\": JSON.stringify(filters) }\r\n                }).done(function(result) {\r\n                    if (result[0] && result[0].success)\r\n                        self.filterList.filters = filters; // Save filters\r\n                }).always(function() {\r\n                    $body.css(\"cursor\", \"default\");\r\n                });\r\n            }\r\n        }\r\n        $save.off(\"click.ew\").on(\"click.ew\", function(e) { // Save filter\r\n            if ($save.hasClass(\"disabled\"))\r\n                return false;\r\n            ew.prompt(ew.language.phrase(\"EnterFilterName\"), (name) => {\r\n                if (name) {\r\n                    filters.push([name, data]);\r\n                    saveFilters(id, filters);\r\n                }\r\n            }, true);\r\n        }).prevAll().remove();\r\n        $df.next(\"ul.dropdown-menu\").remove();\r\n        if (filters.length) {\r\n            var $submenu = $(\"<ul class='dropdown-menu'></ul>\");\r\n            for (var i in filters) {\r\n                if (!Array.isArray(filters[i]))\r\n                    continue;\r\n                $('<li><a class=\"dropdown-item\" data-index=\"' + i + '\" href=\"#\" onclick=\"return false;\">' + filters[i][0] + '</a></li>').on(\"click\", function(e) { // Delete\r\n                    var i = $(this).find(\"a[data-index]\").data(\"index\");\r\n                    ew.prompt(ew.language.phrase(\"DeleteFilterConfirm\").replace(\"%s\", filters[i][0]), (result) => {\r\n                        if (result) {\r\n                            filters.splice(i, 1);\r\n                            saveFilters(id, filters);\r\n                        }\r\n                    });\r\n                }).appendTo($submenu);\r\n                $('<li><a class=\"dropdown-item ew-filter-list\" data-index=\"' + i + '\" href=\"#\" onclick=\"return false;\">' + filters[i][0] + '</a></li>').insertBefore($save).on(\"click\", function(e) {\r\n                    var i = $(this).find(\"a[data-index]\").data(\"index\");\r\n                    $(\"<form>\").attr({method: \"post\", action: ew.currentPage()})\r\n                        .append($(\"<input type='hidden'>\").attr({name: \"cmd\", value: \"resetfilter\"}),\r\n                            $(\"<input type='hidden'>\").attr({name: ew.TOKEN_NAME_KEY, value: ew.TOKEN_NAME}), // PHP\r\n                            $(\"<input type='hidden'>\").attr({name: ew.ANTIFORGERY_TOKEN_KEY, value: ew.ANTIFORGERY_TOKEN}), // PHP\r\n                            $(\"<input type='hidden'>\").attr({name: \"filter\", value: JSON.stringify(filters[i][1])}))\r\n                        .appendTo(\"body\").submit();\r\n                });\r\n            }\r\n            $(\"<li class='dropdown-divider'></li>\").insertBefore($save);\r\n            $delete.append($submenu);\r\n        }\r\n    }\r\n\r\n    // Init form\r\n    this.init = function() {\r\n        if (this._initiated)\r\n            return;\r\n\r\n        // Filters button\r\n        if (ew.SEARCH_FILTER_OPTION == \"Client\" && window.localStorage || ew.SEARCH_FILTER_OPTION == \"Server\" && ew.IS_LOGGEDIN && !ew.IS_SYS_ADMIN && ew.CURRENT_USER_NAME != \"\") {\r\n            $(\".ew-filter-option.\" + this.id + \" .ew-btn-dropdown\").on(\"show.bs.dropdown\", function(e) {\r\n                var filters = [];\r\n                if (ew.SEARCH_FILTER_OPTION == \"Client\") {\r\n                    var item = window.localStorage.getItem(self.id + \"_filters\");\r\n                    if (item)\r\n                        filters = ew.parseJson(item) || [];\r\n                } else if (ew.SEARCH_FILTER_OPTION == \"Server\")\r\n                    filters = self.filterList && self.filterList.filters ? self.filterList.filters : [];\r\n                var ar = $.grep(filters, function(val) {\r\n                    if (Array.isArray(val) && val.length == 2)\r\n                        return val;\r\n                });\r\n                self.setupFilters(e, ar);\r\n            });\r\n            $(\".ew-filter-option\").show();\r\n        } else {\r\n            $(\".ew-filter-option\").hide();\r\n        }\r\n\r\n        // Check form\r\n        var form = this.getForm(),\r\n            $form = $(form);\r\n        if (!form)\r\n            return;\r\n\r\n        // Compile templates\r\n        this.compileTemplates();\r\n\r\n        // Check if Search panel\r\n        var isSearch = /s(ea)?rch$/.test(this.id);\r\n\r\n        // Search panel\r\n        if (isSearch && this.initSearchPanel && !ew.hasFormData(form))\r\n            $(\"#\" + this.id + \"-search-panel\").removeClass(\"show\");\r\n\r\n        // Search panel toggle\r\n        $(\".ew-search-toggle[data-form=\" + this.id + \"]\").on(\"click.bs.button\", function() {\r\n            $(\"#\" + $(this).data(\"form\") + \"-search-panel\").collapse(\"toggle\");\r\n        });\r\n\r\n        // Hide search operator column\r\n        if (!$(\".ew-table .ew-search-operator\").text().trim())\r\n            $(\".ew-table .ew-search-operator\").parent(\"td\").hide();\r\n\r\n        // Highlight button\r\n        if (isSearch) {\r\n            $(\".ew-highlight[data-form=\" + this.id + \"]\").on(\"click.bs.button\", function() {\r\n                $(\"span.\" + $(this).data(\"name\")).toggleClass(\"ew-highlight-search\");\r\n            });\r\n        }\r\n\r\n        // Search operators\r\n        if (isSearch) { // Search form\r\n            $form.find(\"select[id^=z_]\").each(function() {\r\n                var $this = $(this).change();\r\n                if ($this.val() != \"BETWEEN\")\r\n                    $form.find(\"#w_\" + this.id.substr(2)).change();\r\n            });\r\n        }\r\n\r\n        // Multi-page\r\n        if (this.multiPage)\r\n            this.multiPage.render();\r\n\r\n        // HTML editors\r\n        loadjs.ready([\"editor\"], this.initEditors.bind(this));\r\n\r\n        // Dynamic selection lists\r\n        this.updateLists();\r\n\r\n        // Init file upload\r\n        this.initUpload();\r\n\r\n        // Submit/Cancel\r\n        if (this.$element.is(\"form\")) { // Not Grid page\r\n            // Detail pages\r\n            this.$element.find(\".ew-detail-pages .ew-nav-tabs a[data-toggle=tab]\").on(\"shown.bs.tab\", function(e) {\r\n                var $tab = $(e.target.getAttribute(\"href\")),\r\n                    $panel = $tab.find(\".table-responsive.ew-grid-middle-panel\"),\r\n                    $container = $tab.closest(\".container-fluid\");\r\n                if ($panel.width() >= $container.width())\r\n                    $panel.width($container.width() + \"px\");\r\n                else\r\n                    $panel.width(\"auto\");\r\n            });\r\n            $form.submit(function(e) { // Bind submit event\r\n                return self.submit();\r\n            });\r\n            $form.find(\"[data-field], .ew-priv\").change(function() {\r\n                if (ew.CONFIRM_CANCEL)\r\n                    self.modified = true;\r\n            });\r\n            $form.find(\"#btn-cancel[data-href]\").click(function() { // Cancel\r\n                self.updateTextArea();\r\n                var href = $(this).data(\"href\");\r\n                if (self.modified && ew.hasFormData(form)) {\r\n                    ew.prompt(ew.language.phrase(\"ConfirmCancel\"), (result) => {\r\n                        if (result)\r\n                            window.location = href;\r\n                    });\r\n                } else {\r\n                    window.location = href;\r\n                }\r\n            });\r\n        }\r\n\r\n        this._initiated = true;\r\n\r\n        // Store form object as data\r\n        this.$element.data(\"form\", this);\r\n    }\r\n\r\n    // Add to the global forms object\r\n    ew.forms.add(this);\r\n}","/**\r\n * Class Field\r\n */\r\nexport default class Field {\r\n    name = \"\";\r\n    validators = [];\r\n    _error;\r\n    _element;\r\n    _checkbox;\r\n    _validate = true;\r\n    list;\r\n    invalid;\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {string} fldvar Field variable name\r\n     * @param {Function[]|Function} validators Validators\r\n     * @param {bool} invalid Initial valid status (e.g. server side)\r\n     */\r\n    constructor(fldvar, validators, invalid) {\r\n        this.name = fldvar;\r\n        if (Array.isArray(validators)) {\r\n            for (let validator of validators)\r\n                this.addValidator(validator);\r\n        } else if (typeof validators === \"function\") {\r\n            this.addValidator(validators);\r\n        }\r\n        this.invalid = invalid;\r\n    }\r\n\r\n    /**\r\n     * Add validator\r\n     * @param {Function} validator Validator function\r\n     */\r\n    addValidator(validator) {\r\n        if (typeof validator === \"function\")\r\n            this.validators.push(validator);\r\n    }\r\n\r\n    /**\r\n     * Get error\r\n     * @returns {Object}\r\n     */\r\n    get error() {\r\n        return this._error;\r\n    }\r\n\r\n    /**\r\n     * Add error\r\n     * @param {Object} err Error\r\n     */\r\n    addError(err) {\r\n        if (err) {\r\n            let error = this._error ?? {};\r\n            this._error = { ...error, ...err };\r\n            this.invalid = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear all errors\r\n     */\r\n    clearErrors() {\r\n        this._error = null;\r\n        this.invalid = false;\r\n    }\r\n\r\n    /**\r\n     * Clear all validators\r\n     */\r\n    clearValidators() {\r\n        this.validators = [];\r\n    }\r\n\r\n    /**\r\n     * Get error message\r\n     * @returns {string} HTML\r\n     */\r\n    get errorMessage() {\r\n        if (this._error) {\r\n            return Array.from(Object.values(this._error)).join(\"<br>\");\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    /**\r\n     * Check if the field should be validated\r\n     */\r\n    get shouldValidate() {\r\n        return !this._checkbox || this._checkbox.checked;\r\n    }\r\n\r\n    /**\r\n     * Set form element\r\n     */\r\n    set element(el) {\r\n        this._element = el;\r\n        this._checkbox = this._element?.id?.match(/^[xy]_/) ? document.getElementById(this._element.id.replace(/^[xy]_/, \"u_\")) : null; // Find the checkbox for the field in Update page\r\n    }\r\n\r\n    /**\r\n     * Get form element\r\n     * @returns {HTMLElement|HTMLElement[]}\r\n     */\r\n    get element() {\r\n        return this._element;\r\n    }\r\n\r\n    /**\r\n     * Get field value from form element\r\n     * @returns {string|Array}\r\n     */\r\n    get value() {\r\n        return this._element ? ew.getValue(this._element) : \"\";\r\n    }\r\n\r\n    /**\r\n     * Validate field value\r\n     * @returns {boolean}\r\n     */\r\n    validate() {\r\n        let result = true;\r\n        this.clearErrors(); // Reset error\r\n        if (this._element && this.shouldValidate) {\r\n            if (Array.isArray(this.validators)) {\r\n                for (let validator of this.validators) {\r\n                    let err = validator(this._element);\r\n                    if (err !== false) {\r\n                        this.addError(err);\r\n                        result = false;\r\n                    }\r\n                }\r\n                this.updateFeedback();\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Update the error message to feedback element\r\n     */\r\n    updateFeedback() {\r\n        let err = this.errorMessage;\r\n        if (this._element && err) {\r\n            jQuery(this._element).closest(\"[id^=el_], .form-group\").find(\".invalid-feedback\").html(err);\r\n            ew.setInvalid(this._element);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set focus\r\n     */\r\n    focus() {\r\n        if (this._element)\r\n            ew.setFocus(this._element);\r\n    }\r\n}","import FormBase from \"./FormBase\";\r\nimport Field from \"./Field\";\r\n\r\n/**\r\n * Class Form\r\n */\r\nexport default class Form extends FormBase {\r\n    row = {};\r\n    fields = {};\r\n    rowIndex;\r\n    value;\r\n    _error;\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {string} id Form ID\r\n     * @param {string} pageId Page ID\r\n     */\r\n    constructor(id, pageId) {\r\n        super(id, pageId);\r\n    }\r\n\r\n    /**\r\n     * Add field\r\n     * @param {string} fldvar Field variable name\r\n     * @param {Function[]} validators Validators\r\n     * @param {bool} invalid Invalid\r\n     */\r\n    addField(fldvar, validators, invalid) {\r\n        if (!(fldvar in this.fields))\r\n            this.fields[fldvar] = new Field(fldvar, validators, invalid);\r\n    }\r\n\r\n    /**\r\n     * Get field\r\n     * @param {string} fldvar Field variable name\r\n     * @returns Field\r\n     */\r\n    getField(fldvar) {\r\n        return this.fields[fldvar];\r\n    }\r\n\r\n    /**\r\n     * Add fields by field definitions\r\n     * @param {Array} fields\r\n     */\r\n    addFields(fields) {\r\n        if (Array.isArray(fields)) {\r\n            for (let field of fields) {\r\n                if (Array.isArray(field)) {\r\n                    this.addField.apply(this, field);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add error\r\n     * @param {string} fldvar Field variable name\r\n     * @param {Object} err Error\r\n     */\r\n    addError(fldvar, err) {\r\n        if (err) {\r\n            this._error = this._error ?? {};\r\n            this._error[fldvar] = err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add custom error\r\n     * @param {string} fldvar Field variable name \r\n     * @param {string} msg Error message \r\n     */\r\n    addCustomError(fldvar, msg) {\r\n        if (fldvar in this.fields) {\r\n            let field = this.fields[fldvar],\r\n                err = { custom: msg };\r\n            field.addError(err);\r\n            field.updateFeedback();\r\n            this.addError(fldvar, err);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Get error\r\n     */\r\n    get error() {\r\n        return this._error;\r\n    }\r\n\r\n    /**\r\n     * Set focus to the first field with error\r\n     */\r\n    focus() {\r\n        for (let [fldvar, field] of Object.entries(this.fields)) {\r\n            if (field.invalid || this._error && this._error[fldvar]) {\r\n                field.focus();\r\n                this.makeVisible(field.element);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Make the form visible\r\n     * @param {HTMLElement} el Focused element \r\n     */\r\n    makeVisible(el) {\r\n        if (this.multiPage) { // Multi-page\r\n            this.multiPage.gotoPageByElement(el);\r\n        } else if (this.$element.is(\"div\")) { // Multiple Master/Detail\r\n            let $pane = this.$element.closest(\".tab-pane\");\r\n            if ($pane[0] && !$pane.hasClass(\"active\"))\r\n                $pane.closest(\".tabbable, .ew-nav-tabs\").find(\"a[data-toggle=tab][href='#\" + $pane.attr(\"id\") + \"']\").click();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Validate all fields of the specified row\r\n     * @param {number} rowIndex Row index\r\n     */\r\n    validateFields(rowIndex) {\r\n        this.rowIndex = rowIndex ?? \"\";\r\n        this.row = {};\r\n        this._error = null; // Reset\r\n        let result = true;\r\n        for (let field of Object.values(this.fields)) {\r\n            field.element = this.getElements(`x${this.rowIndex}_${field.name}`); // Set element\r\n            if (!field.element)\r\n                field.element = this.getElements(`x${this.rowIndex}_${field.name}[]`); // Field with []\r\n            if (!field.element)\r\n                field.element = this.getElements(field.name); // Field by name directly (e.g. email form)\r\n            this.row[field.name] = field.value; // Get field value\r\n            if (!field.validate()) { // Invalid field value\r\n                this.addError(field.name, field.error);\r\n                result = false;\r\n            }\r\n        }\r\n        // Save the field values of the row\r\n        if (!this.value) {\r\n            this.value = { ...this.row };\r\n        } else {\r\n            if (!Array.isArray(this.value))\r\n                this.value = [this.value];\r\n            let index = parseInt(rowIndex, 10) || 0;\r\n            index = (index > 1) ? index - 1 : 0;\r\n            this.value[index] = { ...this.row };\r\n        }\r\n        this.focus();\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Set invalid fields of the specified row\r\n     * @param {number} rowIndex Row index\r\n     */\r\n    setInvalid(rowIndex) {\r\n        this.rowIndex = rowIndex ?? \"\";\r\n        for (let field of Object.values(this.fields)) {\r\n            if (!field.invalid)\r\n                continue;\r\n            field.element = this.getElements(`x${this.rowIndex}_${field.name}`); // Set element\r\n            if (!field.element)\r\n                field.element = this.getElements(`x${this.rowIndex}_${field.name}[]`); // Fields with []\r\n            if (!field.element)\r\n                field.element = this.getElements(field.name); // Fields without prefix (e.g. email form)\r\n            ew.setInvalid(field.element);\r\n        }\r\n    }\r\n}","import $ from 'jquery';\r\n\r\n// AjaxLookup class\r\nexport default class AjaxLookup {\r\n    _isAutoSuggest = null;\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} settings Settings\r\n     * @param {string} settings.id - Input element ID\r\n     * @param {string|Form} settings.form - Form of the input element\r\n     * @param {Number} settings.limit - Options per page\r\n     * @param {Object} settings.data - Data submitted by Ajax\r\n     */\r\n    constructor(settings) {\r\n        this.elementId = settings.id; // Id\r\n        this.form = settings.form; // Form\r\n        if ($.isString(this.form)) // Form is string => Form id\r\n            this.form = ew.forms.get(this.form);\r\n        this.element = this.form.getElement(this.elementId); // Actual HTML element\r\n        this.formElement = this.form.getElement(); // HTML form or DIV\r\n        this.list = this.form.getList(this.elementId);\r\n        let m = this.elementId.match(/^[xy](\\d*|\\$rowindex\\$)_/),\r\n            rowindex = m ? m[1] : \"\";\r\n        this.parentFields = this.list.parentFields.slice() // Clone\r\n            .map(pf => (pf.split(\" \").length == 1) ? pf.replace(/^x_/, \"x\" + rowindex + \"_\") : pf); // Parent field in the same table, add row index\r\n        this.limit = settings.limit;\r\n        this.debounce = settings.debounce;\r\n        this.data = settings.data;\r\n        this.recordCount = 0;\r\n    }\r\n\r\n    /**\r\n     * Is AutoSuggest\r\n     */\r\n    get isAutoSuggest() {\r\n        if (this._isAutoSuggest === null)\r\n            this._isAutoSuggest = ew.isAutoSuggest(this.element);\r\n        return this._isAutoSuggest;\r\n    }\r\n\r\n    /**\r\n     * Format display value\r\n     * @param {Array} opt Option\r\n     */\r\n    formatResult(opt) {\r\n        if (this.list.template && !this.isAutoSuggest) {\r\n            return this.list.template.render(opt, ew.jsRenderHelpers);\r\n        } else {\r\n            return ew.displayValue(opt, this.element) || opt[0];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generate request\r\n     */\r\n    generateRequest() {\r\n        var data = Object.assign({}, this.data, {\r\n            name: this.element.name,\r\n            page: this.list.page,\r\n            field: this.list.field,\r\n            ajax: \"autosuggest\",\r\n            language: ew.LANGUAGE_ID\r\n        }, ew.getUserParams(\"#p_\" + this.elementId, this.formElement));\r\n        if (this.parentFields.length > 0) {\r\n            this.parentFields.forEach((pf, i) => {\r\n                let arp = ew.getOptionValues(pf, this.formElement);\r\n                data[\"v\" + (i + 1)] = arp.join(ew.MULTIPLE_OPTION_SEPARATOR);\r\n            });\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Get URL\r\n     */\r\n    getUrl(query, start) {\r\n        let params = new URLSearchParams({\r\n            q: query,\r\n            n: this.limit,\r\n            rnd: ew.random(),\r\n            start: $.isNumber(start) ? start : -1\r\n        });\r\n        return ew.getApiUrl(ew.API_LOOKUP_ACTION, params.toString());\r\n    }\r\n\r\n    /**\r\n     * Prepare URL and data for sending request\r\n     * @param {string} query Search term\r\n     * @param {Number} start Start page\r\n     */\r\n    prepare(query, start) {\r\n        return {\r\n            url: this.getUrl(query, start),\r\n            type: \"POST\",\r\n            dataType: \"json\",\r\n            data: this.generateRequest()\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Transform options (virtual)\r\n     * @param {Object[]} data Data from server\r\n     */\r\n    transform(data) {\r\n        let results = [];\r\n        if (data && data.result == \"OK\") {\r\n            this.recordCount = data.totalRecordCount;\r\n            results = data.records;\r\n        }\r\n        return results;\r\n    }\r\n\r\n}\r\n","/**\r\n * Class selection list option\r\n */\r\nexport default class SelectionListOption {\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor(value, text, selected) {\r\n        this.value = String(value || \"\");\r\n        this.text = String(text || \"\");\r\n        this.selected = !!selected;\r\n    }\r\n\r\n}","import $ from 'jquery';\r\nimport SelectionListOption from './SelectionListOption';\r\nimport AjaxLookup from './AjaxLookup';\r\n\r\n// AutoSuggest class\r\nfunction AutoSuggest(settings) {\r\n    AjaxLookup.call(this, settings); // Extends AjaxLookup\r\n\r\n    var emptyObj = { typeahead: {} }; // Empty Auto-Suggest object\r\n\r\n    if (this.elementId.includes(\"$rowindex$\"))\r\n        return emptyObj;\r\n\r\n    this.input = this.form.getElement(\"sv_\" + this.elementId); // User input\r\n    if (!this.input)\r\n        return emptyObj;\r\n\r\n    var self = this,\r\n        $input = $(this.input),\r\n        $element = $(this.element),\r\n        timer;\r\n\r\n    // Properties\r\n    this.minWidth = settings.minWidth;\r\n    this.maxHeight = settings.maxHeight;\r\n    this.highlight = settings.highlight;\r\n    this.hint = settings.hint;\r\n    this.minLength = settings.minLength;\r\n    this.templates = Object.assign({}, settings.templates); // Clone\r\n    this.trigger = settings.trigger; // For loading more results\r\n    this.delay = settings.delay; // For loading more results\r\n    this.debounce = settings.debounce;\r\n    this.display = settings.display || \"text\";\r\n    this.forceSelection = settings.forceSelect;\r\n    this.$input = $input;\r\n    this.$element = $element;\r\n\r\n    // Save initial option\r\n    if ($input.val() && $element.val())\r\n        this.element.add($element.val(), $input.val(), true);\r\n\r\n    // Set the selected item to the actual field\r\n    this.setValue = function(v) {\r\n        v = v || $input.val();\r\n        let index = this.element.options.findIndex(option => option.text == v);\r\n        if (index < 0) { // Not found in results\r\n            if (this.forceSelection && v) { // Force selection and query not empty => error\r\n                $input.typeahead(\"val\", \"\").attr(\"placeholder\", ew.language.phrase(\"ValueNotExist\")).addClass(\"is-invalid\");\r\n                $element.val(\"\").change();\r\n                return;\r\n            }\r\n        } else { // Found in results\r\n            this.element.options[index].selected = true;\r\n            if (!/s(ea)?rch$/.test(this.formElement.id) || this.forceSelection) // Force selection or not search form\r\n                v = this.element.options[index].value; // Replace the display value by Link Field value\r\n        }\r\n        if (v !== $element.attr(\"value\"))\r\n            $element.attr(\"value\", v).change(); // Set value to the actual field\r\n    };\r\n\r\n    // Transform suggestion\r\n    this.transform = function(data) {\r\n        let results = AjaxLookup.prototype.transform.call(this, data);\r\n        this.element.options = results.map(item => new SelectionListOption(item[0], self.formatResult(item)));\r\n        return this.element.options;\r\n    };\r\n\r\n    // Get suggestions by Ajax\r\n    this.source = function(query, syncResults, asyncResults) {\r\n        if (timer)\r\n            timer.cancel();\r\n        timer = $.later(self.debounce, null, function() {\r\n            self.recordCount = 0; // Reset\r\n            var settings = self.prepare(query);\r\n            $.ajax(settings).done(function(data) {\r\n                asyncResults(self.transform(data));\r\n            });\r\n        });\r\n    };\r\n\r\n    // Get current suggestion count\r\n    this.count = function() {\r\n        return self.typeahead.menu.$node.find(\".tt-suggestion.tt-selectable\").length;\r\n    };\r\n\r\n    // Get more suggestions by Ajax\r\n    this.more = function() {\r\n        var $body = $(\"body\");\r\n        $body.css(\"cursor\", \"wait\");\r\n        var ta = self.typeahead, query = ta.menu.query, dataset = ta.menu.datasets[0];\r\n        var start = self.count();\r\n        var settings = self.prepare(query, start);\r\n        $.ajax(settings).done(function(data) {\r\n            data = self.transform(data);\r\n            dataset._append(query, data);\r\n            ta.menu.$node.find(\".tt-dataset\").scrollTop(dataset.$lastSuggestion.outerHeight() * start);\r\n        }).always(function() {\r\n            $body.css(\"cursor\", \"default\");\r\n        });\r\n    };\r\n\r\n    // Add events\r\n    $input.on(\"typeahead:select\", function(e, d) {\r\n        self.setValue(d[self.display]);\r\n    }).change(function(e) {\r\n        var ta = $input.data(\"tt-typeahead\");\r\n        if (ta && ta.isOpen() && !ta.menu.empty()) {\r\n            var $item = ta.menu.getActiveSelectable();\r\n            if ($item) { // A suggestion is highlighted\r\n                let i = $item.index(),\r\n                    val = self.element.options[i].text;\r\n                $input.typeahead(\"val\", val);\r\n            }\r\n        }\r\n        self.setValue();\r\n    }).blur(function(e) { // \"change\" fires before blur\r\n        var ta = $input.data(\"tt-typeahead\");\r\n        if (ta && ta.isOpen())\r\n            ta.menu.close();\r\n    }).focus(function(e) {\r\n        $input.attr(\"placeholder\", $input.data(\"placeholder\")).removeClass(\"is-invalid\");\r\n    });\r\n\r\n    // Option template (\"suggestion\" template)\r\n    var tpl = self.list.template || self.templates[\"suggestion\"];\r\n    if (tpl && $.isString(tpl))\r\n        tpl = $.templates(tpl);\r\n    if (tpl)\r\n        self.templates[\"suggestion\"] = tpl.render.bind(tpl);\r\n\r\n    // Save\r\n    $element.data(\"autosuggest\", this);\r\n\r\n    // Create Typeahead\r\n    $(function() {\r\n        // Typeahead options and dataset\r\n        var options = {\r\n            highlight: self.highlight,\r\n            minLength: self.minLength,\r\n            hint: self.hint,\r\n            trigger: self.trigger,\r\n            delay: self.delay\r\n        };\r\n        var dataset = {\r\n            name: self.form.id + \"-\" + self.elementId,\r\n            source: self.source,\r\n            templates: self.templates,\r\n            display: self.display,\r\n            limit: self.limit,\r\n            async: true\r\n        };\r\n        var args = [options, dataset];\r\n        // Trigger \"typeahead\" event\r\n        $element.trigger(\"typeahead\", [args]);\r\n        self.limit = dataset.limit;\r\n        // Create Typeahead\r\n        $input.typeahead.apply($input, args);\r\n        $input.on(\"typeahead:rendered\", function() {\r\n            var $node = self.typeahead.menu.$node;\r\n            var $more = $node.find(\".tt-more\").html(ew.language.phrase(\"More\"));\r\n            if (arguments.length > 1 && // Arguments: event, suggestion, suggestion, ...\r\n                self.recordCount > self.count()) {\r\n                $more.one(options.trigger, function(e) {\r\n                    setTimeout(function() {\r\n                        self.more();\r\n                    }, options.delay);\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                });\r\n            } else {\r\n                $more.hide();\r\n            }\r\n        });\r\n        $input.off(\"blur.tt\");\r\n        self.typeahead = $input.data(\"tt-typeahead\");\r\n        var $menu = self.typeahead.menu.$node.css(\"z-index\", 1000);\r\n        if (self.minWidth)\r\n            $menu.css(\"min-width\", self.minWidth);\r\n        var $dataset = $menu.find(\".tt-dataset\");\r\n        var maxHeight = self.maxHeight ||\r\n            (parseInt($dataset.css(\"line-height\"), 10) + 6) * (dataset.limit + 1); // Match .tt-suggestion padding\r\n        $dataset.css({ \"max-height\": maxHeight, \"overflow-y\": \"auto\" });\r\n    });\r\n}\r\n\r\nAutoSuggest.prototype = Object.create(AjaxLookup.prototype);\r\n\r\nexport default AutoSuggest;","import $ from 'jquery';\r\n\r\n/**\r\n * Class Forms\r\n */\r\nexport default class Forms {\r\n    _forms = {};\r\n\r\n    /**\r\n     * Get form by element or id\r\n     * @param {HTMLElement|string} el Element or id\r\n     */\r\n    get(el) {\r\n        let id = ($.isString(el)) ? el : ew.getForm(el).id;\r\n        return this._forms[id];\r\n    }\r\n\r\n    /**\r\n     * Add form\r\n     * @param {Form} f Form\r\n     */\r\n    add(f) {\r\n        this._forms[f.id] = f;\r\n    }\r\n\r\n    /**\r\n     * Get all ids\r\n     * @returns {string[]}\r\n     */\r\n    ids() {\r\n        return Object.keys(this._forms);\r\n    }\r\n\r\n}","import $ from 'jquery';\r\n\r\n/**\r\n * Select2 decorator for results adapter\r\n */\r\nexport default function(Utils) {\r\n\r\n    class Select2CustomOption {\r\n\r\n        render(decorated) {\r\n            var $results = $(\r\n              '<div class=\"select2-results__options ' + this.options.get('containerClass') + '\" role=\"listbox\"></div>'\r\n            ); //***\r\n\r\n            if (this.options.get('multiple')) {\r\n              $results.attr('aria-multiselectable', 'true');\r\n            }\r\n\r\n            this.$results = $results;\r\n\r\n            return $results;\r\n        };\r\n\r\n        displayMessage(decorated, params) {\r\n            var escapeMarkup = this.options.get('escapeMarkup');\r\n\r\n            this.clear();\r\n            this.hideLoading();\r\n\r\n            var $message = $(\r\n              '<div role=\"alert\" aria-live=\"assertive\"' +\r\n              ' class=\"select2-results__option\"></div>'\r\n            ); //***\r\n\r\n            if (params.message.includes(\"<\") && params.message.includes(\">\")) { // HTML //***\r\n              $message.append(params.message);\r\n            } else {\r\n              var message = this.options.get('translations').get(params.message);\r\n              $message.append(\r\n                escapeMarkup(\r\n                  message(params.args)\r\n                )\r\n              );\r\n            }\r\n\r\n            $message[0].className += ' select2-results__message';\r\n\r\n            this.$results.append($message);\r\n        };\r\n\r\n        append(decorated, data) {\r\n            this.hideLoading();\r\n\r\n            var $options = [];\r\n\r\n            if (data.results == null || data.results.length === 0) {\r\n              if (this.$results.children().length === 0) {\r\n                if (this.$element.data(\"updating\")) {\r\n                  this.trigger('results:message', {\r\n                    message: '<div class=\"spinner-border spinner-border-sm text-primary ew-select-spinner\" role=\"status\"><span class=\"sr-only\">' + ew.language.phrase('Loading') + '</span></div> ' + ew.language.phrase('Loading')\r\n                  });\r\n                  this.$element.one(\"updatedone\", () => this.$element.select2(\"close\").select2(\"open\"));\r\n                } else {\r\n                  this.trigger('results:message', {\r\n                    message: 'noResults'\r\n                  });\r\n                }\r\n              }\r\n\r\n              return;\r\n            }\r\n\r\n            data.results = this.sort(data.results);\r\n\r\n            //***\r\n            var cols = this.options.get('columns'),\r\n                len = data.results.length,\r\n                $row = this.$results.find(\".\" + this.options.get('rowClass')).last();\r\n\r\n            for (var d = 0; d < data.results.length; d++) {\r\n                var item = data.results[d];\r\n\r\n                var $option = this.option(item);\r\n\r\n                if (!$row.length || $row.children().length == cols) { // Add new row\r\n                    $row = $('<div class=\"' + this.options.get('rowClass') + '\"></div>');\r\n                    this.$results.append($row);\r\n                }\r\n\r\n                $row.append($option);\r\n\r\n                if (d == len - 1) { // Last\r\n                    var cnt = cols - $row.children().length;\r\n                    for (var i = 0; i < cnt ; i++)\r\n                        $row.append('<div class=\"' + this.options.get('colClass') + '\"></div>');\r\n                }\r\n            }\r\n\r\n        };\r\n\r\n        option(decorated, data) {\r\n            // var option = document.createElement('li');\r\n            var option = document.createElement('div'); //***\r\n            option.className = 'select2-results__option ' + this.options.get('cellClass'); //***\r\n\r\n            var attrs = {\r\n              'role': 'option',\r\n              'aria-selected': 'false'\r\n            };\r\n\r\n            var matches = window.Element.prototype.matches ||\r\n              window.Element.prototype.msMatchesSelector ||\r\n              window.Element.prototype.webkitMatchesSelector;\r\n\r\n            if ((data.element != null && matches.call(data.element, ':disabled')) ||\r\n                (data.element == null && data.disabled)) {\r\n              delete attrs['aria-selected'];\r\n              attrs['aria-disabled'] = 'true';\r\n            }\r\n\r\n            if (data.id == null) {\r\n              delete attrs['aria-selected'];\r\n            }\r\n\r\n            if (data._resultId != null) {\r\n              option.id = data._resultId;\r\n            }\r\n\r\n            if (data.title) {\r\n              option.title = data.title;\r\n            }\r\n\r\n            // if (data.children) { //***\r\n            //   attrs.role = 'group';\r\n            //   attrs['aria-label'] = data.text;\r\n            //   delete attrs['aria-selected'];\r\n            // }\r\n\r\n            for (var attr in attrs) {\r\n              var val = attrs[attr];\r\n\r\n              option.setAttribute(attr, val);\r\n            }\r\n\r\n            // if (data.children) { //***\r\n            //   var $option = $(option);\r\n\r\n            //   var label = document.createElement('strong');\r\n            //   label.className = 'select2-results__group';\r\n\r\n            //   var $label = $(label);\r\n            //   this.template(data, label);\r\n\r\n            //   var $children = [];\r\n\r\n            //   for (var c = 0; c < data.children.length; c++) {\r\n            //     var child = data.children[c];\r\n\r\n            //     var $child = this.option(child);\r\n\r\n            //     $children.push($child);\r\n            //   }\r\n\r\n            //   var $childrenContainer = $('<ul></ul>', {\r\n            //     'class': 'select2-results__options select2-results__options--nested'\r\n            //   });\r\n\r\n            //   $childrenContainer.append($children);\r\n\r\n            //   $option.append(label);\r\n            //   $option.append($childrenContainer);\r\n            // } else {\r\n              this.template(data, option);\r\n            // }\r\n\r\n            Utils.StoreData(option, 'data', data);\r\n\r\n            return option;\r\n        };\r\n\r\n    }\r\n\r\n    return Select2CustomOption;\r\n}","import $ from 'jquery';\r\nimport AjaxLookup from './AjaxLookup';\r\nimport AutoSuggest from './AutoSuggest';\r\nimport Form from './Form';\r\nimport Forms from './Forms';\r\nimport Field from './Field';\r\nimport SelectionListOption from './SelectionListOption';\r\nimport getSelect2CustomOptionClass from './Select2CustomOption';\r\n\r\nexport let currentUrl = new URL(window.location);\r\nexport let forms = new Forms();\r\nexport { AjaxLookup, AutoSuggest, Form, SelectionListOption };\r\n\r\nlet $document = $(document),\r\n    $body = $(\"body\");\r\n\r\n// Remove spinner (immediately)\r\nlet _removeSpinner = ew.removeSpinner;\r\n\r\n// Remove spinner\r\nexport function removeSpinner() {\r\n    var timer = $body.data(\"_spinner\");\r\n    if (timer)\r\n        timer.cancel();\r\n    timer = $.later(500, null, function() {\r\n        if ($document.data(\"_ajax\") !== true) { // Ajax not running\r\n            _removeSpinner();\r\n            $(\"form.ew-form\").each(function() {\r\n                var frm = forms.get(this.id);\r\n                if (frm) {\r\n                    frm.focus();\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    });\r\n    $body.data(\"_spinner\", timer);\r\n}\r\n\r\n// Create select2\r\nexport function createSelect(options) {\r\n    if (options.selectId.includes(\"$rowindex$\"))\r\n        return;\r\n    $.fn.select2.amd.require(\r\n        [\"select2/utils\", \"select2/results\", \"select2/dropdown/infiniteScroll\", \"select2/dropdown/hidePlaceholder\", \"select2/dropdown/selectOnClose\"],\r\n        (function(opts) {\r\n            return function (Utils, ResultsList, InfiniteScroll, HidePlaceholder, SelectOnClose) {\r\n                let options = Object.assign({}, ew.selectOptions, opts);\r\n                if (options.resultsAdapter == null) {\r\n                    options.resultsAdapter = ResultsList;\r\n                    if (options.dropdown && options.columns && options.customOption) {\r\n                        options.resultsAdapter = Utils.Decorate(\r\n                            options.resultsAdapter,\r\n                            getSelect2CustomOptionClass(Utils)\r\n                        );\r\n                        if (options.iconClass && options.multiple && !options.templateResult) {\r\n                            options.templateResult = (result) => '<label class=\"' + options.iconClass + ' ew-dropdown-label\">' + result.text + '</label>';\r\n                        }\r\n                    }\r\n                    if (options.ajax != null) {\r\n                        options.resultsAdapter = Utils.Decorate(\r\n                            options.resultsAdapter,\r\n                            InfiniteScroll\r\n                        );\r\n                    }\r\n                    if (options.placeholder != null) {\r\n                        options.resultsAdapter = Utils.Decorate(\r\n                            options.resultsAdapter,\r\n                            HidePlaceholder\r\n                        );\r\n                    }\r\n                    if (options.selectOnClose) {\r\n                        options.resultsAdapter = Utils.Decorate(\r\n                            options.resultsAdapter,\r\n                            SelectOnClose\r\n                        );\r\n                    }\r\n                }\r\n                if ($.isObject(options.ajax)) {\r\n                    let lookup = new ew.AjaxLookup(options.ajax)\r\n                    options.ajax = {\r\n                        url: (params) => {\r\n                            let start = params.page ? (params.page - 1) * (settings.limit || ew.AUTO_SUGGEST_MAX_ENTRIES) : -1;\r\n                            return lookup.getUrl(params.term, start);\r\n                        },\r\n                        type: \"POST\",\r\n                        dataType: \"json\",\r\n                        data: lookup.generateRequest(),\r\n                        delay: options.debounce,\r\n                        processResults: (data) => {\r\n                            return {\r\n                                results: lookup.transform(data).map(item => {\r\n                                    return {\r\n                                        id: item[0],\r\n                                        text: lookup.formatResult({ lf: item[0], df: item[1], df2: item[2], df3: item[3], df4: item[4] })\r\n                                    };\r\n                                }),\r\n                                pagination: {\r\n                                    more: data.length < lookup.recordCount\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n                $(\"select[data-select2-id='\" + options.selectId + \"']\").select2(options);\r\n                if (options.multiple && options.minimumResultsForSearch === Infinity) {\r\n                    $(\"select[id='<#= ctl #>']\").on(\"select2:opening select2:closing\", function(event) {\r\n                        $(this).parent().find(\".select2-search__field\").prop(\"disabled\", true);\r\n                    });\r\n                }\r\n            };\r\n        })(options)\r\n    );\r\n}\r\n\r\n// Init icon tooltip\r\nexport function initIcons(e) {\r\n    var el = (e && e.target) ? e.target : document;\r\n    $(el).find(\".ew-icon\").closest(\"a, button\").add(\".ew-tooltip\").tooltip({\r\n        container: \"body\",\r\n        trigger: (ew.IS_MOBILE) ? \"manual\" : \"hover\",\r\n        placement: \"bottom\",\r\n        sanitizeFn: ew.sanitizeFn\r\n    });\r\n}\r\n\r\n// Init password options\r\nexport function initPasswordOptions(e) {\r\n    var el = (e && e.target) ? e.target : document;\r\n    if ($.fn.pStrength && typeof ew.MIN_PASSWORD_STRENGTH != \"undefined\") {\r\n        $(el).find(\".ew-password-strength\").each(function() {\r\n            var $this = $(this);\r\n            if (!$this.data(\"pStrength\"))\r\n                $this.pStrength({\r\n                    \"changeBackground\": false,\r\n                    \"backgrounds\": [],\r\n                    \"passwordValidFrom\": ew.MIN_PASSWORD_STRENGTH,\r\n                    \"onPasswordStrengthChanged\": function(strength, percentage) {\r\n                        var $this = $(this), $pst = $(\"[id='\" + $this.attr(\"data-password-strength\") + \"']\"), // Do not use #\r\n                            $pb = $pst.find(\".progress-bar\");\r\n                        $pst.width($this.outerWidth());\r\n                        if ($this.val()) {\r\n                            var pct = percentage + \"%\";\r\n                            if (percentage < 25) {\r\n                                $pb.addClass(\"bg-danger\").removeClass(\"bg-warning bg-info bg-success\");\r\n                            } else if (percentage < 50) {\r\n                                $pb.addClass(\"bg-warning\").removeClass(\"bg-danger bg-info bg-success\");\r\n                            } else if (percentage < 75) {\r\n                                $pb.addClass(\"bg-info\").removeClass(\"bg-danger bg-warning bg-success\");\r\n                            } else {\r\n                                $pb.addClass(\"bg-success\").removeClass(\"bg-danger bg-warning bg-info\");\r\n                            }\r\n                            $pb.css(\"width\", pct);\r\n                            if (percentage > 25)\r\n                                pct = ew.language.phrase(\"PasswordStrength\").replace(\"%p\", pct);\r\n                            $pb.html(pct);\r\n                            $pst.removeClass(\"d-none\").show();\r\n                            $this.data(\"validated\", percentage >= ew.MIN_PASSWORD_STRENGTH);\r\n                        } else {\r\n                            $pst.addClass(\"d-none\").hide();\r\n                            $this.data(\"validated\", null);\r\n                        }\r\n                    }\r\n                });\r\n        });\r\n    }\r\n    if ($.fn.pGenerator) {\r\n        $(el).find(\".ew-password-generator\").each(function() {\r\n            var $this = $(this);\r\n            if (!$this.data(\"pGenerator\"))\r\n                $this.pGenerator({\r\n                    \"passwordLength\": ew.GENERATE_PASSWORD_LENGTH,\r\n                    \"uppercase\": ew.GENERATE_PASSWORD_UPPERCASE,\r\n                    \"lowercase\": ew.GENERATE_PASSWORD_LOWERCASE,\r\n                    \"numbers\": ew.GENERATE_PASSWORD_NUMBER,\r\n                    \"specialChars\": ew.GENERATE_PASSWORD_SPECIALCHARS,\r\n                    \"onPasswordGenerated\": function(pwd) {\r\n                        var $this = $(this);\r\n                        $(\"#\" + $this.attr(\"data-password-field\")).val(pwd).change().focus().triggerHandler(\"click\"); // Trigger click to remove \"is-invalid\" class (Do not use $this.data)\r\n                        $(\"#\" + $this.attr(\"data-password-confirm\")).val(pwd);\r\n                        $(\"#\" + $this.attr(\"data-password-strength\")).addClass(\"d-none\").hide();\r\n                    }\r\n                });\r\n        });\r\n    }\r\n}\r\n\r\n// Get API action URL\r\nexport function getApiUrl(action, query) {\r\n    var url = ew.PATH_BASE + ew.API_URL,\r\n        params = new URLSearchParams(query);\r\n    if (ew.USE_URL_REWRITE) {\r\n        if ($.isString(action)) { // Route as string\r\n            url += action ? action : \"\";\r\n        } else if (Array.isArray(action)) { // Route as array\r\n            var route = action.map(function(v) {\r\n                return encodeURIComponent(v);\r\n            }).join(\"/\");\r\n            url += route ? route : \"\";\r\n        }\r\n    } else {\r\n        if (action)\r\n            params.set(ew.API_ACTION_NAME, action);\r\n    }\r\n    var qs = params.toString();\r\n    return url + (qs ? \"?\" + qs : \"\");\r\n}\r\n\r\n// Set session timer\r\nexport function setSessionTimer() {\r\n    var timeoutTime, timer, keepAliveTimer, counter,\r\n        useKeepAlive = (ew.SESSION_KEEP_ALIVE_INTERVAL > 0 || ew.IS_LOGGEDIN && ew.IS_AUTOLOGIN);\r\n    // Keep alive\r\n    var keepAlive = () => {\r\n        $.get(getApiUrl(ew.API_SESSION_ACTION), { \"rnd\": random() }, (token) => {\r\n            if (token && $.isObject(token)) { // PHP\r\n                ew.TOKEN_NAME = token[ew.TOKEN_NAME_KEY];\r\n                ew.ANTIFORGERY_TOKEN = token[ew.ANTIFORGERY_TOKEN_KEY];\r\n            }\r\n        });\r\n    };\r\n    // Reset timer\r\n    var resetTimer = () => {\r\n        counter = ew.SESSION_TIMEOUT_COUNTDOWN;\r\n        timeoutTime = ew.SESSION_TIMEOUT - ew.SESSION_TIMEOUT_COUNTDOWN;\r\n        if (timeoutTime < 0) { // Timeout now\r\n            timeoutTime = 0;\r\n            counter = ew.SESSION_TIMEOUT;\r\n        }\r\n        if (timer)\r\n            timer.cancel(); // Clear timer\r\n    };\r\n    // Timeout\r\n    var timeout = () => {\r\n        if (keepAliveTimer)\r\n            keepAliveTimer.cancel(); // Stop keep alive\r\n        if (counter > 0) {\r\n            let timerInterval;\r\n            Swal.fire({\r\n                ...ew.sweetAlertSettings,\r\n                html: '<p class=\"text-danger\">' + ew.language.phrase(\"SessionWillExpire\").replace(\"%s\", '<span class=\"ew-session-counter\">' + counter + '</span>') + '</p>',\r\n                showConfirmButton: true,\r\n                confirmButtonText: ew.language.phrase(\"OKBtn\"),\r\n                timer: counter * 1000,\r\n                timerProgressBar: true,\r\n                allowOutsideClick: false,\r\n                allowEscapeKey: false,\r\n                onBeforeOpen: () => {\r\n                    timerInterval = setInterval(() => {\r\n                        const content = Swal.getContent();\r\n                        const cnt = content.querySelector(\".ew-session-counter\")\r\n                        if (cnt)\r\n                            cnt.textContent = Math.round(Swal.getTimerLeft() / 1000);\r\n                    }, 1000)\r\n                },\r\n                onClose: () => {\r\n                    clearInterval(timerInterval);\r\n                }\r\n            }).then((result) => {\r\n                if (result.value) { // OK button pressed\r\n                    keepAlive();\r\n                    if (!useKeepAlive && ew.SESSION_TIMEOUT > 0)\r\n                        setTimer();\r\n                } else if (result.dismiss === Swal.DismissReason.timer) { // Timeout\r\n                    resetTimer();\r\n                    window.location = ew.TIMEOUT_URL + \"?expired=1\";\r\n                }\r\n            });\r\n        }\r\n    };\r\n    // Set timer\r\n    var setTimer = () => {\r\n        resetTimer(); // Reset timer first\r\n        timer = $.later(timeoutTime * 1000, null, timeout);\r\n    };\r\n    if (useKeepAlive) { // Keep alive\r\n        var keepAliveInterval = (ew.SESSION_KEEP_ALIVE_INTERVAL > 0) ? ew.SESSION_KEEP_ALIVE_INTERVAL : ew.SESSION_TIMEOUT - ew.SESSION_TIMEOUT_COUNTDOWN;\r\n        if (keepAliveInterval <= 0)\r\n            keepAliveInterval = 60;\r\n        keepAliveTimer = $.later(keepAliveInterval * 1000, null, keepAlive, null, true); // Periodic\r\n    } else {\r\n        if (ew.SESSION_TIMEOUT > 0) // Set session timeout\r\n            setTimer();\r\n    }\r\n}\r\n\r\n// Init export links\r\nexport function initExportLinks(e) {\r\n    var el = (e && e.target) ? e.target : document;\r\n    $(el).find(\".ew-export-link[href]:not(.ew-email):not(.ew-print):not(.ew-xml)\").click(function(e) {\r\n        var href = $(this).attr(\"href\");\r\n        if (href && href != \"#\")\r\n            fileDownload(href);\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\n// Init multi-select checkboxes\r\nexport function initMultiSelectCheckboxes(e) {\r\n    var el = (e && e.target) ? e.target : document,\r\n        $el = $(el),\r\n        $cbs = $el.find(\"input[type=checkbox].ew-multi-select\");\r\n    var _update = function(id) {\r\n        var $els = $cbs.filter(\"[name^='\" + id + \"_']\"), cnt = $els.length, len = $els.filter(\":checked\").length;\r\n        $els.closest(\"form\").find(\"input[type=checkbox]#\" + id)\r\n            .prop(\"checked\", len == cnt).prop(\"indeterminate\", len != cnt && len != 0);\r\n    };\r\n    $cbs.click(function(e) {\r\n        _update(this.name.split(\"_\")[0]);\r\n    });\r\n    $el.find(\"input[type=checkbox].ew-priv:not(.ew-multi-select)\").each(function() {\r\n        _update(this.id); // Init\r\n    });\r\n}\r\n\r\n// Download file\r\nexport function fileDownload(href, data) {\r\n    let win = window.parent,\r\n        jq = win.jQuery,\r\n        swal = win.Swal,\r\n        doc = win.document,\r\n        $doc = jq(doc),\r\n        method = data ? \"POST\" : \"GET\",\r\n        isHtml = href.includes(\"export=html\");\r\n    return swal.fire({\r\n        ...ew.sweetAlertSettings,\r\n        html: \"<p>\" + ew.language.phrase(\"Exporting\") + \"</p>\",\r\n        allowOutsideClick: false,\r\n        allowEscapeKey: false,\r\n        onBeforeOpen: () => {\r\n            swal.showLoading(),\r\n            jq.ajax({\r\n                url: href,\r\n                type: method,\r\n                cache: false,\r\n                data: data || null,\r\n                xhrFields: {\r\n                    responseType: isHtml ? \"text\" : \"blob\"\r\n                }\r\n            }).done((data, textStatus, jqXHR) => {\r\n                var url = win.URL.createObjectURL(isHtml ? new Blob([data], { type: \"text/html\" }) : data),\r\n                    a = doc.createElement(\"a\"),\r\n                    cd = jqXHR.getResponseHeader(\"Content-Disposition\"),\r\n                    m = cd.match(/\\bfilename=((['\"])(.+)\\2|([^;]+))/i);\r\n                a.style.display = \"none\";\r\n                a.href = url;\r\n                if (m)\r\n                    a.download = m[3] || m[4];\r\n                doc.body.appendChild(a);\r\n                a.click();\r\n                $doc.trigger(\"export\", [{ \"type\": \"done\", \"url\": href, \"objectUrl\": url }]);\r\n                win.URL.revokeObjectURL(url);\r\n                swal.close();\r\n            }).fail(() => {\r\n                swal.showValidationMessage(\"<div class='text-danger'><h4>\" + ew.language.phrase(\"FailedToExport\") + \"</h4>\" + response + \"</div>\");\r\n                $doc.trigger(\"export\", [{ \"type\": \"fail\", \"url\": href }]);\r\n            }).always(() => {\r\n                $doc.trigger(\"export\", [{ \"type\": \"always\", \"url\": href }]);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n// Lazy load images\r\nexport function lazyLoad(e) {\r\n    if (!ew.LAZY_LOAD)\r\n        return;\r\n    var el = (e && e.target) ? e.target : document;\r\n    $(el).find(\"img.ew-lazy\").each(function () {\r\n        this.src = this.dataset.src;\r\n    });\r\n    $document.trigger(\"lazyload\"); // All images loaded\r\n}\r\n\r\n// Update select2 dropdown position\r\nexport function updateDropdownPosition() {\r\n    var select = $(\".select2-container--open\").prev(\".ew-select\").data(\"select2\");\r\n    if (select) {\r\n        select.dropdown._positionDropdown();\r\n        select.dropdown._resizeDropdown();\r\n    }\r\n}\r\n\r\n// Colorboxes\r\nexport function initLightboxes(e) {\r\n    if (!ew.USE_COLORBOX)\r\n        return;\r\n    var el = (e && e.target) ? e.target : document;\r\n    var settings = Object.assign({}, ew.lightboxSettings, {\r\n        title: ew.language.phrase(\"LightboxTitle\"),\r\n        current: ew.language.phrase(\"LightboxCurrent\"),\r\n        previous: ew.language.phrase(\"LightboxPrevious\"),\r\n        next: ew.language.phrase(\"LightboxNext\"),\r\n        close: ew.language.phrase(\"LightboxClose\"),\r\n        xhrError: ew.language.phrase(\"LightboxXhrError\"),\r\n        imgError: ew.language.phrase(\"LightboxImgError\")\r\n    });\r\n    $(el).find(\".ew-lightbox\").each(function() {\r\n        var $this = $(this);\r\n        $this.colorbox(Object.assign({ rel: $this.data(\"rel\") }, settings));\r\n    });\r\n}\r\n\r\n// PDFObjects\r\nexport function initPdfObjects(e) {\r\n    if (!ew.EMBED_PDF)\r\n        return;\r\n    var el = (e && e.target) ? e.target : document,\r\n        options = Object.assign({}, ew.PDFObjectOptions);\r\n    $(el).find(\".ew-pdfobject\").not(\":has(.pdfobject)\").each(function() { // Not already embedded\r\n        var $this = $(this), url = $this.data(\"url\"), html = $this.html();\r\n        if (url)\r\n            PDFObject.embed(url, this, Object.assign(options, { fallbackLink: html }));\r\n    });\r\n}\r\n\r\n// Tooltips and popovers\r\nexport function initTooltips(e) {\r\n    var el = (e && e.target) ? e.target : document, $el = $(el);\r\n    $el.find(\"input[data-toggle=tooltip],textarea[data-toggle=tooltip],select[data-toggle=tooltip]\").each(function() {\r\n        var $this = $(this);\r\n        $this.tooltip(Object.assign({ html: true, placement: \"bottom\", sanitizeFn: ew.sanitizeFn }, $this.data()));\r\n    });\r\n    $el.find(\"a.ew-tooltip-link\").each(tooltip); // Init tooltips\r\n    $el.find(\".ew-tooltip\").tooltip({ placement: \"bottom\", sanitizeFn: ew.sanitizeFn });\r\n    $el.find(\".ew-popover\").popover({ sanitizeFn: ew.sanitizeFn });\r\n}\r\n\r\n// Parse JSON\r\nexport function parseJson(data) {\r\n    if ($.isString(data)) {\r\n        try {\r\n            return JSON.parse(data);\r\n        } catch(e) {\r\n            return undefined;\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n// Change search operator\r\nexport function searchOperatorChanged(el) {\r\n    var $el = $(el),\r\n        $p = $el.closest(\"[id^=r_], [id^=xsc_]\"),\r\n        parm = el.id.substr(2),\r\n        $fld = $p.find(\".ew-search-field\"),\r\n        $fld2 = $p.find(\".ew-search-field2\"),\r\n        $y = $fld2.find(\"[name='y_\" + parm + \"'], [name='y_\" + parm + \"[]']\"),\r\n        hasY = $y.length,\r\n        $cond = $p.find(\".ew-search-cond\"),\r\n        hasCond = $cond.length, // Has condition and operator 2\r\n        $and = $p.find(\".ew-search-and\"),\r\n        $opr = $p.find(\".ew-search-operator\"),\r\n        opr = $opr.find(\"[name='z_\" + parm + \"']\").val(),\r\n        $opr2 = $p.find(\".ew-search-operator2\"),\r\n        opr2 = $opr2.find(\"[name='w_\" + parm + \"']\").val(),\r\n        isBetween = opr == \"BETWEEN\", // Can only be operator 1\r\n        isNullOpr = [\"IS NULL\", \"IS NOT NULL\"].includes(opr),\r\n        isNullOpr2 = [\"IS NULL\", \"IS NOT NULL\"].includes(opr2),\r\n        hideOpr2 = !hasY || isBetween,\r\n        hideX = isNullOpr,\r\n        hideY = !isBetween && (!hasCond || isNullOpr2);\r\n    $cond.toggleClass(\"d-none\", hideOpr2).find(\":input\").prop(\"disabled\", hideOpr2);\r\n    $and.toggleClass(\"d-none\", !isBetween);\r\n    $opr2.toggleClass(\"d-none\", hideOpr2).find(\":input\").prop(\"disabled\", hideOpr2);\r\n    $fld.toggleClass(\"d-none\", hideX).find(\":input\").prop(\"disabled\", hideX);\r\n    $fld2.toggleClass(\"d-none\", hideY).find(\":input\").prop(\"disabled\", hideY);\r\n}\r\n\r\n// Init forms\r\nfunction initForms(e) {\r\n    let el = (e && e.target) ? e.target : document,\r\n        $el = $(el),\r\n        ids = ew.forms.ids();\r\n    for (let id of ids) {\r\n        if ($el.find(\"#\" + id))\r\n            forms.get(id).init();\r\n    }\r\n}\r\n\r\n// Prompt/Confirm/Alert\r\nfunction _prompt(text, cb, input, validator) {\r\n    if (input) { // Prompt\r\n        return Swal.fire({\r\n            ...ew.sweetAlertSettings,\r\n            html: text,\r\n            input: \"text\",\r\n            confirmButtonText: ew.language.phrase(\"OKBtn\"),\r\n            showCancelButton: $.isFunction(cb),\r\n            cancelButtonText: ew.language.phrase(\"CancelBtn\"),\r\n            inputValidator: validator || ((value) => {\r\n                if (!value)\r\n                    return ew.language.phrase(\"EnterValue\");\r\n            })\r\n        }).then(result => {\r\n            if ($.isFunction(cb))\r\n                cb(result.value);\r\n        });\r\n    } else { // Confirm or Alert\r\n        return Swal.fire({\r\n            ...ew.sweetAlertSettings,\r\n            html: \"<div>\" + text + \"</div>\",\r\n            confirmButtonText: ew.language.phrase(\"OKBtn\"),\r\n            showCancelButton: $.isFunction(cb),\r\n            cancelButtonText: ew.language.phrase(\"CancelBtn\"),\r\n        }).then(result => {\r\n            if ($.isFunction(cb))\r\n                cb(result.value);\r\n        });\r\n    }\r\n}\r\n\r\nexport { _prompt as prompt };\r\n\r\n// Toast\r\nexport function toast(options) {\r\n    options = Object.assign({}, ew.toastOptions, options);\r\n    $document.Toasts(\"create\", options);\r\n    var position = options.position,\r\n        $container = $(\"#toastsContainer\" + position[0].toUpperCase() + position.substring(1));\r\n    return $container.children().first();\r\n}\r\n\r\n/**\r\n * Show toast\r\n *\r\n * @param {string} msg - Message\r\n * @param {string} type - CSS class: \"muted|primary|success|info|warning|danger\"\r\n */\r\nexport function showToast(msg, type) {\r\n    type = type || \"danger\";\r\n    return toast({\r\n        class: \"ew-toast bg-\" + type,\r\n        title: ew.language.phrase(type),\r\n        body: msg,\r\n        autohide: (type == \"success\") ? ew.autoHideSuccessMessage : false, // Autohide for success message\r\n        delay: (type == \"success\") ? ew.autoHideSuccessMessageDelay: 500\r\n    });\r\n}\r\n\r\n// Get form.ew-form or div.ew-form HTML element\r\nexport function getForm(el) {\r\n    if (el instanceof Form)\r\n        return el.$element[0];\r\n    var $el = $(el), $f = $el.closest(\".ew-form\");\r\n    if (!$f[0]) // Element not inside form\r\n        $f = $el.closest(\".ew-grid, .ew-multi-column-grid\").find(\".ew-form\").not(\".ew-pager-form\");\r\n    return $f[0];\r\n}\r\n\r\n// Check form data\r\nexport function hasFormData(form) {\r\n    var selector = \"[name^=x_],[name^=y_],[name^=z_],[name^=w_],[name=psearch]\",\r\n        els = $(form).find(selector).filter(\":enabled\").get();\r\n    for (var i = 0, len = els.length; i < len; i++) {\r\n        var el = els[i];\r\n        if (/^(z|w)_/.test(el.name)) {\r\n            if (/^IS/.test($(el).val()))\r\n                return true;\r\n        } else if (el.type == \"checkbox\" || el.type == \"radio\") {\r\n            if (el.checked)\r\n                return true;\r\n        } else if (el.type == \"select-one\" || el.type == \"select-multiple\") {\r\n            if (!!$(el).val())\r\n                return true;\r\n        } else if (el.type == \"text\" || el.type == \"hidden\" || el.type == \"textarea\") {\r\n            if (el.value)\r\n                return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n// Set search type\r\nexport function setSearchType(el, val) {\r\n    var $this = $(el), $form = $this.closest(\"form\"), text = \"\";\r\n    $form.find(\"input[name=psearchtype]\").val(val || \"\");\r\n    if (val == \"=\") {\r\n        text = ew.language.phrase(\"QuickSearchExactShort\");\r\n    } else if (val == \"AND\") {\r\n        text = ew.language.phrase(\"QuickSearchAllShort\");\r\n    } else if (val == \"OR\") {\r\n        text = ew.language.phrase(\"QuickSearchAnyShort\");\r\n    } else {\r\n        text = ew.language.phrase(\"QuickSearchAutoShort\");\r\n    }\r\n    $form.find(\"#searchtype\").html(text + ((text) ? \"&nbsp;\" : \"\"));\r\n    $this.closest(\"ul\").find(\"li\").removeClass(\"active\");\r\n    $this.closest(\"li\").addClass(\"active\");\r\n    return false;\r\n}\r\n\r\n/**\r\n * Update a dynamic selection list\r\n *\r\n * @param {(HTMLElement|HTMLElement[]|string|string[])} obj - Target HTML element(s) or the ID of the element(s)\r\n * @param {(string[]|array[])} parentId - Parent field element names or data\r\n * @param {(boolean|null)} async - async(true) or sync(false) or non-Ajax(null)\r\n * @param {boolean} change - Trigger onchange event\r\n * @returns\r\n */\r\nexport function updateOptions(obj, parentId, async, change) {\r\n    var f = (this.$element) ? this.$element[0] : (this.form) ? this.form : null; // Get form/div element from this\r\n    if (!f)\r\n        return;\r\n    var frm = (this.htmlForm) ? this : forms.get(f.id); // Get Form object\r\n    if (!frm)\r\n        return;\r\n    if (this.form && $.isUndefined(obj)) // Target unspecified\r\n        obj = forms.get(this).getList(this.name).childFields.slice(); // Clone\r\n    else if ($.isString(obj))\r\n        obj = getElements(obj, f);\r\n    if (!obj || Array.isArray(obj) && obj.length == 0)\r\n        return;\r\n    var self = this, promise = Promise.resolve();\r\n    if (Array.isArray(obj) && $.isString(obj[0])) { // Array of id (onchange/onclick event)\r\n        var els = [];\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            var ar = obj[i].split(\" \");\r\n            if (ar.length == 1 && self.form) { // Parent/Child fields in the same table\r\n                var m = getId(self, false).match(/^([xy]\\d*_)/);\r\n                if (m)\r\n                    obj[i] = obj[i].replace(/^([xy]\\d*_)/, m[1]);\r\n            }\r\n            var el = getElements(obj[i], f), names = [];\r\n            els.push(el);\r\n            if (ar.length == 2 && Array.isArray(el)) { // Check if id is \"tblvar fldvar\" and multiple inputs\r\n                var $el = $(el);\r\n                $el.each(function() {\r\n                    if (!names.includes(this.name)) {\r\n                        names.push(this.name);\r\n                        var $elf = $el.filter(\"[name='\" + this.name + \"']\"), typ = $elf.attr(\"type\"),\r\n                            elf = [\"radio\", \"checkbox\"].includes(typ) ? $elf.get() : $elf[0];\r\n                        promise = promise.then(_updateOptions.bind(self, elf, parentId, async, change));\r\n                    }\r\n                });\r\n            } else {\r\n                promise = promise.then(_updateOptions.bind(self, el, parentId, async, change));\r\n            }\r\n        }\r\n        obj = els;\r\n        var list = forms.get(self).getList(self.name);\r\n        if (list && Array.isArray(list.autoFillTargetFields) && list.autoFillTargetFields[0]) // AutoFill\r\n            promise = promise.then(autoFill.bind(null, self));\r\n    } else {\r\n        promise = promise.then(_updateOptions.bind(self, obj, parentId, async, change));\r\n    }\r\n    return promise.then(function() {\r\n        $document.trigger(\"updatedone\", [{ source: self, target: obj }]); // Document \"updatedone\" event fired after all the target elements are updated\r\n    });\r\n}\r\n\r\n/**\r\n * Update a dynamic selection list\r\n *\r\n * @param {(HTMLElement|HTMLElement[]} obj - Target HTML element(s) or the ID of the element(s)\r\n * @param {(string[]|array[])} parentId - Parent field element names or data\r\n * @param {(boolean|null)} async - async(true) or sync(false) or non-Ajax(null)\r\n * @param {boolean} change - Trigger onchange event\r\n * @returns Promise\r\n */\r\nfunction _updateOptions(obj, parentId, async, change) {\r\n    var id = getId(obj, false);\r\n    if (!id)\r\n        return;\r\n    var fo = getForm(obj); // Get form/div element from obj\r\n    if (!fo || !fo.id)\r\n        return;\r\n    var frmo = forms.get(fo.id);\r\n    if (!frmo)\r\n        return;\r\n    var self = this,\r\n        args = Array.from(arguments),\r\n        ar = getOptionValues(obj),\r\n        m = id.match(/^([xy])(\\d*)_/),\r\n        prefix = m ? m[1] : \"\",\r\n        rowindex = m ? m[2] : \"\",\r\n        arp = [],\r\n        list = frmo.getList(id),\r\n        $obj = $(obj).data(\"updating\", true);\r\n    if ($.isUndefined(parentId)) { // Parent IDs not specified, use default\r\n        parentId = list.parentFields.slice(); // Clone\r\n        if (rowindex != \"\") {\r\n            for (var i = 0, len = parentId.length; i < len; i++) {\r\n                var arr = parentId[i].split(\" \");\r\n                if (arr.length == 1) // Parent field in the same table, add row index\r\n                    parentId[i] = parentId[i].replace(/^x_/, \"x\" + rowindex + \"_\");\r\n            }\r\n        }\r\n    }\r\n    if (Array.isArray(parentId) && parentId.length > 0) {\r\n        if (Array.isArray(parentId[0])) { // Array of array => data\r\n            arp = parentId;\r\n        } else if ($.isString(parentId[0])) { // Array of string => Parent IDs\r\n            for (var i = 0, len = parentId.length; i < len; i++)\r\n                arp.push(getOptionValues(parentId[i], fo));\r\n        }\r\n    }\r\n    if (!isAutoSuggest(obj)) // Do not clear Auto-Suggest\r\n        clearOptions(obj);\r\n    var addOpt = function(results) {\r\n        var name = getId(obj);\r\n        results.forEach(function(result) {\r\n            let args = {\"data\": result, \"parents\": arp, \"valid\": true, \"name\": name, \"form\": fo};\r\n            $document.trigger(\"addoption\", [args]);\r\n            if (args.valid)\r\n                newOption(obj, result, fo);\r\n        });\r\n        if (obj.list)\r\n            obj.render();\r\n        selectOption(obj, ar);\r\n        if (change !== false) {\r\n            if (!obj.options && obj.length)\r\n                $obj.first().triggerHandler(\"click\");\r\n            else\r\n                $obj.first().change();\r\n        }\r\n    }\r\n    if ($.isUndefined(async)) // Async not specified, use default\r\n        async = list.ajax;\r\n    var _updateSibling = function() { // Update the y_* element\r\n        if (/s(ea)?rch$/.test(fo.id) && prefix == \"x\") { // Search form\r\n            args[0] = id.replace(/^x_/, \"y_\");\r\n            updateOptions.apply(self, args); // args[0] is string, use updateOptions()\r\n        }\r\n    }\r\n    if (!$.isBoolean(async) || Array.isArray(list.lookupOptions) && list.lookupOptions.length > 0) { // Non-Ajax or Options loaded\r\n        var ds = list.lookupOptions;\r\n        addOpt(ds);\r\n        _updateSibling();\r\n        return ds;\r\n    } else { // Ajax\r\n        var name = getId(obj), data = Object.assign({\r\n            page: list.page,\r\n            field: list.field,\r\n            ajax: \"updateoption\",\r\n            language: ew.LANGUAGE_ID,\r\n            name: name // Name of the target element\r\n        }, getUserParams(\"#p_\" + id, fo)); // Add user parameters\r\n        if (isAutoSuggest(obj) && self.htmlForm) // Auto-Suggest (init form or auto-fill)\r\n            data[\"v0\"] = ar[0] || random(); // Filter by the current value\r\n        else if (isModalLookup(obj)) // Modal-Lookup\r\n            data[\"v0\"] = ar[0] ? (obj.multiple ? ar.join(ew.MULTIPLE_OPTION_SEPARATOR) : ar[0]) : random(); // Filter by the current value\r\n        for (var i = 0, cnt = arp.length; i < cnt; i++) // Filter by parent fields\r\n            data[\"v\" + (i + 1)] = arp[i].join(ew.MULTIPLE_OPTION_SEPARATOR);\r\n        return $.ajax(getApiUrl(ew.API_LOOKUP_ACTION), {\r\n                \"type\": \"POST\", \"dataType\": \"json\", \"data\": data, \"async\": async\r\n            }).done((result) => {\r\n                var ds = result.records || [];\r\n                addOpt(ds);\r\n                _updateSibling();\r\n                $obj.first().trigger(\"updated\", [Object.assign({}, result, { target: obj })]); // Object \"updatedone\" event fired after the object is updated\r\n                return ds;\r\n            }).always(() => $obj.data(\"updating\", false));\r\n    }\r\n}\r\n\r\n// Get user parameters from id\r\nexport function getUserParams(id, root) {\r\n    var id = id.replace(/\\[\\]$/, \"\"), o = {};\r\n    var root = !$.isString(root) ? root : /^#/.test(root) ? root : \"#\" + root;\r\n    var $els = (root) ? $(root).find(id) : $(id);\r\n    var val = $els.val();\r\n    if (val) {\r\n        var params = new URLSearchParams(val);\r\n        params.forEach(function(value, key) {\r\n            o[key] = value;\r\n        });\r\n    }\r\n    return o;\r\n}\r\n\r\n// Apply client side template to a DIV\r\nexport function applyTemplate(divId, tmplId, classId, exportType, data) { // Note: classId = fileName\r\n    var args = {\"data\": data || {}, \"id\": divId, \"template\": tmplId, \"class\": classId, \"export\": exportType, \"enabled\": true};\r\n    $document.trigger(\"rendertemplate\", [args]);\r\n    if (args.enabled) {\r\n        var template = document.getElementById(tmplId).content;\r\n        template.querySelectorAll(\".ew-slot\").forEach(el => {\r\n            var subtmpl = document.getElementById(el.name || el.id);\r\n            if (subtmpl && subtmpl.content) {\r\n                if (el.dataset.rowspan > 1)\r\n                    Array.prototype.slice.call(subtmpl.content.childNodes).forEach(node => node.rowSpan = el.dataset.rowspan);\r\n                el.replaceWith(subtmpl.content);\r\n            } else {\r\n                el.remove();\r\n            }\r\n        });\r\n        if ($.views) {\r\n            var textContent = template.textContent;\r\n            if (textContent.includes(\"{{\") && textContent.includes(\"}}\")) { // Includes JsRender template\r\n                var scripts = Array.prototype.slice.call(template.querySelectorAll(\"script\")); // Extract scripts\r\n                scripts.forEach(item => item.remove());\r\n                var div = document.createElement(\"div\");\r\n                div.appendChild(template);\r\n                var html = div.innerHTML, tmpl = $.templates(html);\r\n                document.getElementById(divId).innerHTML = tmpl.render(args.data, ew.jsRenderHelpers);\r\n                scripts.forEach(item => document.body.appendChild(item)); // Add scripts\r\n            } else {\r\n                document.getElementById(divId).appendChild(template);\r\n            }\r\n        } else {\r\n            document.getElementById(divId).appendChild(template);\r\n        }\r\n    }\r\n    if (exportType && exportType != \"print\") { // Export custom\r\n        $(function() {\r\n            var $meta = $(\"meta[http-equiv='Content-Type']\"),\r\n                html = \"<html><head>\",\r\n                $div = $(\"#\" + divId);\r\n            if ($div.children(0).is(\"div[id^=ct_]\")) // Remove first div tag\r\n                $div = $div.children(0);\r\n            if ($meta[0])\r\n                html += \"<meta http-equiv='Content-Type' content='\" + $meta.attr(\"content\") + \"'>\";\r\n            if (exportType == \"pdf\") {\r\n                html += \"<link rel='stylesheet' type='text/css' href='\" + ew.PDF_STYLESHEET_FILENAME + \"'>\";\r\n            } else {\r\n                html += \"<style>\" + $.ajax({async: false, type: \"GET\", url: ew.PROJECT_STYLESHEET_FILENAME}).responseText + \"</style>\";\r\n            }\r\n            html += \"</\" + \"head><body>\";\r\n            $(\".ew-chart-top\").each(function() {\r\n                html += $(this).html();\r\n            });\r\n            html += $div.html();\r\n            $(\".ew-chart-bottom\").each(function() {\r\n                html += $(this).html();\r\n            });\r\n            html += \"</body></html>\";\r\n            var url = currentPage(),\r\n                data = { \"customexport\": exportType, \"data\": html, \"filename\": args.class };\r\n            data[ew.TOKEN_NAME] = ew.ANTIFORGERY_TOKEN;\r\n            if (exportType == \"email\") {\r\n                var str = currentUrl.searchParams.toString() + \"&\" + $.param(data); // Add data\r\n                $.post(url, str, function(result) {\r\n                    showMessage(result);\r\n                });\r\n            } else {\r\n                fileDownload(url, data);\r\n            }\r\n            window.parent.jQuery(\"body\").css(\"cursor\", \"default\"); // Use window.parent in case in iframe\r\n        });\r\n    }\r\n}\r\n\r\n// Toggle group\r\nexport function toggleGroup(el) {\r\n    var $el = $(el), $tr = $el.closest(\"tr\"), selector = \"tr\", level;\r\n    for (var i = 1; i <= 6; i++) {\r\n        var idx = (i == 1) ? \"\" : \"-\" + i;\r\n        var data = $tr.data(\"group\" + idx);\r\n        if ($.isValue(data)) {\r\n            level = i;\r\n            if (data != \"\")\r\n                selector += \"[data-group\" + idx + \"='\" + String(data).replace(/'/g, \"\\\\'\") + \"']\";\r\n        }\r\n    }\r\n    if ($el.hasClass(\"icon-collapse\")) { // Hide\r\n        $(selector).slice(1).addClass(\"ew-rpt-grp-hide-\" + level);\r\n        $el.toggleClass(\"icon-expand icon-collapse\");\r\n    } else {\r\n        $(selector).slice(1).removeClass(\"ew-rpt-grp-hide-\" + level);\r\n        $el.toggleClass(\"icon-expand icon-collapse\");\r\n    }\r\n}\r\n\r\n// Check if boolean value is true\r\nexport function convertToBool(value) {\r\n    return value && [\"1\", \"y\", \"t\", \"true\"].includes(value.toLowerCase());\r\n}\r\n\r\n// Check if element value changed\r\nexport function valueChanged(fobj, infix, fld, bool) {\r\n    var nelm = getElements(\"x\" + infix + \"_\" + fld, fobj);\r\n    var oelm = getElement(\"o\" + infix + \"_\" + fld, fobj); // Hidden element\r\n    var fnelm = getElement(\"fn_x\" + infix + \"_\" + fld, fobj); // Hidden element\r\n    if (!oelm && (!nelm || Array.isArray(nelm) && nelm.length == 0))\r\n        return false;\r\n    var getValue = (obj) => getOptionValues(obj).join();\r\n    if (oelm && nelm) {\r\n        if (bool) {\r\n            if (convertToBool(getValue(oelm)) === convertToBool(getValue(nelm)))\r\n                return false;\r\n        } else {\r\n            var oldvalue = getValue(oelm);\r\n            var newvalue = (fnelm) ? getValue(fnelm) : getValue(nelm);\r\n            if (oldvalue == newvalue)\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n// Set language\r\nexport function setLanguage(el) {\r\n    var $el = $(el), val = $el.val() || $el.data(\"language\");\r\n    if (!val)\r\n        return;\r\n    var params = new URLSearchParams();\r\n    currentUrl.searchParams.forEach(function(value, key) {\r\n        params.append(key, ew.sanitize(value));\r\n    });\r\n    params.set(\"language\", ew.sanitize(val));\r\n    currentUrl.search = params.toString();\r\n    window.location = currentUrl.toString();\r\n}\r\n\r\n/**\r\n * Submit action\r\n *\r\n * @param {Event} e\r\n * @param {Object} args - Arguments\r\n * @param {HTMLElement} args.f - HTML form (default is the form of the source element)\r\n * @param {string} args.url - URL to which the request is sent (default is current page)\r\n * @param {Object} args.key - Key as object (for single record only)\r\n * @param {string} args.msg - Confirm message\r\n * @param {string} args.action - Custom action name\r\n * @param {string} args.select - \"single\"|\"s\" (single record) or \"multiple\"|\"m\" (multiple records, default)\r\n * @param {string} args.method - \"ajax\"|\"a\" (Ajax by HTTP POST) or \"post\"|\"p\" (HTTP POST, default)\r\n * @param {Object} args.data - Object of user data that is sent to the server\r\n * @param {string|callback|Object} success - Function to be called if the request succeeds, or settings for jQuery.ajax() (for Ajax only)\r\n * @returns\r\n */\r\nexport function submitAction(e, args) {\r\n    var el = e.target || e.srcElement, $el = $(el),\r\n        f = args.f || $el.closest(\"form\")[0] || currentForm, $f = $(f),\r\n        key = args.key, action = args.action, url = args.url || currentPage(),\r\n        msg = args.msg, data = args.data, success = args.success,\r\n        isPost = !args.method || sameText(args.method[0], \"p\"),\r\n        isMultiple = !args.select && !args.key || args.select && sameText(args.select[0], \"m\");\r\n    if (isMultiple && !$f[0])\r\n        return false;\r\n    if (isMultiple && !keySelected($f[0])) {\r\n        _prompt(\"<p class=\\\"text-danger\\\">\" + ew.language.phrase(\"NoRecordSelected\") + \"</p>\");\r\n        return false;\r\n    }\r\n    var _success = function(result) {\r\n        showMessage(result);\r\n    };\r\n    var _submit = function() {\r\n        if (isPost) { // Post back\r\n            if (action) // Action\r\n                $(\"<input>\").attr({type: \"hidden\", name: \"useraction\", value: action}).appendTo($f);\r\n            if ($.isObject(data)) { // User data\r\n                for (var k in data) {\r\n                    var $input = $f.find(\"input[type=hidden][name='\" + k + \"']\");\r\n                    if ($input[0])\r\n                        $input.val(data[k]);\r\n                    else\r\n                        $(\"<input>\").attr({type: \"hidden\", name: k, value: data[k]}).appendTo($f);\r\n                }\r\n            }\r\n            if (!isMultiple && $.isObject(key)) { // Key\r\n                for (var k in key)\r\n                    $(\"<input>\").attr({type: \"hidden\", name: k, value: key[k]}).appendTo($f);\r\n            }\r\n            $f.prop(\"action\", url).submit();\r\n            if (action) // Action\r\n                $f.find(\"input[type=hidden][name=useraction]\").remove(); // Remove the \"useraction\" element\r\n        } else { // Ajax\r\n            data = $.isObject(data) ? $.param(data) : $.isString(data) ? data : \"\"; // User data\r\n            if (action)\r\n                data += \"&useraction=\" + action + \"&ajax=\" + action; // Action\r\n            if (isMultiple) // Multiple records\r\n                data += \"&\" + $f.find(\"input[name='key_m[]']:checked\").serialize(); // Keys\r\n            else if (key) // Single record\r\n                data += \"&\" + ($.isObject(key) ? $.param(key) : key); // Key\r\n            if (success && $.isString(success))\r\n                success = window[success];\r\n            if ($.isFunction(success)) {\r\n                $.post(url, data, success);\r\n            } else if ($.isObject(success)) { // \"success\" is Ajax settings\r\n                success.data = data;\r\n                success.method = success.method || \"POST\";\r\n                success.success = success.success || _success;\r\n                $.ajax(url, success);\r\n            } else {\r\n                $.post(url, data, _success);\r\n            }\r\n        }\r\n    };\r\n    if (msg) {\r\n        _prompt(msg, (result) => {\r\n            if (result)\r\n                _submit();\r\n        });\r\n    } else {\r\n        _submit();\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Export with selected records and/or Custom Template\r\n *\r\n * @param {string} f - Form ID\r\n * @param {string} url - Form action\r\n * @param {string} type - Export type\r\n * @param {boolean} custom - Using Custom Template\r\n * @param {boolean} sel - Selected records only\r\n * @param {Object} fobj - email form object\r\n * @returns false\r\n */\r\nfunction _export(f, url, type, custom, sel, fobj) {\r\n    if (!f)\r\n        return false;\r\n    var $f = $(f),\r\n        target = $f.attr(\"target\"),\r\n        action = $f.attr(\"action\"),\r\n        cb = sel && $f.find(\"input[type=checkbox][name='key_m[]']\")[0];\r\n    if (cb && !keySelected(f)) {\r\n        _alert(ew.language.phrase(\"NoRecordSelected\"));\r\n        return false;\r\n    }\r\n    if (custom) { // Use Custom Template\r\n        $(\"iframe.ew-export\").remove();\r\n        if (type == \"email\")\r\n            url += (\"&\" + $(fobj).serialize()).replace(/&export=email/i, \"\"); // Remove duplicate export=email\r\n        if (cb) {\r\n            $(\"<iframe>\").attr(\"name\", \"ew-export-frame\").addClass(\"ew-export d-none\").appendTo($body);\r\n            try {\r\n                $f.append($(\"<input type='hidden'>\").attr({name: \"custom\", value: \"1\"}))\r\n                    .attr({ \"action\": url, \"target\": \"ew-export-frame\" }).find(\"input[name=exporttype]\").val(type).end().submit();\r\n            } finally { // Reset\r\n                $f.attr({ \"target\": target || \"\", \"action\": action }).find(\"input[name=custom]\").remove();\r\n            }\r\n        } else {\r\n            $(\"<iframe>\").attr({ name: \"ew-export-frame\", src: url }).addClass(\"ew-export d-none\").appendTo($body);\r\n        }\r\n    } else { // No Custom Template\r\n        $f.find(\"input[name=exporttype]\").val(type);\r\n        if ([\"xml\", \"print\"].includes(type))\r\n            $f.submit(); // Submit the form directly\r\n        else\r\n            fileDownload(action, $f.serialize());\r\n    }\r\n    return false;\r\n}\r\n\r\nexport { _export as export };\r\n\r\n/**\r\n * Remove spaces\r\n * @param {string} value\r\n * @returns {string}\r\n */\r\nexport function removeSpaces(value) {\r\n    return (/^(<(p|br)\\/?>(&nbsp;)?(<\\/p>)?)?$/i.test(value.replace(/\\s/g, \"\"))) ? \"\" : value;\r\n}\r\n\r\n/**\r\n * Check if hidden text area (HTML editor)\r\n * @param {HTMLElement|jQuery} el HTML element or jQuery object\r\n * @returns {boolean}\r\n */\r\nexport function isHiddenTextArea(el) {\r\n    var $el = $(el);\r\n    return $el.is(\":hidden\") && $el.data(\"editor\");\r\n}\r\n\r\n/**\r\n * Check if modal lookup\r\n * @param {HTMLElement|jQuery} el HTML element or jQuery object\r\n * @returns {boolean}\r\n */\r\nexport function isModalLookup(el) {\r\n    var $el = $(el);\r\n    return $el.is(\":hidden\") && $el.data(\"lookup\");\r\n}\r\n\r\n/**\r\n * Check if hidden textbox (Auto-Suggest)\r\n * @param {HTMLElement|jQuery} el HTML element or jQuery object\r\n * @returns {boolean}\r\n */\r\nexport function isAutoSuggest(el) {\r\n    var $el = $(el);\r\n    return $el.is(\":hidden\") && $el.data(\"autosuggest\");\r\n}\r\n\r\n/**\r\n * Alert\r\n *\r\n * @param {string} msg - Message\r\n * @param {callback} cb - Callback function\r\n * @param {string} type - CSS class: \"muted|primary|success|info|warning|danger\"\r\n */\r\nfunction _alert(msg, cb, type) {\r\n    return Swal.fire({\r\n        ...ew.sweetAlertSettings,\r\n        html: '<p class=\"text-' + (type || 'danger') + '\">' + msg + '</p>',\r\n        confirmButtonText: ew.language.phrase(\"OKBtn\")\r\n    }).then(result => {\r\n        if ($.isFunction(cb))\r\n            cb(result.value);\r\n    });\r\n}\r\n\r\nexport { _alert as alert };\r\n\r\n/**\r\n * Clear error message\r\n * @param {HTMLElement|HTMLElement[]|jQuery} el HTML element(s) or jQuery\r\n */\r\nexport function clearError(el) {\r\n    if (el.jquery) { // el is jQuery object\r\n        let typ = el.attr(\"type\");\r\n        el = (typ == \"checkbox\" || typ == \"radio\") ? el.get() : el[0];\r\n    }\r\n    $(el).closest(\"[id^=el_], .form-group\").find(\".invalid-feedback\").html(\"\");\r\n}\r\n\r\n/**\r\n * Show error message\r\n * @param {Form} frm Form object\r\n * @param {HTMLElement|HTMLElement[]|jQuery} el HTML element(s) or jQuery\r\n * @param {string} msg Error message\r\n * @param {boolean} focus Set focus\r\n */\r\nexport function onError(frm, el, msg, focus) {\r\n    if (el.jquery) { // el is jQuery object\r\n        let typ = el.attr(\"type\");\r\n        el = (typ == \"checkbox\" || typ == \"radio\") ? el.get() : el[0];\r\n    } else if (el instanceof Field) { // el is Field object\r\n        el = el.element;\r\n    }\r\n    $(el).closest(\"[id^=el_], .form-group\").find(\".invalid-feedback\").append(\"<p>\" + msg + \"</p>\");\r\n    if (focus)\r\n        setFocus(el);\r\n    frm?.makeVisible(el);\r\n    return false;\r\n}\r\n\r\n/**\r\n * Set focus\r\n * @param {HTMLElement|HTMLElement[]} obj HTML element(s)\r\n */\r\nexport function setFocus(obj) {\r\n    if (!obj)\r\n        return;\r\n    var $obj = $(obj);\r\n    if (isHidden($obj))\r\n        return;\r\n    if (isHiddenTextArea(obj)) { // HTML editor\r\n        return $obj.data(\"editor\").focus();\r\n    } else if (isModalLookup(obj)) { // Modal lookup\r\n        return $obj.parent().find(\".ew-lookup-text\").focus();\r\n    } else if (!obj.options && obj.length) { // Radio/Checkbox list\r\n        obj = $obj[0];\r\n    } else if (isAutoSuggest(obj)) { // Auto-Suggest\r\n        obj = obj.input;\r\n    }\r\n    $(obj).focus();//.select();\r\n}\r\n\r\n/**\r\n * Set invalid\r\n * @param {HTMLElement|HTMLElement[]} obj HTML element(s)\r\n */\r\nexport function setInvalid(obj) {\r\n    if (!obj)\r\n        return;\r\n    var $obj = $(obj);\r\n    if (isHidden($obj))\r\n        return;\r\n    if (!obj.options && obj.length) // Radio/Checkbox list\r\n        obj = $obj[0];\r\n    var $p = $obj.closest(\".form-group, [id^='el']\");\r\n    if (isAutoSuggest(obj)) {\r\n        $p.find(\".ew-auto-suggest\").addClass(\"is-invalid\").one(\"click keydown\", function() {\r\n            $p.find(\".is-invalid\").removeClass(\"is-invalid\");\r\n        });\r\n    } else if (isModalLookup(obj)) {\r\n        $p.find(\".input-group\").addClass(\"is-invalid\").one(\"click keydown\", function() {\r\n            $p.find(\".is-invalid\").removeClass(\"is-invalid\");\r\n        });\r\n    } else {\r\n        if (obj.type == \"checkbox\" || obj.type == \"radio\") {\r\n            $obj.addClass(\"is-invalid\").one(\"click keydown\", function() {\r\n                $p.find(\".is-invalid\").removeClass(\"is-invalid\");\r\n            });\r\n        } else {\r\n            $obj.addClass(\"is-invalid\").parent().one(\"click keydown\", function() {\r\n                $p.find(\".is-invalid\").removeClass(\"is-invalid\");\r\n            })\r\n            $obj.closest(\".input-group\").addClass(\"is-invalid\");\r\n        }\r\n    }\r\n}\r\n\r\n// Check if object has value\r\nexport function hasValue(obj) {\r\n    return getOptionValues(obj).join(\"\") != \"\";\r\n}\r\n\r\n// Get Ctrl key for multiple column sort\r\nexport function sort(e, url, type) {\r\n    if (e.shiftKey && !e.ctrlKey)\r\n        url = url.split(\"?\")[0] + \"?cmd=resetsort\";\r\n    else if (type == 2 && e.ctrlKey)\r\n        url += \"&ctrl=1\";\r\n    location = url;\r\n    return true;\r\n}\r\n\r\n// Confirm Delete Message\r\nexport function confirmDelete(el) {\r\n    clickDelete(el);\r\n    _prompt(ew.language.phrase(\"DeleteConfirmMsg\"), (result) => {\r\n        (result && el.href) ? window.location = el.href : clearDelete(el);\r\n    });\r\n    return false;\r\n}\r\n\r\n// Check if any key selected // PHP\r\nexport function keySelected(f) {\r\n    return $(f).find(\"input[type=checkbox][name='key_m[]']:checked\", f).length > 0;\r\n}\r\n\r\n// Select all key\r\nexport function selectAllKey(cb) {\r\n    selectAll(cb);\r\n    var tbl = $(cb).closest(\".ew-table\")[0];\r\n    if (!tbl)\r\n        return;\r\n    $(tbl.tBodies).each(function() {\r\n        $(this.rows).each(function(i, r) {\r\n            var $r = $(r);\r\n            if ($r.is(\":not(.ew-template):not(.ew-table-preview-row)\")) {\r\n                $r.data({ selected: cb.checked, checked: cb.checked });\r\n                setColor(i, r);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// Select all related checkboxes\r\nexport function selectAll(cb) {\r\n    if (!cb || !cb.form)\r\n        return;\r\n    $(cb.form.elements).filter(\"input[type=checkbox][name^=\" + cb.name + \"_], [type=checkbox][name=\" + cb.name + \"]\").not(cb).not(\":disabled\").prop(\"checked\", cb.checked);\r\n}\r\n\r\n// Update selected checkbox\r\nexport function updateSelected(f) {\r\n    return $(f).find(\"input[type=checkbox][name^=u_]:checked,input:hidden[name^=u_][value=1]\").length > 0;\r\n}\r\n\r\n// Set row color\r\nexport function setColor(index, row) {\r\n    var $row = $(row), $tbl = $row.closest(\".ew-table\");\r\n    if (!$tbl[0])\r\n        return;\r\n    if ($row.data(\"selected\")) {\r\n        $row.removeClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\")\r\n            .removeClass($tbl.data(\"roweditclass\") || \"ew-table-edit-row\")\r\n            .addClass($tbl.data(\"rowselectclass\") || \"ew-table-select-row\");\r\n    } else if ([ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($row.data(\"rowtype\"))) {\r\n        $row.removeClass($tbl.data(\"rowselectclass\") || \"ew-table-select-row\")\r\n            .removeClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\")\r\n            .addClass($tbl.data(\"roweditclass\") || \"ew-table-edit-row\");\r\n    } else {\r\n        $row.removeClass($tbl.data(\"rowselectclass\") || \"ew-table-select-row\")\r\n            .removeClass($tbl.data(\"roweditclass\") || \"ew-table-edit-row\")\r\n            .removeClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\");\r\n    }\r\n}\r\n\r\n// Clear selected rows color\r\nexport function clearSelected(tbl) {\r\n    $(tbl.rows).each(function(i, r) {\r\n        var $r = $(r);\r\n        if (!$r.data(\"checked\") && $r.data(\"selected\")) {\r\n            $r.data(\"selected\", false);\r\n            setColor(i, r);\r\n        }\r\n    });\r\n}\r\n\r\n// Clear all row delete status\r\nexport function clearDelete(el) {\r\n    var $el = $(el), tbl = $el.closest(\".ew-table\")[0];\r\n    if (!tbl)\r\n        return;\r\n    var $tr = $el.closest(\".ew-table > tbody > tr\");\r\n    $tr.siblings(\"[data-rowindex='\" + $tr.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\r\n        var $r = $(r);\r\n        $r.data(\"selected\", $r.data(\"checked\"));\r\n    });\r\n}\r\n\r\n// Click single delete link\r\nexport function clickDelete(el) {\r\n    var $el = $(el), tbl = $el.closest(\".ew-table\")[0];\r\n    if (!tbl)\r\n        return;\r\n    clearSelected(tbl);\r\n    var $tr = $el.closest(\".ew-table > tbody > tr\");\r\n    $tr.siblings(\"[data-rowindex='\" + $tr.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\r\n        $(r).data(\"selected\", true);\r\n        setColor(i, r);\r\n    });\r\n}\r\n\r\n// Click multiple checkbox\r\nexport function clickMultiCheckbox(e) {\r\n    var cb = e.target || e.srcElement, $cb = $(cb), tbl = $cb.closest(\".ew-table\")[0];\r\n    if (!tbl)\r\n        return;\r\n    clearSelected(tbl);\r\n    var $tr = $cb.closest(\".ew-table > tbody > tr\");\r\n    $tr.siblings(\"[data-rowindex='\" + $tr.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\r\n        $(r).data(\"checked\", cb.checked).data(\"selected\", cb.checked).find(\"input[type=checkbox][name='key_m[]']\").each(function() {\r\n            if (this != cb) this.checked = cb.checked;\r\n        });\r\n        setColor(i, r);\r\n    });\r\n    e.stopPropagation();\r\n}\r\n\r\n// Setup table\r\nexport function setupTable(index, tbl, force) {\r\n    var $tbl = $(tbl), $rows = $(tbl.rows);\r\n    if (!tbl || !tbl.rows || !force && $tbl.data(\"isset\") || tbl.tBodies.length == 0)\r\n        return;\r\n\r\n    // Set mouse over color\r\n    var mouseOver = function(e) {\r\n        var $this = $(this);\r\n        if (!$this.data(\"selected\") && ![ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($this.data(\"rowtype\"))) {\r\n            var $tbl = $this.closest(\".ew-table\");\r\n            if (!$tbl[0])\r\n                return;\r\n            $this.siblings(\"[data-rowindex='\" + $this.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\r\n                $(r).addClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\");\r\n            });\r\n        }\r\n    }\r\n\r\n    // Set mouse out color\r\n    var mouseOut = function(e) {\r\n        var $this = $(this);\r\n        if (!$this.data(\"selected\") && ![ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($this.data(\"rowtype\")))\r\n            $this.siblings(\"[data-rowindex='\" + $this.data(\"rowindex\") + \"']\").addBack().each(setColor);\r\n    }\r\n\r\n    // Set selected row color\r\n    var click = function(e) {\r\n        var $this = $(this), tbl = $this.closest(\".ew-table\")[0],\r\n            $target = $(e.target);\r\n        if (!tbl || $target.hasClass(\"btn\") || $target.hasClass(\"ew-preview-row-btn\") || $target.is(\":input\"))\r\n            return;\r\n        if (!$this.data(\"checked\")) {\r\n            var selected = $this.data(\"selected\");\r\n            clearSelected(tbl); // Clear all other selected rows\r\n            $this.siblings(\"[data-rowindex='\" + $this.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\r\n                $(r).data(\"selected\", !selected); // Toggle\r\n                setColor(i, r);\r\n            });\r\n        }\r\n    }\r\n\r\n    var n = $rows.filter(\"[data-rowindex=1]\").length || $rows.filter(\"[data-rowindex=0]\").length || 1; // Alternate color every n rows\r\n    var rows = $rows\r\n        .filter(\":not(.ew-template)\")\r\n        .each(function() {\r\n            $(this.cells).removeClass(\"ew-table-last-row\").last().addClass(\"ew-table-last-col\"); // Cell of last column\r\n        }).get();\r\n    var div = $tbl.parentsUntil(\".ew-grid\", \".\" + ew.RESPONSIVE_TABLE_CLASS)[0];\r\n    if (rows.length) {\r\n        for (var i = 1; i <= n; i++) {\r\n            var r = rows[rows.length - i]; // Last rows\r\n            $(r.cells).each(function() {\r\n                if (this.rowSpan == i) // Cell of last row\r\n                    $(this).addClass(\"ew-table-last-row\")\r\n                        .toggleClass(\"ew-table-border-bottom\", !!div && div.clientHeight > tbl.offsetHeight);\r\n            });\r\n        }\r\n    }\r\n    var form = $tbl.closest(\"form\")[0];\r\n    var attach = form && $(form.elements).filter(\"input#action:not([value^=grid])\").length > 0;\r\n    $(tbl.tBodies[tbl.tBodies.length - 1].rows) // Use last TBODY (avoid Opera bug)\r\n        .filter(\":not(.ew-template):not(.ew-table-preview-row)\")\r\n        .each(function(i) {\r\n            var $r = $(this);\r\n            if (attach && !$r.data(\"isset\")) {\r\n                if ([ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($r.data(\"rowtype\"))) // Add/Edit row\r\n                    $r.on(\"mouseover\", function() {this.edit = true;}).addClass(\"ew-table-edit-row\");\r\n                $r.on(\"mouseover\", mouseOver).on(\"mouseout\", mouseOut).on(\"click\", click);\r\n                $r.data(\"isset\", true);\r\n            }\r\n            var sw = i % (2 * n) < n;\r\n            $r.toggleClass(\"ew-table-row\", sw).toggleClass(\"ew-table-alt-row\", !sw);\r\n        });\r\n    setupGrid(index, $tbl.closest(\".ew-grid\")[0], force);\r\n    $tbl.data(\"isset\", true);\r\n}\r\n\r\n// Setup grid\r\nexport function setupGrid(index, grid, force) {\r\n    var $grid = $(grid);\r\n    if (!grid || !force && $grid.data(\"isset\"))\r\n        return;\r\n    var multi = $grid.find(\"table.ew-multi-column-table\").length, rowcnt;\r\n    if (multi) {\r\n        rowcnt = $grid.find(\"td[data-rowindex]\").length;\r\n    } else {\r\n        rowcnt = $grid.find(\"table.ew-table > tbody\").first().children(\"tr:not(.ew-table-preview-row, .ew-template)\").length;\r\n    }\r\n    if (rowcnt == 0 && !$grid.find(\".ew-grid-upper-panel, .ew-grid-lower-panel\")[0])\r\n        $grid.hide();\r\n    // if (!$grid.find(\".ew-grid-upper-panel:visible\")[0])\r\n    // \t$grid.css({\"border-top-left-radius\": 0, \"border-top-right-radius\": 0});\r\n    // if (!$grid.find(\".ew-grid-lower-panel:visible\")[0])\r\n    // \t$grid.css({\"border-bottom-left-radius\": 0, \"border-bottom-right-radius\": 0});\r\n    if ($grid.find(\".ew-grid-middle-panel:visible\").hasClass(ew.RESPONSIVE_TABLE_CLASS) && $grid.width() > $(\".content\").width()) {\r\n        $grid.addClass(\"d-flex\");\r\n        $grid.closest(\".ew-detail-pages\").addClass(\"d-block\");\r\n        $grid.closest(\".ew-form\").addClass(\"w-100\");\r\n        if (ew.USE_OVERLAY_SCROLLBARS)\r\n            $grid.find(\".ew-grid-middle-panel:not(.ew-preview-middle-panel)\").overlayScrollbars(ew.overlayScrollbarsOptions);\r\n    }\r\n    $grid.data(\"isset\", true);\r\n}\r\n\r\n// Add a row to grid\r\nexport function addGridRow(el) {\r\n    var $grid = $(el).closest(\".ew-grid\"),\r\n        $tbl = $grid.find(\"table.ew-table\").last(), $p = $tbl.parent(\"div\"),\r\n        $tpl = $tbl.find(\"tr.ew-template\");\r\n    if (!el || !$grid[0] || !$tbl[0] || !$tpl[0])\r\n        return false;\r\n    var $lastrow = $($tbl[0].rows).last();\r\n    $tbl.find(\"td.ew-table-last-row\").removeClass(\"ew-table-last-row\");\r\n    var $row = $tpl.clone(true, true).removeClass(\"ew-template\");\r\n    var $form = $grid.find(\"div.ew-form[id^=f][id$=grid]\");\r\n    if (!$form[0])\r\n        $form = $grid.find(\"form.ew-form[id^=f][id$=list]\");\r\n    var suffix = ($form.is(\"div\")) ? \"_\" + $form.attr(\"id\") : \"\";\r\n    var $elkeycnt = $form.find(\"#key_count\" + suffix);\r\n    var keycnt = parseInt($elkeycnt.val(), 10) + 1;\r\n    $row.attr({ \"id\": \"r\" + keycnt + $row.attr(\"id\").substring(2), \"data-rowindex\": keycnt });\r\n    var $els = $tpl.find(\"script:contains('$rowindex$')\"); // Get scripts with rowindex\r\n    $row.children(\"td\").each(function() {\r\n        $(this).find(\"*\").each(function() {\r\n            $.each(this.attributes, function(i, attr) {\r\n                attr.value = attr.value.replace(/\\$rowindex\\$/g, keycnt); // Replace row index\r\n            });\r\n        });\r\n    });\r\n    $row.find(\".ew-icon\").closest(\"a, button\").removeData(\"bs.tooltip\").tooltip({ container: \"body\", placement: \"bottom\", trigger: \"hover\", sanitizeFn: ew.sanitizeFn });\r\n    $elkeycnt.val(keycnt).after($(\"<input>\").attr({\r\n        type: \"hidden\",\r\n        id: \"k\" + keycnt + \"_action\" + suffix,\r\n        name: \"k\" + keycnt + \"_action\" + suffix,\r\n        value: \"insert\"\r\n    }));\r\n    $lastrow.after($row);\r\n    $els.each(function() {\r\n        addScript(this.text.replace(/\\$rowindex\\$/g, keycnt));\r\n    });\r\n    var frm = $form.data(\"form\");\r\n    if (frm) {\r\n        frm.initEditors();\r\n        frm.initUpload();\r\n    }\r\n    setupTable(-1, $tbl[0], true);\r\n    $p.scrollTop($p[0].scrollHeight);\r\n    return false;\r\n}\r\n\r\n// Delete a row from grid\r\nexport function deleteGridRow(el, infix) {\r\n    var $el = $(el).tooltip(\"hide\").removeData(\"bs.tooltip\"),\r\n        $grid = $el.closest(\".ew-grid, .ew-multi-column-grid\"),\r\n        $row = $el.closest(\"tr, div[data-rowindex]\"),\r\n        $tbl = $row.closest(\".ew-table\");\r\n    if (!el || !$grid[0] || !$row[0])\r\n        return false;\r\n    var rowidx = parseInt($row.data(\"rowindex\"), 10);\r\n    var $form = $grid.find(\"div.ew-form[id^=f][id$=grid]\");\r\n    if (!$form[0])\r\n        $form = $grid.find(\"form.ew-form[id^=f][id$=list]\");\r\n    var frm = $form.data(\"form\");\r\n    if (!$form[0] || !frm)\r\n        return false;\r\n    var suffix = ($form.is(\"div\")) ? \"_\" + $form.attr(\"id\") : \"\";\r\n    var keycntname = \"#key_count\" + suffix;\r\n    var _delete = function() {\r\n        $row.remove();\r\n        if ($grid.is(\".ew-grid\"))\r\n            setupTable(-1, $tbl[0], true);\r\n        if (rowidx > 0) {\r\n            var $keyact = $form.find(\"#k\" + rowidx + \"_action\" + suffix);\r\n            if ($keyact[0]) {\r\n                $keyact.val(($keyact.val() == \"insert\") ? \"insertdelete\" : \"delete\");\r\n            } else {\r\n                $form.find(keycntname).after($(\"<input>\").attr({\r\n                    type: \"hidden\",\r\n                    id: \"k\" + rowidx + \"_action\" + suffix,\r\n                    name: \"k\" + rowidx + \"_action\" + suffix,\r\n                    value: \"delete\"\r\n                }));\r\n            }\r\n        }\r\n    };\r\n    if ($.isFunction(frm.emptyRow) && frm.emptyRow(infix)) { // Empty row\r\n        _delete();\r\n    } else { // Confirm\r\n        _prompt(ew.language.phrase(\"DeleteConfirmMsg\"), (result) => {\r\n            if (result)\r\n                _delete();\r\n        });\r\n    }\r\n    return false;\r\n}\r\n\r\n// HTML encode text\r\nexport function htmlEncode(text) {\r\n    var str = String(text);\r\n    return str.replace(/&/g, '&amp;').replace(/\\\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n}\r\n\r\n// Get form element(s) as single element or array of radio/checkbox\r\nexport function getElements(el, root) {\r\n    var selector;\r\n    if ($.isObject(el) && el.dataset) { // HTML element (e.g. radio/checkbox)\r\n        selector = \"[data-table='\" + el.dataset.table + \"'][data-field='\" + el.dataset.field + \"']:not([name^=o]):not([name^='x$'])\";\r\n    } else if ($.isString(el)) {\r\n        selector = \"[name='\" + el + \"']\";\r\n        var ar = el.split(\" \"); // Check if \"#id name\"\r\n        if (ar.length == 2)\r\n            selector = \"[data-table='\" + ar[0] + \"'][data-field='\" + getId(ar[1]) + \"']:not([name^=o]):not([name^='x$'])\"; // Remove []\r\n    }\r\n    var root = !$.isString(root) ? root : /^#/.test(root) ? root : \"#\" + root;\r\n    selector = \"input\" + selector + \",select\" + selector + \",textarea\" + selector + \",button\" + selector;\r\n    var $els = (root) ? $(root).find(selector) : $(selector);\r\n    if ($els.length == 1 && $els.is(\":not([type=checkbox]):not([type=radio])\"))\r\n        return $els[0];\r\n    return $els.get();\r\n}\r\n\r\n// Get first element (not necessarily form element)\r\nexport function getElement(name, root) {\r\n    var root = $.isString(root) ? \"#\" + root : root,\r\n        selector = \"#\" + name.replace(/([\\$\\[\\]])/g, \"\\\\$1\") + \",[name='\" + name + \"']\";\r\n    return (root) ? $(root).find(selector)[0] : $(selector).first()[0];\r\n}\r\n\r\n// Get ancestor by function\r\nexport function getAncestorBy(node, fn) {\r\n    while (node = node.parentNode) {\r\n        if (node && node.nodeType == 1 && (!fn || fn(node)))\r\n            return node;\r\n    }\r\n    return null;\r\n}\r\n\r\n// Check if an element is hidden\r\nexport function isHidden(el) {\r\n    var $el = $(el);\r\n    return $el.css(\"display\") == \"none\" && !$el.closest(\".dropdown-menu\")[0] && !isModalLookup(el) && !isAutoSuggest(el) && !isHiddenTextArea(el) ||\r\n        getAncestorBy(el, (node) => node.style.display == \"none\" && !node.classList.contains(\"tab-pane\") && !node.classList.contains(\"collapse\")) != null;\r\n}\r\n\r\n// Check if same text\r\nexport function sameText(o1, o2) {\r\n    return (String(o1).toLowerCase() == String(o2).toLowerCase());\r\n}\r\n\r\n// Check if same string\r\nexport function sameString(o1, o2) {\r\n    return (String(o1) == String(o2));\r\n}\r\n\r\n// Get element value\r\nexport function getValue(el, form) {\r\n    if (!el)\r\n        return \"\";\r\n    let obj;\r\n    if ($.isString(el)) {\r\n        let ar = el.split(\" \");\r\n        if (ar.length == 2) { // Parent field in master table\r\n            obj = getElements(el);\r\n        } else {\r\n            obj = getElements(el, form);\r\n        }\r\n    } else if (el.type == \"radio\" || el.type == \"checkbox\") { // Single radio/checkbox\r\n        obj = getElements(el);\r\n    } else {\r\n        obj = el;\r\n    }\r\n    if (obj.options) { // Selection list\r\n        if (obj.list) {\r\n            let val = obj.values;\r\n            return obj.multiple ? val : (val[0] || \"\");\r\n        } else {\r\n            let val = Array.prototype.filter.call(obj.options, option => option.selected && option.value !== \"\").map(option => option.value);\r\n            return (obj.type == \"select-multiple\") ? val : (val[0] || \"\");\r\n        }\r\n    } else if ($.isNumber(obj.length)) { // Radio/Checkbox list, or element not found\r\n        let val = $(obj).filter(\":checked\").map(function() {\r\n            return this.value;\r\n        }).get();\r\n        return (obj.length == 1) ? val[0] : val;\r\n    } else if (ew.isHiddenTextArea(obj)) {\r\n        $(obj).data(\"editor\").save();\r\n        return obj.value;\r\n    } else { // text/hidden\r\n        let data = $(obj).data();\r\n        if (data.lookup && data.multiple) // Modal-Lookup\r\n            return obj.value.split(ew.MULTIPLE_OPTION_SEPARATOR);\r\n        else\r\n            return obj.value;\r\n    }\r\n}\r\n\r\n// Get existing selected values as an array\r\nexport function getOptionValues(el, form) {\r\n    var obj;\r\n    if ($.isString(el)) {\r\n        var ar = el.split(\" \");\r\n        if (ar.length == 2) { // Parent field in master table\r\n            obj = getElements(el);\r\n        } else {\r\n            obj = getElements(el, form);\r\n        }\r\n    } else if (el.type == \"radio\" || el.type == \"checkbox\") { // Single radio/checkbox\r\n        obj = getElements(el);\r\n    } else {\r\n        obj = el;\r\n    }\r\n    if (obj.options) { // Selection list\r\n        if (obj.list)\r\n            return obj.values;\r\n        else\r\n            return Array.prototype.filter.call(obj.options, option => option.selected && option.value !== \"\").map(option => option.value);\r\n    } else if ($.isNumber(obj.length)) { // Radio/Checkbox list, or element not found\r\n        return $(obj).filter(\":checked\").map(function() {\r\n            return this.value;\r\n        }).get();\r\n    } else if (ew.isHiddenTextArea(obj)) {\r\n        $(obj).data(\"editor\").save();\r\n        return [obj.value];\r\n    } else { // text/hidden\r\n        var data = $(obj).data();\r\n        if (data.lookup && data.multiple) // Modal-Lookup\r\n            return obj.value.split(ew.MULTIPLE_OPTION_SEPARATOR);\r\n        else\r\n            return [obj.value];\r\n    }\r\n}\r\n\r\n// Get existing text of selected values as an array\r\nexport function getOptionTexts(el, form) {\r\n    var obj;\r\n    if ($.isString(el)) {\r\n        var ar = el.split(\" \");\r\n        if (ar.length == 2) { // Parent field in master table\r\n            obj = getElements(el);\r\n        } else {\r\n            obj = getElements(el, form);\r\n        }\r\n    } else {\r\n        obj = el;\r\n    }\r\n    if (isAutoSuggest(obj)) { // AutoSuggest (before obj.options)\r\n        return [obj.input.value];\r\n    } else if (isModalLookup(obj)) { // Modal-Lookup (before obj.options)\r\n        var $obj = $(obj);\r\n        return $obj.parent().find(\".ew-lookup-text .ew-option\").map(function() {\r\n            return $(this).text().trim();\r\n        }).get();\r\n    } else if (obj.options) { // Selection list\r\n        return Array.prototype.filter.call(obj.options, option => option.selected && option.value !== \"\").map(option => option.text);\r\n    } else if ($.isNumber(obj.length)) { // Radio/Checkbox list, or element not found\r\n        return $(obj).filter(\":checked\").map(function() {\r\n            return $(this).parent().text();\r\n        }).get();\r\n    } else if (ew.isHiddenTextArea(obj)) {\r\n        $(obj).data(\"editor\").save();\r\n        return [obj.value];\r\n    } else {\r\n        return [obj.value];\r\n    }\r\n}\r\n\r\n// Clear existing options\r\nexport function clearOptions(obj) {\r\n    if (obj.options) { // Selection list\r\n        var lo = (obj.type == \"select-multiple\" || // multiple\r\n            obj.hasAttribute(\"data-dropdown\") || // dropdown\r\n            convertToBool(obj.getAttribute(\"data-pleaseselect\")) === false || // data-pleaseselect=\"false\"\r\n            obj.length > 0 && obj.options[0].value != \"\") // non-empty first element\r\n            ? 0 : 1;\r\n        if (obj.list) {\r\n            obj.removeAll();\r\n        } else {\r\n            for (var i = obj.length - 1; i >= lo; i--)\r\n                obj.remove(i);\r\n        }\r\n        if (isAutoSuggest(obj)) {\r\n            obj.input.value = \"\";\r\n            obj.value = \"\";\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Get the name or id of an element\r\n *\r\n * @param {*} el - Element\r\n * @param {boolean} [remove=true] - Remove square brackets\r\n * @returns\r\n */\r\nexport function getId(el, remove) {\r\n    var id = ($.isString(el)) ? el : ($(el).attr(\"name\") || $(el).attr(\"id\")); // Use name first (id may have suffix)\r\n    return (remove !== false) ? id.replace(/\\[\\]$/, \"\") : id;\r\n}\r\n\r\n// Get display value separator\r\nexport function valueSeparator(index, obj) {\r\n    var sep = $(obj).data(\"value-separator\");\r\n    return (Array.isArray(sep)) ? sep[index - 1] : (sep || \", \");\r\n}\r\n\r\n/**\r\n * Get display value\r\n *\r\n * @param {Object} opt - Option being displayed\r\n * @param {HTMLElment} obj - HTML element\r\n * @returns {string} Display value\r\n */\r\nexport function displayValue(opt, obj) {\r\n    var text = opt.df;\r\n    for (var i = 2; i <= 4; i++) {\r\n        if (opt[\"df\" + i] && opt[\"df\" + i] != \"\") {\r\n            var sep = valueSeparator(i - 1, obj);\r\n            if ($.isUndefined(sep))\r\n                break;\r\n            if ($.isValue(text))\r\n                text += sep;\r\n            text += opt[\"df\" + i];\r\n        }\r\n    }\r\n    return text;\r\n}\r\n\r\n/**\r\n * Get HTML for a single option\r\n *\r\n * @param {*} val - Value of the option\r\n * @returns {string} HTML\r\n */\r\nexport function optionHtml(val) {\r\n    return ew.OPTION_HTML_TEMPLATE.replace(/\\{value\\}/g, val);\r\n}\r\n\r\n/**\r\n * Get HTML for diplaying all options\r\n *\r\n * @param {string[]} options - Array of all options (HTML)\r\n * @param {number} max - Maximum number of options to show\r\n * @returns {string} HTML\r\n */\r\nexport function optionsHtml(options, max) {\r\n    if (options.length > (max || ew.MAX_OPTION_COUNT)) { // More than max option count\r\n        return ew.language.phrase(\"CountSelected\").replace(\"%s\", options.length);\r\n    } else if (options.length) { // Some options\r\n        var html = \"\";\r\n        for (var i = 0; i < options.length; i++)\r\n            html += optionHtml(options[i]);\r\n        return html;\r\n    } else { // No options\r\n        return ew.language.phrase(\"PleaseSelect\");\r\n    }\r\n}\r\n\r\n/**\r\n * Create new option\r\n *\r\n * @param {(HTMLElement|array)} obj - Selection list\r\n * @param {Object} opt - Object for the new option\r\n * @param {form} f - form object of obj\r\n * @returns\r\n */\r\nexport function newOption(obj, opt, f) {\r\n    var frm = forms.get(f.id),\r\n        id = getId(obj),\r\n        list = frm.getList(id),\r\n        value = opt.lf,\r\n        item = { lf: opt.lf, df1: opt.df, df2: opt.df2, df3: opt.df3, df4: opt.df4 },\r\n        text;\r\n    if (list.template && !isAutoSuggest(obj)) {\r\n        text = list.template.render(item, ew.jsRenderHelpers);\r\n    } else {\r\n        text = displayValue(opt, obj) || value;\r\n    }\r\n    var args = { \"data\": item, \"name\": id, \"form\": f.$element, \"value\": value, \"text\": text };\r\n    if (obj.options) { // Selection list\r\n        let option;\r\n        if (obj.list) {\r\n            option = new SelectionListOption(args.value, args.text);\r\n        } else {\r\n            option = document.createElement(\"option\");\r\n            option.value = args.value;\r\n            option.innerHTML = args.text;\r\n        }\r\n        args = { ...args, option };\r\n        $document.trigger(\"newoption\", [args]); // Fire \"newoption\" event for selection list\r\n        if (obj.list) {\r\n            obj.add(args.option.value, args.option.text);\r\n        } else {\r\n            obj.add(args.option);\r\n        }\r\n    }\r\n    return args.text;\r\n}\r\n\r\n// Select combobox option\r\nexport function selectOption(obj, values) {\r\n    if (!obj || !values)\r\n        return;\r\n    var $obj = $(obj);\r\n    if (Array.isArray(values)) {\r\n        if (obj.options) { // Selection list\r\n            if (obj.list) {\r\n                obj.value = values;\r\n            } else {\r\n                $obj.val(values);\r\n                if (obj.type == \"select-one\" && obj.selectedIndex == -1)\r\n                    obj.selectedIndex = 0; // Make sure an option is selected (IE)\r\n            }\r\n            if (isAutoSuggest(obj) && values.length == 1) {\r\n                let opts = obj.options || [];\r\n                for (let opt of opts) {\r\n                    if (opt.value == values[0]) {\r\n                        obj.value = opt.value;\r\n                        obj.input.value = opt.text;\r\n                        break;\r\n                    }\r\n                }\r\n            } else if (isModalLookup(obj)) {\r\n                let vals = [],\r\n                    html = [],\r\n                    opts = obj.options || [];\r\n                for (let value of values) {\r\n                    for (let opt of opts) {\r\n                        if (value == opt.value) {\r\n                            vals.push(opt.value);\r\n                            html.push(optionHtml(opt.text));\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                $obj.val(vals.join(ew.MULTIPLE_OPTION_SEPARATOR));\r\n                $obj.parent().find(\".ew-lookup-text\").html(optionsHtml(html, $obj.data(\"maxcount\")));\r\n            }\r\n        } else if (obj.type) {\r\n            obj.value = values.join(ew.MULTIPLE_OPTION_SEPARATOR);\r\n        }\r\n    }\r\n    // Auto-select if only one option\r\n    function isAutoSelect(el) {\r\n        if (!$(el).data(\"autoselect\")) // data-autoselect=\"false\"\r\n            return false;\r\n        var form = getForm(el);\r\n        if (form) {\r\n            if (/s(ea)?rch$/.test(form.id)) // Search forms\r\n                return false;\r\n            var list = forms.get(form.id).getList(el.id);\r\n            if (list && list.parentFields.length == 0) // No parent fields\r\n                return false;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    if (!isAutoSelect(obj))\r\n        return;\r\n    if (obj.options) { // Selection List\r\n        if (!obj.list && obj.type == \"select-one\" && obj.options.length == 2 && !obj.options[1].selected) {\r\n            obj.options[1].selected = true;\r\n        } else if (obj.options.length == 1 && !obj.options[0].selected) {\r\n            obj.options[0].selected = true;\r\n        }\r\n        if (obj.list)\r\n            obj.render();\r\n        if (isAutoSuggest(obj)) {\r\n            let opts = obj.options || [];\r\n            if (opts.length == 1) {\r\n                obj.value = opts[0].value;\r\n                obj.input.value = opts[0].text;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Ajax send\r\n$document.ajaxSend(function(event, jqxhr, settings) {\r\n    var url = settings.url;\r\n    if (url.match(/\\/(\\w+preview|session)\\?/i)) // Preview/Session page\r\n        _removeSpinner(); // Preview has spinner already\r\n    var apiUrl = getApiUrl(), isApi = url.startsWith(apiUrl), // Is API request\r\n        allowed = isApi || url.startsWith(currentPage());\r\n    if (!allowed && url.match(/^http/i)) {\r\n        var objUrl = new URL(url);\r\n        allowed = objUrl.hostname == currentUrl.hostname; // Same host name\r\n    }\r\n    if (allowed) {\r\n        if (isApi && ew.API_JWT_TOKEN && !ew.IS_WINDOWS_AUTHENTICATION) // Do NOT set JWT authorization header if Windows Authentication\r\n            jqxhr.setRequestHeader(ew.API_JWT_AUTHORIZATION_HEADER, \"Bearer \" + ew.API_JWT_TOKEN);\r\n        if (settings.type == \"GET\") { // GET\r\n            var ar = settings.url.split(\"?\"), params = new URLSearchParams(ar[1]);\r\n            params.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // Add token name // PHP\r\n            params.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // Add antiforgery token // PHP\r\n            ar[1] = params.toString();\r\n            settings.url = ar[0] + (ar[1] ? \"?\" + ar[1] : \"\");\r\n        } else { // POST\r\n            if (settings.data instanceof FormData) { // FormData\r\n                settings.data.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // Add token name // PHP\r\n                settings.data.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // Add antiforgery token // PHP\r\n            } else {\r\n                var params = new URLSearchParams(settings.data);\r\n                params.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // Add token name // PHP\r\n                params.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // Add antiforgery token // PHP\r\n                settings.data = params.toString();\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n// Ajax start\r\n$document.ajaxStart(function() {\r\n    $document.data(\"_ajax\", true);\r\n    ew.addSpinner();\r\n    $(\"form.ew-form\").addClass(\"ew-wait\").each(function() {\r\n        var frm = forms.get(this.id);\r\n        if (frm) {\r\n            if (!frm.multiPage || !frm.multiPage.lastPageSubmit)\r\n                frm.disableForm();\r\n        }\r\n    });\r\n});\r\n\r\n// Ajax stop (internal)\r\nfunction _ajaxStop() {\r\n    $(\"form.ew-form.ew-wait\").removeClass(\"ew-wait\").each(function() {\r\n        var frm = forms.get(this.id);\r\n        if (frm) {\r\n            if (!frm.multiPage || !frm.multiPage.lastPageSubmit) {\r\n                frm.enableForm();\r\n            }\r\n        }\r\n    });\r\n    ew.removeSpinner();\r\n    $document.data(\"_ajax\", false);\r\n}\r\n\r\n// Ajax stop/error\r\n$document.ajaxStop(_ajaxStop).ajaxError(_ajaxStop);\r\n\r\n// Execute JavaScript in HTML loaded by Ajax\r\nexport function executeScript(html, id) {\r\n    let matches = html.replace(/<head>[\\s\\S]*<\\/head>/, \"\").matchAll(/<script([^>]*)>([\\s\\S]*?)<\\/script\\s*>/ig);\r\n    Array.from(matches).forEach((ar, i) => {\r\n        let text = ar[2];\r\n        if (/(\\s+type\\s*=\\s*['\"]*text\\/javascript['\"]*)|^((?!\\s+type\\s*=).)*$/i.test(ar[1]) && text)\r\n            addScript(text, \"scr_\" + id + \"_\" + i++);\r\n    });\r\n}\r\n\r\n// Strip JavaScript in HTML loaded by Ajax\r\nexport function stripScript(html) {\r\n    let matches = html.matchAll(/<script([^>]*)>([\\s\\S]*?)<\\/script\\s*>/ig);\r\n    for (let ar of matches) {\r\n        let text = ar[0];\r\n        if (/(\\s+type\\s*=\\s*['\"]*text\\/javascript['\"]*)|^((?!\\s+type\\s*=).)*$/i.test(ar[1]))\r\n            html = html.replace(text, \"\");\r\n    }\r\n    return html;\r\n}\r\n\r\n// Add SCRIPT tag\r\nexport function addScript(text, id) {\r\n    var scr = document.createElement(\"SCRIPT\");\r\n    if (id)\r\n        scr.id = id;\r\n    scr.text = text;\r\n    return document.body.appendChild(scr); // Do not use jQuery so it can be removed\r\n}\r\n\r\n// Remove JavaScript added by Ajax\r\nexport function removeScript(id) {\r\n    if (id)\r\n        $(\"script[id^='scr_\" + id + \"_']\").remove();\r\n}\r\n\r\n// Clean HTML loaded by Ajax for modal dialog\r\nexport function getContent(html) {\r\n    let body = stripScript(html).match(/<body[\\s\\S]*>[\\s\\S]*<\\/body>/i);\r\n    return body ? $(body[0]).not(\"div[id^=ew].modal, #ew-tooltip, #ew-drilldown-panel, #cookie-consent, #template-upload, #template-download\") : \"\";\r\n}\r\n\r\n// Get all options of Selection list or Radio/Checkbox list as array\r\nexport function getOptions(obj) {\r\n    return obj.options ? Array.prototype.map.call(obj.options, (opt) => [opt.value, opt.text]) : [];\r\n}\r\n\r\n/**\r\n * Show Add Option dialog\r\n *\r\n * @param {Object} args - Arguments\r\n * @param {Object} args.frm - form object\r\n * @param {HTMLElement} args.lnk - Add option anchor element\r\n * @param {string} args.el - Form element name\r\n * @param {string} args.url - URL of the Add form\r\n * @returns\r\n */\r\nexport function addOptionDialogShow(args) {\r\n\r\n    // Hide dialog\r\n    var _hide = function() {\r\n        removeScript($dlg.data(\"args\").el);\r\n        var frm = $dlg.removeData(\"args\").find(\".modal-body form\").data(\"form\");\r\n        if (frm)\r\n            frm.destroyEditor();\r\n        $dlg.find(\".modal-body\").html(\"\");\r\n        $dlg.find(\".modal-footer .btn-primary\").unbind();\r\n        $dlg.data(\"showing\", false);\r\n    }\r\n\r\n    var $dlg = ew.addOptionDialog || $(\"#ew-add-opt-dialog\").on(\"hidden.bs.modal\", _hide);\r\n    if (!$dlg[0]) {\r\n        _alert(\"DIV #ew-add-opt-dialog not found.\");\r\n        return;\r\n    }\r\n    if ($dlg.data(\"showing\"))\r\n        return;\r\n    $dlg.data(\"showing\", true);\r\n\r\n    // Submission success\r\n    var _submitSuccess = function(data) {\r\n        var results = data,\r\n            args = $dlg.data(\"args\"),\r\n            frm = forms.get(args.lnk), // form object\r\n            objName = $dlg.find(\".modal-body form input[name='\" + ew.API_OBJECT_NAME + \"']\").val(), // Get object name from form\r\n            el = args.el, // HTML element name\r\n            re = /^x(\\d+)_/,\r\n            m = el.match(re), // Check row index\r\n            prefix = m ? m[0] : \"x_\",\r\n            index = m ? m[1] : -1,\r\n            name = el.replace(re, \"x_\"),\r\n            list = frm.getList(el);\r\n        if ($.isString(data))\r\n            results = parseJson(data);\r\n        if (results?.success && results[objName]) { // Success\r\n            $dlg.modal(\"hide\");\r\n            var result = results[objName],\r\n                form = frm.$element[0], // HTML form or DIV\r\n                obj = getElements(el, form);\r\n            if (obj) {\r\n                var lf = list.linkField,\r\n                    dfs = list.displayFields.slice(), // Clone\r\n                    ffs = list.filterFields.slice(), // Clone\r\n                    pfs = list.parentFields.slice(); // Clone\r\n                pfs.forEach((pf, i) => {\r\n                    if (pf.split(\" \").length == 1) // Parent field in the same table, add row index\r\n                        pfs[i] = pfs[i].replace(/^x_/, prefix);\r\n                });\r\n                var lfv = (lf != \"\") ? result[lf] : \"\",\r\n                    row = { lf: lfv };\r\n                dfs.forEach((df, i) => {\r\n                    if (df in result)\r\n                        row[\"df\" + (i || \"\")] = result[df];\r\n                });\r\n                ffs.forEach((ff, i) => {\r\n                    if (ff in result)\r\n                        row[\"ff\" + (i || \"\")] = result[ff];\r\n                });\r\n                if (lfv && dfs.length > 0 && row[\"df\"]) {\r\n                    if (list.ajax === null) // Non-Ajax\r\n                        list.lookupOptions.push(row);\r\n                    var arp = pfs.map(pf => getOptionValues(pf, form)), // Get the parent field values\r\n                        args = {\"data\": row, \"parents\": arp, \"valid\": true, \"name\": getId(obj), \"form\": form};\r\n                    $document.trigger(\"addoption\", [args]);\r\n                    if (args.valid) { // Add the new option\r\n                        var ar = getOptions(obj),\r\n                            vals = [];\r\n                        var txt = newOption(obj, row, form);\r\n                        if (obj.options) {\r\n                            obj.options[obj.options.length - 1].selected = true;\r\n                            if (obj.list) { // Radio/Checkbox list\r\n                                obj.render();\r\n                                $(obj.target).find(\"input\").last().focus();\r\n                            }\r\n                            if (isAutoSuggest(obj)) {\r\n                                $(obj).val(lfv).change();\r\n                                $(obj.input).val(txt).focus();\r\n                            } else if (isModalLookup(obj)) {\r\n                                var $obj = $(obj), $lu = $(getElement(\"lu_\" + args.name, form));\r\n                                if (obj.multiple) { // Add to existing values\r\n                                    var val = $(obj).val(), vals = [], nv = String(lfv);\r\n                                    if (val !== \"\")\r\n                                        vals = val.split(ew.MULTIPLE_OPTION_SEPARATOR);\r\n                                    if (!vals.includes(nv)) {\r\n                                        vals.push(nv);\r\n                                        $obj.val(vals.join()).change();\r\n                                        var html = $lu.html(), arOpt = $lu.find(\".ew-option\").map(function() {\r\n                                            return $(this).html();\r\n                                        }).get();\r\n                                        if (arOpt.length) { // Some options selected\r\n                                            arOpt.push(txt);\r\n                                            $lu.html(optionsHtml(arOpt, $obj.data(\"maxcount\")));\r\n                                        } else if (html == ew.language.phrase(\"PleaseSelect\")) { // No options selected\r\n                                            $lu.html(optionHtml(txt));\r\n                                        } else if (html) { // Many options selected\r\n                                            $lu.html(ew.language.phrase(\"CountSelected\").replace(\"%s\", vals.length));\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    $obj.val(lfv).change();\r\n                                    $lu.html(txt);\r\n                                }\r\n                            } else {\r\n                                $(obj).change().focus();\r\n                            }\r\n                        }\r\n                        var $form = $(form), suffix = ($form.is(\"div\")) ? \"_\" + $form.attr(\"id\") : \"\";\r\n                        var cnt = $form.find(\"#key_count\" + suffix).val();\r\n                        if (cnt > 0) { // Grid-Add/Edit, update other rows\r\n                            for (var i = 1; i <= cnt; i++) {\r\n                                if (i == index)\r\n                                    continue;\r\n                                var obj2 = getElements(name.replace(/^x/, \"x\" + i), form);\r\n                                var ar2 = getOptions(obj2), vals = [];\r\n                                if (JSON.stringify(ar) != JSON.stringify(ar2)) // Not same options\r\n                                    continue;\r\n                                newOption(obj2, row, form);\r\n                                if (obj2.options && obj.list) // Radio/Checkbox list\r\n                                    obj2.render();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else { // Failure\r\n            if (results?.error) {\r\n                 if ($.isString(results.error))\r\n                    showToast(results.error);\r\n                else if ($.isString(results.error?.description))\r\n                    showToast(results.error.description);\r\n            } else {\r\n                var msg,\r\n                    $div = $(\"<div></div>\").html(data).find(\"div.ew-message-dialog\");\r\n                if ($div[0]) {\r\n                    msg = $div.html();\r\n                } else {\r\n                    msg = results?.failureMessage || data;\r\n                    if (!msg || String(msg).trim() == \"\")\r\n                        msg = ew.language.phrase(\"InsertFailed\");\r\n                }\r\n                showToast(msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Fail\r\n    var _fail = function(o) {\r\n        $dlg.modal(\"hide\");\r\n        _alert(\"Server Error \" + o.status + \": \" + o.statusText);\r\n    }\r\n\r\n    // Submit\r\n    var _submit = function(e) {\r\n        let $dlg = ew.addOptionDialog,\r\n            form = $dlg.find(\".modal-body form\")[0],\r\n            frm = forms.get(form.id),\r\n            btn = e ? e.target : null,\r\n            $btn = $(btn);\r\n        if (frm.canSubmit()) {\r\n            $btn.prop(\"disabled\", false).removeClass(\"disabled\");\r\n            $body.css(\"cursor\", \"wait\");\r\n            $.post(getApiUrl(ew.API_ADD_ACTION), $(form).serialize(), _submitSuccess).fail(_fail).always(function() {\r\n                frm.enableForm();\r\n                $btn.prop(\"disabled\", false).removeClass(\"disabled\");\r\n                $body.css(\"cursor\", \"default\");\r\n            });\r\n        }\r\n        return false;\r\n    }\r\n\r\n    $dlg.modal(\"hide\");\r\n    $dlg.data(\"args\", args);\r\n\r\n    // Get form HTML\r\n    var success = function(data) {\r\n        var frm = forms.get(args.lnk),\r\n            prefix = \"x_\",\r\n            m = args.el.match(/^(x\\d+_)/);\r\n        if (m) // Contains row index\r\n            prefix = m[1];\r\n        var list = frm.getList(args.el),\r\n            pfs = list.parentFields.slice() // Clone\r\n                .map(pf => (pf.split(\" \").length == 1) ? pf.replace(/^x_/, prefix) : pf), // Parent field in the same table, add row index\r\n            form = frm.htmlForm,\r\n            ar = pfs.map(pf => getOptionValues(pf, form)),\r\n            ar2 = pfs.map(pf => getOptionTexts(pf, form)),\r\n            ffs = list.filterFieldVars.slice(); // Clone\r\n        $dlg.find(\".modal-title\").html($(args.lnk).closest(\".ew-add-opt-btn\").data(\"title\"));\r\n        $dlg.find(\".modal-body\").html(stripScript(data));\r\n        var form = $dlg.find(\".modal-body form\")[0];\r\n        if (form) { // Set the filter field value\r\n            $(form).keypress(function(e) {\r\n                if (e.which == 13 && e.target.nodeName != \"TEXTAREA\")\r\n                    return _submit();\r\n            });\r\n            ar.forEach((v, i) => {\r\n                (function() {\r\n                    var obj = getElements(ffs[i], form);\r\n                    if (obj) {\r\n                        if (obj.options || obj.length) { // Selection list\r\n                            $(obj).first().one(\"updatedone\", () => selectOption(obj, v));\r\n                        } else {\r\n                            selectOption(obj, v);\r\n                        }\r\n                    }\r\n                })();\r\n            });\r\n        }\r\n        ew.addOptionDialog = $dlg.modal(\"show\");\r\n        $dlg.find(\".modal-footer .btn-primary\").click(_submit).focus();\r\n        executeScript(data, args.el);\r\n        if (form) { // Set the filter field value\r\n            ar.forEach((v, i) => {\r\n                var obj = getElements(ffs[i], form);\r\n                if (obj) {\r\n                    if (isAutoSuggest(obj)) { // AutoSuggest\r\n                        obj.value = v[0];\r\n                        obj.input.value = ar2[i][0];\r\n                        obj.add(v[0], ar2[i][0], true);\r\n                    } else if (isModalLookup(obj)) { // Modal-Lookup\r\n                        obj.value = v[0];\r\n                        updateOptions.call(forms.get(form.id), obj);\r\n                    } else if (obj.options || obj.length) { // Selection list\r\n                        // Skip\r\n                    } else { // Text\r\n                        obj.value = v[0];\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        $dlg.trigger(\"load.ew\");\r\n    };\r\n    $.get(args.url, success).fail(_fail);\r\n}\r\n\r\n// Hide Modal dialog\r\nexport function modalDialogHide(e) {\r\n    var $dlg = $(this), args = $dlg.data(\"args\");\r\n    removeScript(\"ModalDialog\");\r\n    var frm = $dlg.removeData(\"args\").find(\".modal-body form\").data(\"form\");\r\n    if (frm)\r\n        frm.destroyEditor();\r\n    var $bd = $dlg.find(\".modal-body\").html(\"\");\r\n    if ($bd.ewjtable && $bd.ewjtable(\"instance\"))\r\n        $bd.ewjtable(\"destroy\");\r\n    $dlg.find(\".modal-footer .btn-primary\").unbind();\r\n    $dlg.find(\".modal-dialog\").removeClass(function(index, className) {\r\n        var m = className.match(/table\\-\\w+/);\r\n        return (m) ? m[0] : \"\";\r\n    });\r\n    $dlg.data(\"showing\", false);\r\n    $dlg.data(\"url\", null);\r\n    if (args && args.reload)\r\n        window.location.reload(true);\r\n}\r\n\r\n/**\r\n * Show modal dialog\r\n *\r\n * @param {Object} args - Arguments\r\n * @param {HTMLFormElement} args.f - Form of List page\r\n * @param {HTMLElement} args.lnk - Anchor element\r\n * @param {string} args.url - URL of the form\r\n * @param {string|null} args.btn - Button phrase ID\r\n * @param {string} args.caption - Caption in dialog header\r\n * @param {boolean} args.reload - Reload page after hiding dialog or not\r\n * @param {string} args.size - Size of the dialog 'modal-sm'|''|modal-lg'|'modal-xl'(default)\r\n * @returns false\r\n */\r\nexport function modalDialogShow(args) {\r\n    $(args.lnk).tooltip(\"hide\");\r\n    var f = args.f;\r\n    if (f && !keySelected(f)) {\r\n        _prompt(\"<p class=\\\"text-danger\\\">\" + ew.language.phrase(\"NoRecordSelected\") + \"</p>\");\r\n        return false;\r\n    }\r\n\r\n    var $dlg = ew.modalDialog || $(\"#ew-modal-dialog\").on(\"hidden.bs.modal\", modalDialogHide); // div#ew-modal-dialog always exists\r\n    if ($dlg.data(\"showing\") && $dlg.data(\"url\") == args.url)\r\n        return false;\r\n    $dlg.data({ showing: true, url: args.url });\r\n    args.reload = false;\r\n\r\n    // size\r\n    if (args.size === \"modal-sm\") { // 300px\r\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-sm\", true).toggleClass(\"modal-lg modal-xl\", false);\r\n    } else if (args.size === \"\") { // 500px\r\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-sm modal-lg modal-xl\", false);\r\n    } else if (args.size === \"modal-lg\") { // 800px\r\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-lg\", true).toggleClass(\"modal-sm modal-xl\", false);\r\n    } else { // Default = 1140px\r\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-xl\", true).toggleClass(\"modal-sm modal-lg\", false);\r\n    }\r\n\r\n    // caption\r\n    var _caption = function() {\r\n        var args = $dlg.data(\"args\");\r\n        var $lnk = $(args.lnk);\r\n        return args.caption || $lnk.data(\"caption\") || $lnk.data(\"original-title\") || \"\";\r\n    };\r\n\r\n    // button text\r\n    var _button = function() {\r\n        var args = $dlg.data(\"args\");\r\n        if ($.isNull(args.btn))\r\n            return \"\";\r\n        else if (args.btn && args.btn != \"\")\r\n            return ew.language.phrase(args.btn);\r\n        else\r\n            return _caption();\r\n    };\r\n\r\n    // fail\r\n    var _fail = function(o) {\r\n        $dlg.modal(\"hide\");\r\n        if (o.status)\r\n            _alert(\"Server Error \" + o.status + \": \" + o.statusText);\r\n    }\r\n\r\n    // always\r\n    var _always = function(o) {\r\n        $body.css(\"cursor\", \"default\");\r\n    }\r\n\r\n    // check if current page\r\n    var _current = function(url) {\r\n        var a = $(\"<a>\", { href: url })[0];\r\n        return window.location.pathname.endsWith(a.pathname);\r\n    }\r\n\r\n    // submit success\r\n    var _submitSuccess = function(data) {\r\n        var result = parseJson(data);\r\n        if ($.isObject(result)) {\r\n            if ($.isString(result.failureMessage)) {\r\n                _alert(result.failureMessage);\r\n            } else if (result.error) {\r\n                if ($.isString(result.error))\r\n                    _alert(result.error);\r\n                else if ($.isString(result.error?.description))\r\n                    _alert(result.error.description);\r\n            } else {\r\n                var url = result.url;\r\n                if (result.modal && !_current(url)) {\r\n                    var args = $dlg.data(\"args\");\r\n                    args.reload = true;\r\n                    if (result.caption)\r\n                        args.caption = result.caption;\r\n                    args.btn = result.view ? null : \"\";\r\n                    $dlg.data(\"args\", args);\r\n                    url += (url.split(\"?\").length > 1 ? \"&\" : \"?\") + \"modal=1&rnd=\" + random();\r\n                    $body.css(\"cursor\", \"wait\");\r\n                    $.ajax(url).done(success).fail(_fail).always(_always);\r\n                } else {\r\n                    $dlg.modal(\"hide\");\r\n                    window.location = url;\r\n                }\r\n            }\r\n        } else {\r\n            var body = getContent(data);\r\n            var $bd = $dlg.find(\".modal-body\").html(body);\r\n            var footer = \"\";\r\n            var cf = $bd.find(\"#confirm\");\r\n            var ct = $bd.find(\"#conflict\");\r\n            if (ct && ct.val() == \"1\") { // Conflict page\r\n                footer += \"<button type=\\\"button\\\" id=\\\"btn-overwrite\\\" class=\\\"btn btn-primary ew-btn\\\">\" + ew.language.phrase(\"OverwriteBtn\") + \"</button>\";\r\n                footer += \"<button type=\\\"button\\\" id=\\\"btn-reload\\\" class=\\\"btn btn-default ew-btn\\\">\" + ew.language.phrase(\"ReloadBtn\") + \"</button>\";\r\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\r\n                $dlg.find(\".modal-footer\").html(footer);\r\n                $dlg.find(\".modal-footer #btn-overwrite\").on('click', {action: 'overwrite'}, _submit);\r\n                $dlg.find(\".modal-footer #btn-reload\").on('click', {action: 'show'}, _submit);\r\n            } else if (cf && cf.val() == \"confirm\") { // Confirm page\r\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-primary ew-btn\\\">\" + ew.language.phrase(\"ConfirmBtn\") + \"</button>\";\r\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\r\n                $dlg.find(\".modal-footer\").html(footer);\r\n                $dlg.find(\".modal-footer .btn-primary\").click(_submit).focus();\r\n                $dlg.find(\".modal-footer .btn-default\").on(\"click\", {action: \"cancel\"}, _submit);\r\n            } else { // Normal page\r\n                var btn = _button();\r\n                if (btn)\r\n                    footer += \"<button type=\\\"button\\\" class=\\\"btn btn-primary ew-btn\\\">\" + btn + \"</button>\";\r\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\r\n                $dlg.find(\".modal-footer\").html(footer);\r\n                $dlg.find(\".modal-footer .btn-primary\").addClass(\"ew-submit\").click(_submit).focus();\r\n            }\r\n            executeScript(data, \"ModalDialog\");\r\n            $dlg.trigger(\"load.ew\"); // Trigger load event for, e.g. Use JavaScript popup message\r\n        }\r\n    }\r\n\r\n    // submit\r\n    var _submit = function(e) {\r\n        var form = $dlg.find(\".modal-body form\")[0],\r\n            $form = $(form),\r\n            frm = forms.get(form.id),\r\n            action = e && e.data ? e.data.action : null,\r\n            btn = e ? e.target : null;\r\n        if (btn) {\r\n            if (btn.classList.contains(\"disabled\"))\r\n                return false;\r\n            frm.enableForm = function() {\r\n                $(btn).prop(\"disabled\", false).removeClass(\"disabled\");\r\n            };\r\n            frm.disableForm = function() {\r\n                $(btn).prop(\"disabled\", true).addClass(\"disabled\");\r\n            };\r\n        }\r\n        var input = form.elements[\"action\"];\r\n        if (action && input)\r\n            input.value = action; // Update action\r\n        if (action == \"cancel\") { // Cancel\r\n            $.post($form.attr(\"action\"), $form.serialize(), success).fail(_fail).always(_always);\r\n        } else if (frm.canSubmit()) {\r\n            $body.css(\"cursor\", \"wait\");\r\n            $.post($form.attr(\"action\"), $form.serialize(), _submitSuccess).fail(_fail).always(function() {\r\n                frm.enableForm();\r\n                _always();\r\n            });\r\n        }\r\n        return false;\r\n    }\r\n\r\n    $dlg.modal(\"hide\");\r\n    $dlg.data(\"args\", args);\r\n\r\n    var success = function(data) {\r\n        var result = parseJson(data);\r\n        if ($.isObject(result)) {\r\n            if (result.error)\r\n                _alert(result.error);\r\n        } else {\r\n            var args = $dlg.data(\"args\");\r\n            var $lnk = $(args.lnk);\r\n            $dlg.find(\".modal-title\").html(_caption());\r\n            var footer = \"\";\r\n            var btn = _button();\r\n            if (btn)\r\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-primary ew-btn\\\">\" + btn + \"</button>\";\r\n            if (footer != \"\")\r\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\r\n            else\r\n                footer = \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CloseBtn\") + \"</button>\";\r\n            $dlg.find(\".modal-footer\").html(footer);\r\n            var body = getContent(data);\r\n            $dlg.find(\".modal-body\").html(body);\r\n            var table = $lnk.data(\"table\");\r\n            if (table)\r\n                $dlg.find(\".modal-dialog\").addClass(\"table-\" + table);\r\n            var $btn = $dlg.find(\".modal-footer .btn-primary\").addClass(\"ew-submit\").click(_submit);\r\n            $dlg.find(\".modal-body form\").keypress(function(e) {\r\n                if (e.which == 13 && e.target.nodeName != \"TEXTAREA\")\r\n                    return $btn.click();\r\n            });\r\n            ew.modalDialog = $dlg.modal(\"show\");\r\n            executeScript(data, \"ModalDialog\");\r\n            $dlg.trigger(\"load.ew\"); // Trigger load event for, e.g. YouTube videos, ReCAPTCHA and Google maps\r\n            $btn.focus();\r\n        }\r\n    };\r\n\r\n    $body.css(\"cursor\", \"wait\");\r\n\r\n    var url = args.url;\r\n    if (f) { // Post form\r\n        var $f = $(f);\r\n        if (!f.elements.modal)\r\n            $(\"<input>\").attr({type: \"hidden\", name: \"modal\", value: \"1\"}).appendTo($f);\r\n        $.post(url, $f.serialize(), success).fail(_fail).always(_always);\r\n    } else {\r\n        url += (url.split(\"?\").length > 1 ? \"&\" : \"?\") + \"modal=1&rnd=\" + random();\r\n        $.get(url, success).fail(_fail).always(_always);\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n// Show Modal Lookup\r\nexport function modalLookupShow(args) {\r\n    var el = args.el, f = getForm(args.lnk);\r\n    if (!f || !el)\r\n        return;\r\n\r\n    var $dlg = ew.modalLookupDialog || $(\"#ew-modal-lookup-dialog\").on(\"hidden.bs.modal\", modalDialogHide);\r\n    if (!$dlg[0]) {\r\n        _alert(\"DIV #ew-modal-lookup-dialog not found.\");\r\n        return;\r\n    }\r\n    if ($dlg.data(\"showing\"))\r\n        return;\r\n    $dlg.data(\"showing\", true);\r\n\r\n    var $f = $(f),\r\n        $input = $f.find(\"[id='\" + el + \"']\"), // id may contains \"[]\"\r\n        $bd = $dlg.find(\".modal-body\"),\r\n        $lnk = $(args.lnk),\r\n        $lu = $lnk.closest(\".ew-lookup-list\").find(\".ew-lookup-text\").focus(),\r\n        oid = getId(el, false),\r\n        m = oid.match(/^([xy])(\\d*)_/),\r\n        rowindex = m ? m[2] : \"\",\r\n        list = forms.get(f.id).getList(el);\r\n\r\n    // Format data\r\n    var _format = function(data) {\r\n        if (data.result == \"OK\" && Array.isArray(data.records)) {\r\n            data.records.forEach(function(ar, index) {\r\n                var item;\r\n                if (Array.isArray(ar))\r\n                    item = { \"lf\": ar[0], \"df1\": ar[1], \"df2\": ar[2], \"df3\": ar[3], \"df4\": ar[4] };\r\n                else if ($.isObject(ar))\r\n                    item = { lf: ar.lf, df1: ar.df, df2: ar.df2, df3: ar.df3, df4: ar.df4 };\r\n                var txt = displayValue(ar, $input);\r\n                if (list.template) {\r\n                    item[\"df\"] = list.template.render(item, ew.jsRenderHelpers);\r\n                } else {\r\n                    item[\"df\"] = txt;\r\n                }\r\n                item[\"txt\"] = txt;\r\n                data.records[index] = item;\r\n            });\r\n        }\r\n        return data;\r\n    }\r\n\r\n    // Set AutoSuggest\r\n    var setAutoSuggest = function(value, text) {\r\n        if (!isAutoSuggest($input))\r\n            return;\r\n        let el = $input[0];\r\n        el.add(value, text, true);\r\n        el.input.value = text;\r\n    }\r\n\r\n    // Add option\r\n    var addOpt = function(ar) {\r\n        // Check if selected records are in the current page\r\n        var vals = [], html = [], opts = [], txts = [], useText = !args.m && args.srch;\r\n        $bd.ewjtable(\"selectedRows\").each(function() {\r\n            var record = $(this).data(\"record\");\r\n            vals.push(record.lf);\r\n            html.push(record.df);\r\n            opts.push(record.df);\r\n            txts.push(record.txt); // Text for Auto-Suggest\r\n        });\r\n        if (ar.sort().join() === vals.sort().join()) { // All selected records are from the current page\r\n            $lu.html(optionsHtml(opts, $input.data(\"maxcount\")));\r\n            setAutoSuggest(vals.join(), txts.join(\", \"));\r\n            $input.val(useText ? html.join(\", \") : vals.join()).change();\r\n        } else { // Get selected records from server\r\n            var data = Object.assign({ page: list.page, field: list.field, ajax: \"modal\", keys: ar }, getUserParams('#p_' + oid, f));\r\n            $body.css(\"cursor\", \"wait\");\r\n            $.ajax(getApiUrl(ew.API_LOOKUP_ACTION), {\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                data: data\r\n            }).done(_format).then(function(data) {\r\n                if (data.result == \"OK\" && Array.isArray(data.records)) {\r\n                    var vals = [], html = [], opts = [], txts = [], results = data.records;\r\n                    for (let result of results) {\r\n                        vals.push(result.lf);\r\n                        html.push(result.df)\r\n                        opts.push(result.df);\r\n                        txts.push(result.txt); // Text for Auto-Suggest\r\n                    }\r\n                    $lu.html(optionsHtml(opts, $input.data(\"maxcount\")));\r\n                    setAutoSuggest(vals.join(), txts.join(\", \"));\r\n                    $input.val(useText ? html.join(\", \") : vals.join()).change();\r\n                }\r\n            }).always(function() {\r\n                $body.css(\"cursor\", \"default\");\r\n            });\r\n        }\r\n    }\r\n\r\n    // Submit\r\n    var _submit = function() {\r\n        addOpt(arLinkValue);\r\n        $dlg.modal(\"hide\");\r\n        return false;\r\n    }\r\n\r\n    // Hide\r\n    $dlg.modal(\"hide\");\r\n    $dlg.data(\"args\", args);\r\n    var _timer, $search;\r\n\r\n    // Success\r\n    var success = function(data) {\r\n        if (data.result == \"OK\") {\r\n            $dlg.find(\".modal-title\").html($lnk.attr(\"title\") || $lnk.data(\"original-title\"));\r\n            $dlg.find(\".modal-body .ewjtable thead\").toggle(!!args.m);\r\n            $dlg.find(\".modal-footer\").html('<button type=\"button\" id=\"btn-select\" class=\"btn btn-primary ew-btn\">' + ew.language.phrase(\"SelectBtn\") + '</button>' +\r\n                '<button type=\"button\" class=\"btn btn-default ew-btn\" data-dismiss=\"modal\">' + ew.language.phrase(\"CancelBtn\") + '</button>');\r\n            $search = $dlg.find(\".modal-header .modal-tools input[name=sv]\").off(\"keyup.ew\").on(\"keyup.ew\", function(e) {\r\n                    if (_timer)\r\n                        _timer.cancel();\r\n                    _timer = $.later(ew.LOOKUP_DELAY, null, function() {\r\n                        $bd.ewjtable(\"load\", { \"sv\": $search.val() });\r\n                    });\r\n                });\r\n            $dlg.find(\".modal-footer #btn-select\").click(_submit); // Select\r\n            ew.modalLookupDialog = $dlg.modal(\"show\");\r\n            $search.focus();\r\n        } else {\r\n            _alert(data.message);\r\n        }\r\n    };\r\n\r\n    var arp = [];\r\n    var linkValue = $input.val(); // Link values\r\n    var arLinkValue = (linkValue !== \"\") ? linkValue.split(ew.MULTIPLE_OPTION_SEPARATOR) : [];\r\n    var data = Object.assign({ page: list.page, field: list.field }, getUserParams('#p_' + oid, f));\r\n\r\n    // Add parent field values\r\n    var parentId = list.parentFields.slice(); // Clone\r\n    if (rowindex != \"\") {\r\n        for (var i = 0, len = parentId.length; i < len; i++) {\r\n            var ar = parentId[i].split(\" \");\r\n            if (ar.length == 1) // Parent field in the same table, add row index\r\n                parentId[i] = parentId[i].replace(/^x_/, \"x\" + rowindex + \"_\");\r\n        }\r\n    }\r\n    if (parentId.length > 0) {\r\n        for (var i = 0, len = parentId.length; i < len; i++)\r\n            arp.push(getOptionValues(parentId[i], f));\r\n    }\r\n    for (var i = 0, cnt = arp.length; i < cnt; i++) // Filter by parent fields\r\n        data[\"v\" + (i + 1)] = arp[i].join(ew.MULTIPLE_OPTION_SEPARATOR);\r\n\r\n    $body.css(\"cursor\", \"wait\");\r\n    $bd.ewjtable({\r\n        paging: true,\r\n        pageSize: args.n,\r\n        pageSizes: [],\r\n        pageSizeChangeArea: false,\r\n        pageList: \"minimal\",\r\n        selecting: true,\r\n        selectingCheckboxes: true,\r\n        multiselect: !!args.m,\r\n        actions: {\r\n            \"listAction\": function(postData, jtParams) {\r\n                var _data = Object.assign({}, data, {\r\n                    ajax: \"modal\",\r\n                    start: jtParams.start,\r\n                    recperpage: jtParams.recperpage\r\n                });\r\n                if ($.isObject(postData)) // Search\r\n                    Object.assign(_data, postData);\r\n                return $.ajax(getApiUrl(ew.API_LOOKUP_ACTION), {\r\n                        type: \"POST\",\r\n                        dataType: \"json\",\r\n                        data: _data\r\n                    }).done(_format).always(function() {\r\n                        $body.css(\"cursor\", \"default\");\r\n                    });\r\n            }\r\n        },\r\n        messages: {\r\n            serverCommunicationError: ew.language.phrase(\"ServerCommunicationError\"),\r\n            loadingMessage: '<div class=\"' + ew.spinnerClass + ' m-3 ew-loading\" role=\"status\"><span class=\"sr-only\">' + ew.language.phrase(\"Loading\") + '</span></div>',\r\n            noDataAvailable: ew.language.phrase(\"NoRecord\"),\r\n            close: ew.language.phrase(\"CloseBtn\"),\r\n            pagingInfo: ew.language.phrase(\"Record\") + \" {0}-{1} \" + ew.language.phrase(\"Of\") + \" {2}\",\r\n            pageSizeChangeLabel: ew.language.phrase(\"RecordsPerPage\"),\r\n            gotoPageLabel: ew.language.phrase(\"Page\")\r\n        },\r\n        fields: {\r\n            \"lf\": { key: true, list: false},\r\n            \"df\": {}\r\n        },\r\n        recordsLoaded: function(e, data) {\r\n            var selectedRows = $(e.target).find(\".ewjtable-data-row\").filter(function() {\r\n                return arLinkValue.includes(String($(this).data(\"record-key\")));\r\n            });\r\n            $(e.target).ewjtable(\"selectRows\", selectedRows);\r\n        },\r\n        selectionChanged: function(e, data) {\r\n            var $rows = data.rows;\r\n            if ($rows) {\r\n                if (!args.m)\r\n                    arLinkValue = [];\r\n                $rows.each(function() {\r\n                    var $row = $(this);\r\n                    var key = String($row.data(\"record-key\"));\r\n                    var index = arLinkValue.indexOf(key);\r\n                    var selected = $row.hasClass(\"ewjtable-row-selected\");\r\n                    if (selected && index == -1)\r\n                        arLinkValue.push(key);\r\n                    else if (!selected && index > -1)\r\n                        arLinkValue.splice(index, 1);\r\n                });\r\n            }\r\n        }\r\n    }).ewjtable(\"load\", null, success);\r\n}\r\n\r\n/**\r\n * Show dialog for import\r\n *\r\n * @param {Object} args - Arguments\r\n * @param {string} args.hdr - Dialog header\r\n * @param {HTMLElement} args.lnk - Anchor element\r\n * @returns\r\n */\r\nexport function importDialogShow(args) {\r\n    $(args.lnk).tooltip(\"hide\");\r\n    var $dlg = ew.importDialog || $(\"#ew-import-dialog\");\r\n    if (!$dlg[0]) {\r\n        _alert(\"DIV #ew-import-dialog not found.\");\r\n        return false;\r\n    }\r\n\r\n    var $input = $dlg.find(\"#importfiles\"),\r\n        $bd = $dlg.find(\".modal-body\"),\r\n        $data = $bd.find(\":input[id!=importfiles]\"),\r\n        $message = $bd.find(\".message\"),\r\n        $progress = $bd.find(\".progress\"),\r\n        timer;\r\n\r\n    // Disable buttons\r\n    var disableButtons = function() {\r\n        $dlg.find(\".modal-footer .btn\").prop(\"disabled\", true);\r\n    }\r\n\r\n    // Enable buttons\r\n    var enableButtons = function() {\r\n        $dlg.find(\".modal-footer .btn\").prop(\"disabled\", false);\r\n    }\r\n\r\n    // Show message\r\n    var showMessage = function(msg, classname) {\r\n        var $msg = $(\"<div>\" + msg + \"</div>\");\r\n        if (classname)\r\n            $msg.addClass(classname);\r\n        $message.removeClass(\"d-none\").html($msg);\r\n        if (classname == \"text-danger\")\r\n            enableButtons();\r\n    }\r\n\r\n    // Hide message\r\n    var hideMessage = function() {\r\n        $message.addClass(\"d-none\").html(\"\");\r\n    }\r\n\r\n    // Show progress\r\n    var showProgress = function(pc, classname) {\r\n        $progress.removeClass(\"d-none\").find(\".progress-bar\").removeClass(\"bg-success bg-info\").addClass(classname || \"bg-success\")\r\n            .attr(\"aria-valuenow\", pc).css(\"width\", pc + \"%\").html(pc + \"%\");\r\n    }\r\n\r\n    // Hide progress\r\n    var hideProgress = function() {\r\n        $progress.addClass(\"d-none\").find(\".progress-bar\").attr(\"aria-valuenow\", 0).css(\"width\", \"0%\").html(\"0%\");\r\n    }\r\n\r\n    // Upload progress\r\n    var uploadProgress = function(data) {\r\n        var pc = parseInt(100 * data.loaded / data.total);\r\n        showProgress(pc, \"bg-info\");\r\n        if (pc === 100) {\r\n            showMessage(ew.language.phrase(\"ImportMessageUploadComplete\"), \"text-info\");\r\n        } else {\r\n            showMessage(ew.language.phrase(\"ImportMessageUploadProgress\").replace(\"%p\", pc), \"text-info\");\r\n        }\r\n    }\r\n\r\n    // Update progress (import)\r\n    var updateProgress = function(result) {\r\n        try {\r\n            var cnt = parseInt(result.count), tcnt = parseInt(result.totalCount), filename = result.file;\r\n            if (tcnt > 0 && $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\")) { // Show progress\r\n                var pc = parseInt(100 * cnt / tcnt);\r\n                showProgress(pc);\r\n                showMessage(ew.language.phrase(\"ImportMessageProgress\").replace(\"%t\", tcnt).replace(\"%c\", cnt).replace(\"%f\", filename), \"text-info\");\r\n            }\r\n        } catch(e) {}\r\n    }\r\n\r\n    // Import progress\r\n    var importProgress = function() {\r\n        var url = getApiUrl(ew.API_PROGRESS_ACTION), data = { \"rnd\": random() };\r\n        data[ew.API_FILE_TOKEN_NAME] = $input.data(ew.API_FILE_TOKEN_NAME);\r\n        $.get(url, data, updateProgress, \"json\");\r\n    }\r\n\r\n    // Import complete\r\n    var importComplete = function(result) {\r\n        var maxErrorCount = 5;\r\n        var msg = \"\";\r\n        showProgress(100);\r\n        var fileResults = result.files;\r\n        $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\", false); // Stop import progress\r\n        if (Array.isArray(fileResults)) {\r\n            for (var i = 0, len = fileResults.length; i < len; i++) {\r\n                var fileResult = fileResults[i],\r\n                    tcnt = fileResult.totalCount || 0,\r\n                    cnt = fileResult.count || 0,\r\n                    scnt = fileResult.successCount || 0,\r\n                    fcnt = fileResult.failCount || 0;\r\n                if (msg != \"\")\r\n                    msg += \"<br>\";\r\n                if (fileResult.success) {\r\n                    msg += ew.language.phrase(\"ImportMessageSuccess\").replace(\"%t\", tcnt).replace(\"%c\", cnt).replace(\"%f\", fileResult.file);\r\n                } else {\r\n                    msg += ew.language.phrase(\"ImportMessageError1\").replace(\"%t\", tcnt).replace(\"%c\", cnt).replace(\"%f\", fileResult.file).replace(\"%s\", scnt).replace(\"%e\", fcnt);\r\n                    if (fileResult.error)\r\n                        msg += ew.language.phrase(\"ImportMessageError2\").replace(\"%e\", fileResult.error);\r\n                    var showLog = true;\r\n                    if (fileResult.failList) {\r\n                        var ecnt = 0;\r\n                        for (var i = 1; i <= cnt; i++) {\r\n                            if (fileResult.failList[\"row\" + i]) {\r\n                                ecnt += 1;\r\n                                msg += \"<br>\" + ew.language.phrase(\"ImportMessageError3\").replace(\"%i\", i).replace(\"%d\", fileResult.failList[\"row\" + i]);\r\n                            }\r\n                            if (ecnt >= maxErrorCount)\r\n                                break;\r\n                        }\r\n                        if (fcnt > maxErrorCount)\r\n                            msg += \"<br>\" + ew.language.phrase(\"ImportMessageMore\").replace(\"%s\", fcnt - maxErrorCount);\r\n                        else\r\n                            showLog = false;\r\n                    }\r\n                    if (fileResult.log && showLog)\r\n                        msg += \"<br>\" + ew.language.phrase(\"ImportMessageError4\").replace(\"%l\", fileResult.log);\r\n                    showMessage(msg, \"text-danger\"); // Show error message\r\n                }\r\n            }\r\n        }\r\n        if (result.success) {\r\n            showMessage(msg, \"text-success\");\r\n            $dlg.find(\".modal-footer .ew-close-btn\").data(\"imported\", true);\r\n        } else {\r\n            if (result.error)\r\n                msg = result.error;\r\n            showMessage(msg, \"text-danger\"); // Show error message\r\n        }\r\n        hideProgress();\r\n    }\r\n\r\n    // Import fail\r\n    var importFail = function(o) {\r\n        $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\", false); // Stop import progress\r\n        showMessage(ew.language.phrase(\"ImportMessageServerError\").replace(\"%s\", o.status).replace(\"%t\", o.statusText), \"text-danger\");\r\n    }\r\n\r\n    // Import file\r\n    var importFiles = function(filetoken) {\r\n        $body.css(\"cursor\", \"wait\");\r\n        $input.data(ew.API_FILE_TOKEN_NAME, filetoken);\r\n        $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\", true); // Show import progress\r\n        var data = ew.API_ACTION_NAME + \"=import&\" + ew.API_FILE_TOKEN_NAME + \"=\" + encodeURIComponent(filetoken);\r\n        if ($data.length)\r\n            data += \"&\" + $data.serialize();\r\n        $.ajax(currentPage(), {\r\n            \"data\": data,\r\n            \"method\": \"POST\",\r\n            \"dataType\": \"json\",\r\n            \"beforeSend\": function(xhr, settings) {\r\n                timer = $.later(100, null, importProgress, null, true); // Use time to show progress periodically\r\n            }\r\n        }).done(importComplete).fail(importFail).always(function() {\r\n            $body.css(\"cursor\", \"default\");\r\n            if (timer)\r\n                timer.cancel(); // Clear timer\r\n        });\r\n    }\r\n\r\n    var formData = { session: ew.SESSION_ID };\r\n    formData[ew.TOKEN_NAME_KEY] = ew.TOKEN_NAME; // Add token name for $.ajax() sent by jQuery File Upload (not by ajaxSend) // PHP\r\n    formData[ew.ANTIFORGERY_TOKEN_KEY] = ew.ANTIFORGERY_TOKEN; // Add antiforgery token for $.ajax() sent by jQuery File Upload (not by ajaxSend) // PHP\r\n    var options = ew.importUploadOptions;\r\n    if (!options.acceptFileTypes)\r\n        options.acceptFileTypes = new RegExp('\\\\.(' + ew.IMPORT_FILE_ALLOWED_EXT.replace(/,/g, '|') + ')$', 'i');\r\n\r\n    if (!$input.data(\"blueimpFileupload\")) {\r\n        $input.fileupload(Object.assign({\r\n                url: getApiUrl(ew.API_UPLOAD_ACTION),\r\n                dataType: \"json\",\r\n                autoUpload: true,\r\n                formData: formData,\r\n                singleFileUploads: false,\r\n                messages: {\r\n                    acceptFileTypes: ew.language.phrase(\"UploadErrMsgAcceptFileTypes\"),\r\n                    maxFileSize: ew.language.phrase(\"UploadErrMsgMaxFileSize\"),\r\n                    maxNumberOfFiles: ew.language.phrase(\"UploadErrMsgMaxNumberOfFiles\"),\r\n                    minFileSize: ew.language.phrase(\"UploadErrMsgMinFileSize\")\r\n                },\r\n                done: function(e, data) {\r\n                    if (data.result && data.result.files && Array.isArray(data.result.files.importfiles)) {\r\n                        var ok = true;\r\n                        data.result.files.importfiles.forEach(function(file, index) {\r\n                            if (file.error) {\r\n                                showMessage(ew.language.phrase(\"ImportMessageUploadError\").replace(\"%f\", file.name).replace(\"%s\", file.error), \"text-danger\");\r\n                                ok = false;\r\n                            }\r\n                        }); // Show upload errors for each file\r\n                        if (ok)\r\n                            importFiles(data.result[ew.API_FILE_TOKEN_NAME]); // Import uploaded files\r\n                    }\r\n                },\r\n                change: function(e, data) {\r\n                    hideMessage();\r\n                },\r\n                processfail: function(e, data) {\r\n                    data.files.forEach(function(file, index) {\r\n                        if (file.error)\r\n                            showMessage(ew.language.phrase(\"ImportMessageUploadError\").replace(\"%f\", file.name).replace(\"%s\", file.error), \"text-danger\");\r\n                    }); // Show process errors for each file\r\n                },\r\n                fail: function(e, data) {\r\n                    showMessage(ew.language.phrase(\"ImportMessageServerError\").replace(\"%s\", data.textStatus).replace(\"%t\", data.errorThrown), \"text-danger\");\r\n                },\r\n                progressall: function(e, data) {\r\n                    uploadProgress(data);\r\n                }\r\n        }, options));\r\n    }\r\n\r\n    $dlg.modal(\"hide\").find(\".modal-title\").html(args.hdr);\r\n    $dlg.find(\".modal-footer .ew-close-btn\").off(\"click.ew\").on(\"click.ew\", function() {\r\n        var $this = $(this);\r\n        if ($this.data(\"imported\")) {\r\n            $this.data(\"imported\", false);\r\n            window.location.reload(true);\r\n        }\r\n    });\r\n    hideMessage();\r\n    ew.importDialog = $dlg.modal(\"show\");\r\n    return false;\r\n}\r\n\r\n// Auto-fill\r\nexport function autoFill(el) {\r\n    var f = forms.get(el).$element[0];\r\n    if (!f)\r\n        return;\r\n    var ar = getOptionValues(el),\r\n        id = getId(el),\r\n        m = id.match(/^([xy])(\\d*)_/),\r\n        rowindex = (m) ? m[2] : \"\",\r\n        list = forms.get(el).getList(id),\r\n        dest_array = list.autoFillTargetFields;\r\n    var success = function(data) {\r\n        var results = data && data.records || \"\";\r\n        var result = (results) ? results[0] : [];\r\n        for (var j = 0; j < dest_array.length; j++) {\r\n            var destEl = getElements(dest_array[j].replace(/^x_/, \"x\" + rowindex + \"_\"), f);\r\n            if (destEl) {\r\n                var val = ($.isValue(result[\"af\" + j])) ? result[\"af\" + j] : \"\";\r\n                var args = {results: results, result: result, data: val, form: f, name: id, target: dest_array[j], cancel: false, trigger: true};\r\n                $(el).trigger(\"autofill\", [args]); // Fire event\r\n                if (args.cancel)\r\n                    continue;\r\n                val = args.data; // Process the value\r\n                if (destEl.options) { // Selection list\r\n                    selectOption(destEl, val.split(\",\"));\r\n                    if (isAutoSuggest(destEl)) { // Auto-Suggest\r\n                        destEl.input.value = val;\r\n                        updateOptions.call(forms.get(f.id), destEl);\r\n                    } else if (isModalLookup(destEl)) { // Modal-Lookup\r\n                        //$(destEl).parent().find(\".ew-lookup-text\").html(val);\r\n                        updateOptions.call(forms.get(f.id), destEl);\r\n                    }\r\n                } else if (isHiddenTextArea(destEl)) { // HTML editor\r\n                    destEl.value = val;\r\n                    $(destEl).data(\"editor\").set();\r\n                } else {\r\n                    destEl.value = val;\r\n                }\r\n                if (args.trigger)\r\n                    $(destEl).change();\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    if (ar.length > 0 && ar[0] != \"\") {\r\n        var data = Object.assign({\r\n            page: list.page,\r\n            field: list.field,\r\n            ajax: \"autofill\",\r\n            v0: ar[0],\r\n            language: ew.LANGUAGE_ID\r\n        }, getUserParams('#p_' + id, f));\r\n        // Add parent field values\r\n        var parentId = list.parentFields.slice(); // Clone\r\n        if (rowindex != \"\") {\r\n            for (var i = 0, len = parentId.length; i < len; i++) {\r\n                var ar = parentId[i].split(\" \");\r\n                if (ar.length == 1) // Parent field in the same table, add row index\r\n                    parentId[i] = parentId[i].replace(/^x_/, \"x\" + rowindex + \"_\");\r\n            }\r\n        }\r\n        var arp = parentId.map(function(pid) {\r\n            return getOptionValues(pid, f);\r\n        });\r\n        for (var i = 0, cnt = arp.length; i < cnt; i++) // Filter by parent fields\r\n            data[\"v\" + (i + 1)] = arp[i].join(ew.MULTIPLE_OPTION_SEPARATOR);\r\n        return $.post(getApiUrl(ew.API_LOOKUP_ACTION), data, success, \"json\");\r\n    }\r\n    return success();\r\n}\r\n\r\n// Setup tooltip links\r\nexport function tooltip(i, el) {\r\n    var $this = $(el), $tt = $(\"#\" + $this.data(\"tooltip-id\")),\r\n        trig = $this.data(\"trigger\") || \"hover\", dir = $this.data(\"placement\") || (ew.CSS_FLIP ? \"left\" : \"right\"); // dir = \"left|right\"\r\n    if (!$tt[0] || $tt.text().trim() == \"\" && !$tt.find(\"img[src!='']\")[0])\r\n        return;\r\n    if (!$this.data(\"bs.popover\")) {\r\n        $this.popover({\r\n            html: true,\r\n            placement: dir,\r\n            trigger: trig,\r\n            delay: 100,\r\n            container: $(\"#ew-tooltip\")[0],\r\n            content: $tt.html(),\r\n            sanitizeFn: ew.sanitizeFn\r\n        }).on(\"show.bs.popover\", function(e) {\r\n            var wd, $tip = $($this.data(\"bs.popover\").getTipElement()).css(\"z-index\", 9999); // Make z-index higher than modal dialog\r\n            if (wd = $this.data(\"tooltip-width\")) // Set width before show\r\n                $tip.css(\"max-width\", parseInt(wd, 10) + \"px\");\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Show dialog for email sending\r\n *\r\n * @param {Object} args - Arguments\r\n * @param {string} args.lnk - Email link ID\r\n * @param {string} args.hdr - Dialog header\r\n * @param {string} args.url - URL of the email content\r\n * @param {HTMLElement} args.f - Form\r\n * @param {Object} args.key - Key as object\r\n * @param {boolean} args.sel - Exported selected\r\n * @returns false\r\n */\r\nexport function emailDialogShow(args) {\r\n    var $dlg = ew.emailDialog || $(\"#ew-email-dialog\");\r\n    if (!$dlg[0]) {\r\n        _alert(\"DIV #ew-email-dialog not found.\");\r\n        return false;\r\n    }\r\n    if (args.sel && !keySelected(args.f)) {\r\n        _alert(ew.language.phrase(\"NoRecordSelected\"));\r\n        return false;\r\n    }\r\n    var $f = $dlg.find(\".modal-body form\"),\r\n        frm = $f.data(\"form\");\r\n    if (!frm) {\r\n        frm = new Form($f.attr(\"id\"));\r\n        frm.addFields([\r\n            [\"sender\", [ew.Validators.required(ew.language.phrase(\"Sender\")), ew.Validators.email]],\r\n            [\"recipient\", [ew.Validators.required(ew.language.phrase(\"Recipient\")), ew.Validators.emails(ew.MAX_EMAIL_RECIPIENT, ew.language.phrase(\"EnterProperRecipientEmail\"))]],\r\n            [\"cc\", ew.Validators.emails(ew.MAX_EMAIL_RECIPIENT, ew.language.phrase(\"EnterProperCcEmail\"))],\r\n            [\"bcc\", ew.Validators.emails(ew.MAX_EMAIL_RECIPIENT, ew.language.phrase(\"EnterProperBccEmail\"))],\r\n            [\"subject\", ew.Validators.required(ew.language.phrase(\"Subject\"))]\r\n        ]);\r\n        frm.validate = function() {\r\n            return this.validateFields();\r\n        };\r\n        frm.submit = function() {\r\n            if (!this.validate())\r\n                return false;\r\n            var qs = $f.serialize(), data = \"\";\r\n            if (args.f && args.sel) // Export selected\r\n                data = $(args.f).find(\"input[type=checkbox][name='key_m[]']:checked\").serialize();\r\n            if (args.key)\r\n                qs += \"&\" + $.param(args.key);\r\n            var fobj = this.getForm();\r\n            if (args.url) { // Custom Template\r\n                $dlg.modal(\"hide\");\r\n                if (args.exportid)\r\n                    ew.exportWithCharts(args.el, args.url, args.exportid, fobj);\r\n                else\r\n                    _export(args.f, args.url, \"email\", true, args.sel, fobj);\r\n            } else {\r\n                $.post($(args.f).attr(\"action\"), qs + \"&\" + data, function(result) {\r\n                    showMessage(result);\r\n                });\r\n            }\r\n            return true;\r\n        };\r\n        $f.data(\"form\", frm);\r\n    }\r\n    $dlg.modal(\"hide\").find(\".modal-title\").html(args.hdr);\r\n    $dlg.find(\".modal-footer .btn-primary\").off().click(function(e) {\r\n        e.preventDefault();\r\n        if (frm.submit())\r\n            $dlg.modal(\"hide\");\r\n    });\r\n    ew.emailDialog = $dlg.modal(\"show\");\r\n    return false;\r\n}\r\n\r\n// Show drill down\r\nexport function showDrillDown(e, obj, url, id, hdr) {\r\n    if (e && e.ctrlKey) {\r\n        var arUrl = url.split(\"?\"), params = new URLSearchParams(arUrl[1]);\r\n        params.set(\"d\", \"2\");  // Change d parameter to 2\r\n        redirect(arUrl[0] + \"?\" + params.toString());\r\n        return false;\r\n    }\r\n    var $obj = ($.isString(obj)) ? $(\"#\" + obj) : $(obj);\r\n    var pos = $obj.data(\"drilldown-placement\") || ($obj.hasClass(\"ew-chart-canvas\") ? (ew.CSS_FLIP ? \"left\" : \"right\") : \"bottom\");\r\n    $obj.tooltip(\"hide\");\r\n    var args = {\"obj\": $obj[0], \"id\": id, \"url\": url, \"hdr\": hdr, \"placement\": pos};\r\n    $document.trigger(\"drilldown\", [args]);\r\n    var ar = args.url.split(\"?\");\r\n    args.file = ar[0] || \"\";\r\n    args.data = ar[1] || \"\";\r\n    if (!$obj.data(\"bs.popover\")) {\r\n        $obj.popover({\r\n            html: true,\r\n            placement: args.placement,\r\n            trigger: \"manual\",\r\n            template: '<div class=\"popover\"><h3 class=\"popover-header d-none\" style=\"cursor: move;\"></h3><div class=\"popover-body\"></div></div>',\r\n            content: '<div class=\"' + ew.spinnerClass + ' m-3 ew-loading\" role=\"status\"><span class=\"sr-only\">' + ew.language.phrase(\"Loading\") + '</span></div>',\r\n            container: $(\"#ew-drilldown-panel\"),\r\n            sanitizeFn: ew.sanitizeFn,\r\n            boundary: \"viewport\"\r\n        }).on(\"show.bs.popover\", function(e) {\r\n            $obj.attr(\"data-original-title\", \"\");\r\n        }).on(\"shown.bs.popover\", function(e) {\r\n            if (!$obj.data(\"args\"))\r\n                return;\r\n            var data = $obj.data(\"args\").data;\r\n            data += (data ? \"&\" : \"\") + ew.TOKEN_NAME_KEY + \"=\" + ew.TOKEN_NAME; // Add token name // PHP\r\n            data += (data ? \"&\" : \"\") + ew.ANTIFORGERY_TOKEN_KEY + \"=\" + ew.ANTIFORGERY_TOKEN; // Add antiforgery token // PHP\r\n            $.ajax({\r\n                cache: false,\r\n                dataType: \"html\",\r\n                type: \"POST\",\r\n                data: data,\r\n                url: $obj.data(\"args\").file,\r\n                success: function(data) {\r\n                    var $tip = $($obj.data(\"bs.popover\").getTipElement()).on(\"mousedown\", function(e) {\r\n                        var $this = $(this).addClass(\"drag\"),\r\n                            height = $this.outerHeight(),\r\n                            width = $this.outerWidth(),\r\n                            ypos = $this.offset().top + height - e.pageY,\r\n                            xpos = $this.offset().left + width - e.pageX;\r\n                        $body.on(\"mousemove\", function(e) {\r\n                            var top = e.pageY + ypos - height,\r\n                                left = e.pageX + xpos - width;\r\n                            if ($this.hasClass(\"drag\"))\r\n                                $this.offset({top: top, left: left});\r\n                        }).on(\"mouseup\", function(e){\r\n                            $this.removeClass(\"drag\");\r\n                        });\r\n                    });\r\n                    if (args.hdr)\r\n                        $tip.find(\".popover-header\").empty().removeClass(\"d-none\")\r\n                            .append('<button type=\"button\" class=\"close\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' + args.hdr)\r\n                            .find(\".close\").click(function() {\r\n                                $obj.popover(\"hide\");\r\n                            });\r\n                    var m = data.match(/<body[^>]*>([\\s\\S]*?)<\\/body\\s*>/i); // Use HTML in document body only\r\n                    data = m ? m[0] : data;\r\n                    var html = ew.stripScript(data);\r\n                    $tip.find(\".popover-body\").html($(\"<div></div>\").html(html).find(\"#ew-report\")) // Insert the container table only\r\n                        .find(\".ew-table\").each(ew.setupTable);\r\n                    ew.executeScript(data, id);\r\n                    $obj.popover(\"update\");\r\n                },\r\n                error: function(o) {\r\n                    if (o.responseText) {\r\n                        var $tip = $($el.data(\"bs.popover\").getTipElement());\r\n                        $tip.find(\".popover-body\").empty().append('<p class=\"text-danger\">' + o.responseText + '</p>');\r\n                    }\r\n                }\r\n            });\r\n        }).on(\"hidden.bs.popover\", function(e) {\r\n            $.each(ew.drillDownCharts, function(key, cht) { // Dispose charts\r\n                cht.dispose();\r\n            });\r\n            ew.drillDownCharts = {};\r\n            ew.removeScript(id);\r\n        });\r\n    }\r\n    $obj.data(\"args\", args).popover(\"show\");\r\n}\r\n\r\n/**\r\n * Ajax query\r\n * @param {Object} data - object to passed to API\r\n * @param {callback} callback - Callback function for async request (see http://api.jquery.com/jQuery.post/), empty for sync request\r\n * @returns {string|string[]}\r\n */\r\nexport function ajax(data, callback) {\r\n    if (!$.isObject(data))\r\n        return undefined;\r\n    var action = data.action;\r\n    if (!action)\r\n        return undefined;\r\n    delete data.action;\r\n    var obj = Object.assign({}, data);\r\n    var _convert = function(response) {\r\n        if ($.isObject(response) && response.result == \"OK\") {\r\n            var results = response.records;\r\n            if (Array.isArray(results) && results.length == 1) { // Single row\r\n                results = results[0];\r\n                if (Array.isArray(results) && results.length == 1) // Single column\r\n                    return results[0]; // Return a value\r\n                else\r\n                    return results; // Return a row\r\n            }\r\n            return results;\r\n        }\r\n        return response;\r\n    };\r\n    var url = getApiUrl(action), // URL\r\n        type = obj.type || \"POST\";\r\n    delete obj.type;\r\n    obj.dataType = \"json\";\r\n    if ($.isFunction(callback)) { // Async\r\n        $.ajax({\r\n            url: url,\r\n            type: type,\r\n            data: obj,\r\n            success: function (response) {\r\n                callback(_convert(response));\r\n            }\r\n        });\r\n    } else { // Sync\r\n        var response = $.ajax({\r\n            url: url,\r\n            async: false,\r\n            type: type,\r\n            data: obj\r\n        });\r\n        return _convert(response.responseJSON);\r\n    }\r\n}\r\n\r\n// Get URL of current page\r\nexport function currentPage() {\r\n    return location.href.split(\"#\")[0].split(\"?\")[0];\r\n}\r\n\r\n// Toggle search operator\r\nexport function toggleSearchOperator(id, value) {\r\n    var el = this.form.elements[id];\r\n    if (!el)\r\n        return;\r\n    el.value = (el.value != value) ? value : \"=\";\r\n}\r\n\r\n// Validators\r\n// Check US Date format (mm/dd/yyyy)\r\nexport function checkUSDate(object_value) {\r\n    return checkDateEx(object_value, \"us\", ew.DATE_SEPARATOR);\r\n}\r\n\r\n// Check US Date format (mm/dd/yy)\r\nexport function checkShortUSDate(object_value) {\r\n    return checkDateEx(object_value, \"usshort\", ew.DATE_SEPARATOR);\r\n}\r\n\r\n// Check Date format (yyyy/mm/dd)\r\nexport function checkDate(object_value) {\r\n    return checkDateEx(object_value, \"std\", ew.DATE_SEPARATOR);\r\n}\r\n\r\n// Check Date format (yy/mm/dd)\r\nexport function checkShortDate(object_value) {\r\n    return checkDateEx(object_value, \"stdshort\", ew.DATE_SEPARATOR);\r\n}\r\n\r\n// Check Euro Date format (dd/mm/yyyy)\r\nexport function checkEuroDate(object_value) {\r\n    return checkDateEx(object_value, \"euro\", ew.DATE_SEPARATOR);\r\n}\r\n\r\n// Check Euro Date format (dd/mm/yy)\r\nexport function checkShortEuroDate(object_value) {\r\n    return checkDateEx(object_value, \"euroshort\", ew.DATE_SEPARATOR);\r\n}\r\n\r\n// Check default date format\r\nexport function checkDateDef(object_value) {\r\n    if (ew.DATE_FORMAT.match(/^yyyy/))\r\n        return checkDate(object_value);\r\n    else if (ew.DATE_FORMAT.match(/^yy/))\r\n        return checkShortDate(object_value);\r\n    else if (ew.DATE_FORMAT.match(/^m/) && ew.DATE_FORMAT.match(/yyyy$/))\r\n        return checkUSDate(object_value);\r\n    else if (ew.DATE_FORMAT.match(/^m/) && ew.DATE_FORMAT.match(/yy$/))\r\n        return checkShortUSDate(object_value);\r\n    else if (ew.DATE_FORMAT.match(/^d/) && ew.DATE_FORMAT.match(/yyyy$/))\r\n        return checkEuroDate(object_value);\r\n    else if (ew.DATE_FORMAT.match(/^d/) && ew.DATE_FORMAT.match(/yy$/))\r\n        return checkShortEuroDate(object_value);\r\n    return false;\r\n}\r\n\r\n// Check date format\r\n// format: std/stdshort/us/usshort/euro/euroshort\r\nexport function checkDateEx(value, format, sep) {\r\n    if (!value || value.length == \"\")\r\n        return true;\r\n    value = value.replace(/ +/g, \" \").trim();\r\n    var arDT = value.split(\" \");\r\n    if (arDT.length > 0) {\r\n        var re, ar, sYear, sMonth, sDay;\r\n        re = /^(\\d{4})-([0][1-9]|[1][0-2])-([0][1-9]|[1|2]\\d|[3][0|1])$/;\r\n        if (ar = re.exec(arDT[0])) {\r\n            sYear = ar[1];\r\n            sMonth = ar[2];\r\n            sDay = ar[3];\r\n        } else {\r\n            var wrksep = escapeRegExChars(sep);\r\n            switch (format) {\r\n                case \"std\":\r\n                    re = new RegExp(\"^(\\\\d{4})\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])$\");\r\n                    break;\r\n                case \"stdshort\":\r\n                    re = new RegExp(\"^(\\\\d{2})\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])$\");\r\n                    break;\r\n                case \"us\":\r\n                    re = new RegExp(\"^([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"(\\\\d{4})$\");\r\n                    break;\r\n                case \"usshort\":\r\n                    re = new RegExp(\"^([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"(\\\\d{2})$\");\r\n                    break;\r\n                case \"euro\":\r\n                    re = new RegExp(\"^([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"(\\\\d{4})$\");\r\n                    break;\r\n                case \"euroshort\":\r\n                    re = new RegExp(\"^([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"(\\\\d{2})$\");\r\n                    break;\r\n            }\r\n            if (!re.test(arDT[0]))\r\n                return false;\r\n            var arD = arDT[0].split(sep);\r\n            switch (format) {\r\n                case \"std\":\r\n                case \"stdshort\":\r\n                    sYear = unformatYear(arD[0]);\r\n                    sMonth = arD[1];\r\n                    sDay = arD[2];\r\n                    break;\r\n                case \"us\":\r\n                case \"usshort\":\r\n                    sYear = unformatYear(arD[2]);\r\n                    sMonth = arD[0];\r\n                    sDay = arD[1];\r\n                    break;\r\n                case \"euro\":\r\n                case \"euroshort\":\r\n                    sYear = unformatYear(arD[2]);\r\n                    sMonth = arD[1];\r\n                    sDay = arD[0];\r\n                    break;\r\n            }\r\n        }\r\n        if (!checkDay(sYear, sMonth, sDay))\r\n            return false;\r\n    }\r\n    if (arDT.length > 1 && !checkTime(arDT[1]))\r\n        return false;\r\n    return true;\r\n}\r\n\r\n// Unformat 2 digit year to 4 digit year\r\nexport function unformatYear(yr) {\r\n    if (yr.length == 2)\r\n        return (yr > ew.UNFORMAT_YEAR) ? \"19\" + yr : \"20\" + yr;\r\n    return yr;\r\n}\r\n\r\n// Check day\r\nexport function checkDay(checkYear, checkMonth, checkDay) {\r\n    checkYear = parseInt(checkYear, 10);\r\n    checkMonth = parseInt(checkMonth, 10);\r\n    checkDay = parseInt(checkDay, 10);\r\n    var maxDay = [4, 6, 9, 11].includes(checkMonth) ? 30 : 31;\r\n    if (checkMonth == 2)\r\n        maxDay = (checkYear % 4 > 0 || checkYear % 100 == 0 && checkYear % 400 > 0) ? 28 : 29;\r\n    return checkRange(checkDay, 1, maxDay);\r\n}\r\n\r\n// Check integer\r\nexport function checkInteger(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    if (object_value.includes(ew.DECIMAL_POINT))\r\n        return false;\r\n    return checkNumber(object_value);\r\n}\r\n\r\n// Check number\r\nexport function checkNumber(object_value) {\r\n    object_value = String(object_value);\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    object_value = object_value.trim();\r\n    var ts = escapeRegExChars(ew.THOUSANDS_SEP), dp = escapeRegExChars(ew.DECIMAL_POINT),\r\n        re = new RegExp(\"^[+-]?(\\\\d{1,3}(\" + (ts ? ts + \"?\" : \"\") + \"\\\\d{3})*(\" + dp + \"\\\\d+)?|\" + dp + \"\\\\d+)$\");\r\n    return re.test(object_value);\r\n}\r\n\r\n// Convert to float\r\nexport function stringToFloat(object_value) {\r\n    object_value = String(object_value);\r\n    if (ew.THOUSANDS_SEP != \"\") {\r\n        var re = new RegExp(escapeRegExChars(ew.THOUSANDS_SEP), \"g\");\r\n        object_value = object_value.replace(re, \"\");\r\n    }\r\n    if (ew.DECIMAL_POINT != \"\")\r\n        object_value = object_value.replace(ew.DECIMAL_POINT, \".\");\r\n    return parseFloat(object_value);\r\n}\r\n\r\n// Convert string (yyyy-mm-dd hh:mm:ss) to date object\r\nexport function stringToDate(object_value) {\r\n    var re = /^(\\d{4})-([0][1-9]|[1][0-2])-([0][1-9]|[1|2]\\d|[3][0|1]) (?:(0\\d|1\\d|2[0-3]):([0-5]\\d):([0-5]\\d))?$/;\r\n    var ar = object_value.replace(re, \"$1 $2 $3 $4 $5 $6\").split(\" \");\r\n    return new Date(ar[0], ar[1]-1, ar[2], ar[3], ar[4], ar[5]);\r\n}\r\n\r\n// Escape regular expression chars\r\nexport function escapeRegExChars(str) {\r\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n}\r\n\r\n// Check range\r\nexport function checkRange(object_value, min_value, max_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    if ($.isNumber(min_value) || $.isNumber(max_value)) { // Number\r\n        if (checkNumber(object_value))\r\n            object_value = stringToFloat(object_value);\r\n    }\r\n    if (!$.isNull(min_value) && object_value < min_value)\r\n        return false;\r\n    if (!$.isNull(max_value) && object_value > max_value)\r\n        return false;\r\n    return true;\r\n}\r\n\r\n// Check time\r\nexport function checkTime(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    object_value = object_value.trim();\r\n    var re = new RegExp('^(0\\\\d|1\\\\d|2[0-3])' + escapeRegExChars(ew.TIME_SEPARATOR) + '[0-5]\\\\d(( (' + escapeRegExChars(ew.language.phrase(\"AM\")) + '|' + escapeRegExChars(ew.language.phrase(\"PM\")) + '))|(' + escapeRegExChars(ew.TIME_SEPARATOR) + '[0-5]\\\\d(\\\\.\\\\d+|[+-][\\\\d:]+)?)?)$', 'i');\r\n    return re.test(object_value);\r\n}\r\n\r\n// Check phone\r\nexport function checkPhone(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    return /^\\(\\d{3}\\) ?\\d{3}( |-)?\\d{4}|^\\d{3}( |-)?\\d{3}( |-)?\\d{4}$/.test(object_value.trim());\r\n}\r\n\r\n// Check zip\r\nexport function checkZip(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    return /^\\d{5}$|^\\d{5}-\\d{4}$/.test(object_value.trim());\r\n}\r\n\r\n// Check credit card\r\nexport function checkCreditCard(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    var creditcard_string = object_value.replace(/\\D/g, \"\");\r\n    if (creditcard_string.length == 0)\r\n        return false;\r\n    var doubledigit = creditcard_string.length % 2 == 1 ? false : true;\r\n    var tempdigit, checkdigit = 0;\r\n    for (var i = 0, len = creditcard_string.length; i < len; i++) {\r\n        tempdigit = parseInt(creditcard_string.charAt(i), 10);\r\n        if (doubledigit) {\r\n            tempdigit *= 2;\r\n            checkdigit += (tempdigit % 10);\r\n            if (tempdigit / 10 >= 1.0)\r\n                checkdigit++;\r\n            doubledigit = false;\r\n        }\telse {\r\n            checkdigit += tempdigit;\r\n            doubledigit = true;\r\n        }\r\n    }\r\n    return (checkdigit % 10 == 0);\r\n}\r\n\r\n// Check social security number\r\nexport function checkSsn(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    return /^(?!000)([0-6]\\d{2}|7([0-6]\\d|7[012]))([ -]?)(?!00)\\d\\d\\3(?!0000)\\d{4}$/.test(object_value.trim());\r\n}\r\n\r\n// Check emails\r\nexport function checkEmails(object_value, email_cnt) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    var arEmails = object_value.replace(/,/g, \";\").split(\";\");\r\n    for (var i = 0, len = arEmails.length; i < len; i++) {\r\n        if (email_cnt > 0 && len > email_cnt)\r\n            return false;\r\n        if (!checkEmail(arEmails[i]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n// Check email\r\nexport function checkEmail(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    return /^[\\w.%+-]+@[\\w.-]+\\.[A-Z]{2,18}$/i.test(object_value.trim());\r\n}\r\n\r\n// Check GUID {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}\r\nexport function checkGuid(object_value) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    return /^(\\{\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}\\}|\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12})$/.test(object_value.trim());\r\n}\r\n\r\n// Check by regular expression\r\nexport function checkByRegEx(object_value, pattern) {\r\n    if (!object_value || object_value.length == 0)\r\n        return true;\r\n    return !!object_value.match(pattern);\r\n}\r\n\r\n/**\r\n * Show message dialog\r\n *\r\n * @param {Event|string} arg - Event or message\r\n * @returns\r\n */\r\nexport function showMessage(arg) {\r\n    var win = window.parent, // Note: If a window does not have a parent, its parent property is a reference to itself.\r\n        p = arg?.target ?? win.document,\r\n        swal = win.Swal,\r\n        $div = $(p).find(\"div.ew-message-dialog:hidden\").first(),\r\n        msg = $div.length ? $div.text() : \"\"; // Text only\r\n    if ($.isString(arg))\r\n        msg = $(\"<div>\" + arg.trim() + \"</div>\").text();\r\n    if (msg.trim() == \"\")\r\n        return;\r\n    if ($div.length) {\r\n        [\"success\", \"info\", \"warning\", \"danger\"].forEach(function(value, index) {\r\n            var $alert = $div.find(\".alert-\" + value).toggleClass(\"alert-\" + value),\r\n                $heading = $alert.find(\".alert-heading\").detach(),\r\n                $content = $alert.children(\":not(.icon)\");\r\n            $alert.find(\".icon\").remove();\r\n            if ($alert[0]) {\r\n                var w = parseInt($content.css(\"width\"), 10); // Width specified\r\n                if (w > 0)\r\n                    $content.first().css(\"width\", \"auto\");\r\n                var $toast = toast({\r\n                    class: \"ew-toast bg-\" + value,\r\n                    title: $heading[0] ? $heading.html() : ew.language.phrase(value),\r\n                    body: $alert.html(),\r\n                    autohide: (value == \"success\") ? ew.autoHideSuccessMessage : false, // Autohide for success message\r\n                    delay: (value == \"success\") ? ew.autoHideSuccessMessageDelay: 500\r\n                });\r\n                if (w > 0)\r\n                    $toast.css(\"max-width\", w); // Override bootstrap .toast max-width\r\n                return;\r\n            }\r\n        });\r\n    }\r\n    if ($.isString(arg)) {\r\n        return swal.fire({\r\n            ...ew.sweetAlertSettings,\r\n            html: arg\r\n        });\r\n    }\r\n}\r\n\r\n// Random number\r\nexport function random() {\r\n    return Math.floor(Math.random() * 100001) + 100000;\r\n}\r\n\r\n// File upload\r\nexport function upload(input) {\r\n    var $input = $(input);\r\n    if ($input.data(\"blueimpFileupload\"))\r\n        return;\r\n    var id = $input.attr(\"name\"), nid = id.replace(/\\$/g, \"\\\\$\"), tbl = $input.data(\"table\"),\r\n        multiple = $input.is(\"[multiple]\"), $p = $input.closest(\".form-group, [id^='el']\"),\r\n        readonly = $input.prop(\"disabled\") || $input.closest(\"form\").find(\"#confirm\").val() == \"confirm\",\r\n        $ft = $p.find(\"#ft_\" + nid), $fn = $p.find(\"#fn_\" + nid), $fa = $p.find(\"#fa_\" + nid), $fs = $p.find(\"#fs_\" + nid),\r\n        $exts = $p.find(\"#fx_\" + nid), $maxsize = $p.find(\"#fm_\" + nid), $maxfilecount = $p.find(\"#fc_\" + nid),\r\n        $label = $p.find(\".custom-file-label\"), label = $label.html();\r\n    var _done = function(e, data) {\r\n        if (data.result.files[0].error)\r\n            return;\r\n        var name = data.result.files[0].name;\r\n        var ar = (multiple) ? ($fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : []) : [];\r\n        ar.push(name);\r\n        $fn.val(ar.join(ew.MULTIPLE_UPLOAD_SEPARATOR));\r\n        $fa.val(\"0\");\r\n        if (!multiple) // Remove other entries if not multiple upload\r\n            $ft.children(\"tr:not(:last-child)\").remove();\r\n    };\r\n    var _deleted = function(e, data) {\r\n        var url = $(e.originalEvent.target).data(\"url\"),\r\n            param = new URLSearchParams(url.split(\"?\")[1]),\r\n            fid = param.get(\"id\"),\r\n            name = param.get(fid);\r\n        if (name) {\r\n            var ar = $fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : [];\r\n            var index = ar.indexOf(name);\r\n            if (index > -1)\r\n                ar.splice(index, 1);\r\n            $fn.val(ar.join(ew.MULTIPLE_UPLOAD_SEPARATOR));\r\n            $fa.val(\"0\");\r\n        }\r\n    };\r\n    var _change = function(e, data) {\r\n        $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0);\r\n        var ar = $fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : [];\r\n        for (var i = 0; i < data.files.length; i++)\r\n            ar.push(data.files[i].name);\r\n        var cnt = parseInt($maxfilecount.val(), 10);\r\n        if ($.isNumber(cnt) && cnt > 0 && ar.length > cnt) {\r\n            _alert(ew.language.phrase(\"UploadErrMsgMaxNumberOfFiles\"));\r\n            return false;\r\n        }\r\n        var l = parseInt($fs.val(), 10);\r\n        if ($.isNumber(l) && l > 0 && ar.join(ew.MULTIPLE_UPLOAD_SEPARATOR).length > l) {\r\n            _alert(ew.language.phrase(\"UploadErrMsgMaxFileLength\"));\r\n            return false;\r\n        }\r\n    };\r\n    var _confirmDelete = function(e) {\r\n        if (!multiple && $fn.val()) {\r\n            if (!confirm(ew.language.phrase(\"UploadOverwrite\"))) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n    };\r\n    var _changed = function(e, data) {\r\n        $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0 || data.result?.files?.length > 0);\r\n        var ar = $fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : [];\r\n        $label.html(ar.join(\", \") || label);\r\n    };\r\n    var _clicked = function() {\r\n        $input.closest(\"span.fileinput-button\").tooltip(\"hide\");\r\n    };\r\n    // var _process = function(e, data) {\r\n    //     $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0);\r\n    // };\r\n    var _downloadTemplate = $.templates(\"#template-download\");\r\n    var _uploadTemplate = $.templates(\"#template-upload\");\r\n    var _completed = function(e, data) { // After download template rendered\r\n        var e = { target: data.context };\r\n        initLightboxes(e);\r\n        initPdfObjects(e);\r\n        ew.updateDropdownPosition();\r\n        data.context.find(\"img\").on(\"load\", ew.updateDropdownPosition);\r\n    }\r\n    var _added = function(e, data) { // After upload template rendered\r\n        $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0);\r\n        data.context.find(\".start\").click(_confirmDelete);\r\n    };\r\n    // Hide input button if readonly\r\n    var form = getForm(input), $form = $(form);\r\n    var readonly = $form.find(\"#confirm\").val() == \"confirm\";\r\n    if (readonly)\r\n        $form.find(\"span.fileinput-button\").hide();\r\n    var cnt = parseInt($maxfilecount.val(), 10);\r\n    var uploadUrl = getApiUrl(ew.API_JQUERY_UPLOAD_ACTION);\r\n    var formData = {\r\n        id: id,\r\n        table: tbl,\r\n        session: ew.SESSION_ID,\r\n        replace: (multiple ? \"0\" : \"1\"),\r\n        exts: $exts.val(),\r\n        maxsize: $maxsize.val(),\r\n        maxfilecount: $maxfilecount.val()\r\n    };\r\n    $input.fileupload({\r\n        url: uploadUrl,\r\n        type: \"POST\",\r\n        multipart: true,\r\n        autoUpload: true, // Comment out to disable auto upload\r\n        loadImageFileTypes: /^image\\/(gif|jpe?g|png)$/i,\r\n        loadVideoFileTypes: /^video\\/mp4$/i,\r\n        loadAudioFileTypes: /^audio\\/(mpeg|mp3)$/i,\r\n        acceptFileTypes: ($exts.val()) ? new RegExp('\\\\.(' + $exts.val().replace(/,/g, '|') + ')$', 'i') : null,\r\n        maxFileSize: parseInt($maxsize.val(), 10),\r\n        maxNumberOfFiles: (cnt > 1) ? cnt : null,\r\n        filesContainer: $ft,\r\n        formData: formData,\r\n        uploadTemplateId: null,\r\n        downloadTemplateId: null,\r\n        uploadTemplate: _uploadTemplate.render.bind(_uploadTemplate),\r\n        downloadTemplate: _downloadTemplate.render.bind(_downloadTemplate),\r\n        previewMaxWidth: ew.UPLOAD_THUMBNAIL_WIDTH,\r\n        previewMaxHeight: ew.UPLOAD_THUMBNAIL_HEIGHT,\r\n        dropZone: $p,\r\n        pasteZone: $p,\r\n        messages: {\r\n            acceptFileTypes: ew.language.phrase(\"UploadErrMsgAcceptFileTypes\"),\r\n            maxFileSize: ew.language.phrase(\"UploadErrMsgMaxFileSize\"),\r\n            maxNumberOfFiles: ew.language.phrase(\"UploadErrMsgMaxNumberOfFiles\"),\r\n            minFileSize: ew.language.phrase(\"UploadErrMsgMinFileSize\")\r\n        },\r\n        readOnly: readonly // Custom\r\n    }).on(\"fileuploaddone\", _done)\r\n        .on(\"fileuploaddestroy\", _deleted)\r\n        .on(\"fileuploadchange\", _change)\r\n        .on(\"fileuploadadded fileuploadfinished fileuploaddestroyed\", _changed)\r\n        //.on(\"fileuploadprocess\", _process)\r\n        .on('fileuploadadded', _added)\r\n        .on('fileuploadcompleted', _completed)\r\n        .click(_clicked);\r\n    if ($fn.val()) {\r\n        $.ajax({\r\n            url: uploadUrl,\r\n            data: { id: id, table: tbl, session: ew.SESSION_ID },\r\n            dataType: \"json\",\r\n            context: this,\r\n            success: function(result) {\r\n                if (result && result[id]) {\r\n                    var done = $input.fileupload(\"option\", \"done\");\r\n                    if (done)\r\n                        done.call(input, $.Event(), { result: { files: result[id] } }); // Use \"files\"\r\n                }\r\n                if (readonly) // Hide delete button if readonly\r\n                    $ft.find(\"td.delete\").hide();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Convert data to number\r\n *\r\n * @param {*} data - Data being converted\r\n * @param {Object} [config] - Configuration\r\n * @param {string} config.decimalSeparator - Decimal separator\r\n * @param {string} config.thousandsSeparator - Thousands separator\r\n * @returns {(number|null)}\r\n */\r\nexport function parseNumber(data, config) {\r\n    if ($.isString(data)) {\r\n        config = config || {\"thousandsSeparator\": ew.THOUSANDS_SEP, \"decimalSeparator\": ew.DECIMAL_POINT};\r\n        var regexBits = [], regex, separator = config.thousandsSeparator, decimal = config.decimalSeparator;\r\n        if (separator)\r\n            regexBits.push(escapeRegExChars(separator) + \"(?=\\\\d)\");\r\n        regex = new RegExp(\"(?:\" + regexBits.join(\"|\") + \")\", \"g\");\r\n        if (decimal === \".\")\r\n            decimal = null;\r\n        data = data.replace(regex, \"\");\r\n        data = (decimal) ? data.replace(decimal, \".\") : data;\r\n    }\r\n    if ($.isString(data) && data.trim() !== \"\")\r\n        data = +data;\r\n    if (!$.isNumber || !isFinite(data)) // Catch NaN and Infinity\r\n        data = null;\r\n    return data;\r\n}\r\n\r\n/**\r\n * Format a Number to string for display\r\n *\r\n * @param {*} data - Data being converted\r\n * @param {Object} [config] - Configuration\r\n * @param {number} config.decimalPlaces - Number of decimal places to round. Must be a number 0 to 20.\r\n * @param {string} config.decimalSeparator - Decimal separator\r\n * @param {string} config.thousandsSeparator - Thousands separator\r\n * @returns {string} Note: null, undefined, NaN and \"\" returns as \"\".\r\n */\r\nexport function formatNumber(data, config) {\r\n    if ($.isNumber(data)) {\r\n        config = config || {\"thousandsSeparator\": ew.THOUSANDS_SEP, \"decimalSeparator\": ew.DECIMAL_POINT};\r\n        var isNeg = (data < 0), output = data + \"\", decPlaces = config.decimalPlaces,\r\n            decSep = config.decimalSeparator || \".\", thouSep = config.thousandsSeparator,\r\n            decIndex, newOutput, count, i;\r\n        if ($.isNumber(decPlaces) && (decPlaces >= 0) && (decPlaces <= 20)) // Decimal precision\r\n            output = data.toFixed(decPlaces);\r\n        if (decSep !== \".\") // Decimal separator\r\n            output = output.replace(\".\", decSep);\r\n        if (thouSep) { // Add the thousands separator\r\n            decIndex = output.lastIndexOf(decSep); // Find the dot or where it would be\r\n            decIndex = (decIndex > -1) ? decIndex : output.length;\r\n            newOutput = output.substring(decIndex); // Start with the dot and everything to the right\r\n            for (count = 0, i = decIndex; i > 0; i--) { // Working left, every third time add a separator, every time add a digit\r\n                if (count%3 === 0 && i !== decIndex && (!isNeg || i > 1))\r\n                    newOutput = thouSep + newOutput;\r\n                newOutput = output.charAt(i-1) + newOutput;\r\n                count++;\r\n            }\r\n            output = newOutput;\r\n        }\r\n        return output;\r\n    } else { // Not a Number, return as string\r\n        return ($.isValue(data) && data.toString) ? data.toString() : \"\";\r\n    }\r\n}\r\n\r\n/**\r\n * Convert data to Moment object (see http://momentjs.com/docs/)\r\n *\r\n * @param {*} data - Data being converted\r\n * @param {number} format - Date format matching server side FormatDateTime()\r\n * @returns {Moment}\r\n */\r\nexport function parseDate(data, format) {\r\n    var args = $.makeArray(arguments);\r\n    if ($.isNumber(format) && format >=0 && format <= 17) {\r\n        var f, def = ew.DATE_FORMAT.toUpperCase(), sep = ew.DATE_SEPARATOR, timesep = ew.TIME_SEPARATOR;\r\n        switch (format) {\r\n            case 0: case 1: case 2: case 8: f = def + \" HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // ew.DATE_FORMAT + \" %H:%M:%S\"\r\n            case 3: f = \"hh:mm:ss A\"; break; // \"%I:%M:%S %p\"\r\n            case 4: f = \"HH:mm:ss\"; break; // \"%H:%M:%S\"\r\n            case 5: f = \"YYYY\" + sep + \"MM\" + sep + \"DD\"; break; // \"%Y\" + sep + \"%m\" + sep + \"%d\"\r\n            case 6: f = \"MM\" + sep + \"DD\" + sep + \"YYYY\"; break; // \"%m\" + sep + \"%d\" + sep + \"%Y\"\r\n            case 7: f = \"DD\" + sep + \"MM\" + sep + \"YYYY\"; break; // \"%d\" + sep + \"%m\" + sep + \"%Y\"\r\n            case 9: f = \"YYYY\" + sep + \"MM\" + sep + \"DD HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%Y\" + sep + \"%m\" + sep + \"%d %H:%M:%S\"\r\n            case 10: f = \"MM\" + sep + \"DD\" + sep + \"YYYY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%m\" + sep + \"%d\" + sep + \"%Y %H:%M:%S\"\r\n            case 11: f = \"DD\" + sep + \"MM\" + sep + \"YYYY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%d\" + sep + \"%m\" + sep + \"%Y %H:%M:%S\"\r\n            case 12: f = \"YY\" + sep + \"MM\" + sep + \"DD\"; break; // \"%y\" + sep + \"%m\" + sep + \"%d\"\r\n            case 13: f = \"MM\" + sep + \"DD\" + sep + \"YY\"; break; // \"%m\" + sep + \"%d\" + sep + \"%y\"\r\n            case 14: f = \"DD\" + sep + \"MM\" + sep + \"YY\"; break; // \"%d\" + sep + \"%m\" + sep + \"%y\"\r\n            case 15: f = \"YY\" + sep + \"MM\" + sep + \"DD HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%y\" + sep + \"%m\" + sep + \"%d %H:%M:%S\"\r\n            case 16: f = \"MM\" + sep + \"DD\" + sep + \"YY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%m\" + sep + \"%d\" + sep + \"%y %H:%M:%S\"\r\n            case 17: f = \"DD\" + sep + \"MM\" + sep + \"YY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%d\" + sep + \"%m\" + sep + \"%y %H:%M:%S\"\r\n        }\r\n        args[1] = [f, \"YYYY-MM-DD HH\" + timesep + \"mm\" + timesep + \"ss\"];\r\n    }\r\n    return moment.apply(this, args);\r\n}\r\n\r\n/**\r\n * Format date time\r\n *\r\n * @param {*} data - Date being formatted\r\n * @param {string} format - Date format (see http://momentjs.com/docs/#/displaying/format/)\r\n * @returns {string}\r\n */\r\nexport function formatDate(data, format) {\r\n    return moment(data).format(format || ew.DATE_FORMAT.toUpperCase());\r\n}\r\n\r\n/**\r\n * Init page\r\n *\r\n * @param {Event|undefined} e - Event\r\n */\r\nexport function initPage(e) {\r\n    var el = (e && e.target) ? e.target : document,\r\n        $el = $(el),\r\n        $tables = $el.find(\"table.ew-table:not(.ew-export-table)\");\r\n    Array.prototype.forEach.call(el.querySelectorAll(\".ew-grid-upper-panel, .ew-grid-lower-panel\"), ew.initGridPanel); // Init grid panels\r\n    ew.renderJsTemplates(e);\r\n    lazyLoad(e);\r\n    initForms(e);\r\n    initTooltips(e);\r\n    initPasswordOptions(e);\r\n    initIcons(e);\r\n    initLightboxes(e);\r\n    initPdfObjects(e);\r\n    $el.find(\"[data-widget='treeview']\").each(function() {\r\n        adminlte.Treeview._jQueryInterface.call($(this), \"init\");\r\n    });\r\n    $tables.each(setupTable); // Init tables\r\n    $el.find(\".ew-btn-dropdown\").on(\"shown.bs.dropdown\", function() {\r\n        var $this = $(this).removeClass(\"dropup\"),\r\n            $window = $(window),\r\n            $menu = $this.find(\"> .dropdown-menu\");\r\n        $this.toggleClass(\"dropup\", $menu.offset().top + $menu.height() > $window.scrollTop() + $window.height());\r\n    });\r\n    $el.find(\"input[name=pageno]\").keypress(function(e) {\r\n        if (e.which == 13) {\r\n            currentUrl.searchParams.append(this.name, parseInt(this.value));\r\n            window.location = currentUrl.toString();\r\n            return false;\r\n        }\r\n    });\r\n    if (!ew.IS_SCREEN_SM_MIN) {\r\n        $el.find(\".\" + ew.RESPONSIVE_TABLE_CLASS + \" [data-toggle='dropdown']\").parent().on(\"shown.bs.dropdown\", function() {\r\n            var $this = $(this),\r\n                $menu = $this.find(\".dropdown-menu\"),\r\n                div = $this.closest(\".\" + ew.RESPONSIVE_TABLE_CLASS)[0];\r\n            if (div.scrollHeight - div.clientHeight) {\r\n                var d = $menu.offset().top + $menu.outerHeight() - $(div).offset().top - div.clientHeight;\r\n                if (d > 0)\r\n                    $menu.css(ew.CSS_FLIP ? \"right\" : \"left\", \"100%\").css(\"top\", parseFloat($menu.css(\"top\")) - d);\r\n            }\r\n        });\r\n    }\r\n    initExportLinks(e);\r\n    initMultiSelectCheckboxes(e);\r\n\r\n    // Report\r\n    var $rpt = $el.find(\".ew-report\");\r\n    if ($rpt[0]) {\r\n        $rpt.find(\".card\").on(\"collapsed.lte.widget\", function() { // Fix min-height when .lte.widget is collapsed\r\n            var $card = $(this), $div = $card.closest(\"[class^='col-']\"), mh = $div.css(\"min-height\");\r\n            if (mh)\r\n                $div.data(\"min-height\", mh);\r\n            $div.css(\"min-height\", 0);\r\n        }).on(\"expanded.lte.widget\", function() { // Fix min-height when .lte.widget is expanded\r\n            var $card = $(this), $div = $card.closest(\"[class^='col-']\"), mh = $div.css(\"min-height\");\r\n            if (mh)\r\n                $div.css(\"min-height\", mh); // Restore min-height\r\n        });\r\n        // Group expand/collapse button\r\n        $rpt.find(\"span.ew-group-toggle\").on(\"click\", function() {\r\n            ew.toggleGroup(this);\r\n        });\r\n    }\r\n\r\n    // Show message\r\n    if (typeof ew.USE_JAVASCRIPT_MESSAGE != \"undefined\" && ew.USE_JAVASCRIPT_MESSAGE)\r\n        showMessage(e);\r\n}\r\n\r\n// Redirect by HTTP GET or POST\r\nexport function redirect(url, f, method) {\r\n    var ar = url.split(\"?\"),\r\n        params = new URLSearchParams(ar[1]);\r\n    params.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // PHP\r\n    params.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // PHP\r\n    if (sameText(method, \"post\")) { // POST\r\n        var $form = (f) ? $(f) : $(\"<form></form>\").appendTo(\"body\");\r\n        $form.attr({ action: ar[0], method: \"post\" });\r\n        params.forEach(function(value, key) {\r\n            $('<input type=\"hidden\">').attr({ name: key, value: sanitize(value) }).appendTo($form);\r\n        });\r\n        $form.submit();\r\n    } else { // GET\r\n        var search = params.toString();\r\n        window.location = ar[0] + (search ? \"?\" + search : \"\");\r\n    }\r\n}\r\n\r\n// Show/Hide password\r\nexport function togglePassword(e) {\r\n    var $btn = $(e.currentTarget), $input = $btn.closest(\".input-group\").find(\"input\"), $i = $btn.find(\"i\");\r\n    if ($input.attr(\"type\") == \"text\") {\r\n        $input.attr(\"type\", \"password\");\r\n        $i.toggleClass(\"fa-eye-slash fa-eye\");\r\n    } else if($input.attr(\"type\") == \"password\"){\r\n        $input.attr(\"type\", \"text\");\r\n        $i.toggleClass(\"fa-eye-slash fa-eye\");\r\n    }\r\n}\r\n\r\n// Export with charts\r\nexport function exportWithCharts(e, url, exportId, f) {\r\n    var el = e.target,\r\n        exportUrl = new URL(window.location.href),\r\n        ar = url.split(\"?\"),\r\n        $el = $(el), method = (f) ? \"post\" : \"get\";\r\n\r\n    exportId += \"_\" + Date.now();\r\n    exportUrl.pathname = ar[0];\r\n    exportUrl.search = ar[1];\r\n    exportUrl.searchParams.set(\"exportid\", exportId);\r\n\r\n    if ($el.is(\".dropdown-menu a\"))\r\n        $el = $el.closest(\".btn-group\");\r\n\r\n    var _export = function() {\r\n        var params = exportUrl.searchParams,\r\n            custom = params.get(\"custom\") == \"1\";\r\n        if (f && !custom) { // Not custom\r\n            var data = $(f).serialize(); // Add token\r\n            $.post(exportUrl, data, function(result) {\r\n                showMessage(result);\r\n            });\r\n        } else { // Custom\r\n            var exp = params.get(\"export\");\r\n            if (custom && [\"word\", \"excel\", \"pdf\", \"email\"].includes(exp)) {\r\n                if (exp == \"email\") {\r\n                    params.delete(\"export\"); // Remove duplicate export=email (exists in form)\r\n                    exportUrl.search = params.toString() + \"&\" + $(f).serialize();\r\n                }\r\n                $(\"iframe.ew-export\").remove();\r\n                $(\"<iframe></iframe>\").addClass(\"ew-export d-none\").attr(\"src\", exportUrl.toString()).appendTo($body.css(\"cursor\", \"wait\"));\r\n                setTimeout(function() { $body.css(\"cursor\", \"default\"); }, 5000);\r\n            } else if (exp == \"print\") {\r\n                redirect(exportUrl.toString(), f, method);\r\n            } else {\r\n                fileDownload(exportUrl.toString(), null);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    var keys = Object.keys(window.exportCharts);\r\n    if (keys.length == 0) // No charts, just submit the form\r\n        return _export();\r\n\r\n    // Success callback\r\n    var success = function(result) {\r\n        if ($.isString(result))\r\n            result = parseJson(result);\r\n        if (result.success) {\r\n            _export();\r\n        } else {\r\n            ew.alert(result.error);\r\n        }\r\n    };\r\n\r\n    // Failure callback\r\n    var fail = function(xhr, status, error) {\r\n        ew.alert(error + \": \" + xhr.responseText); // Show detailed export error message\r\n    };\r\n\r\n    // Export charts\r\n    $body.css(\"cursor\", \"wait\");\r\n    var charts = [];\r\n    for (var i = 0; i < keys.length; i++) {\r\n        var id = keys[i], o = window.exportCharts[id],\r\n            params = \"exportfilename=\" + exportId + \"_\" + id + \".png|exportformat=png|exportaction=download|exportparameters=undefined\";\r\n        if (o && o.toBase64Image) // Chart.js chart\r\n            charts.push({ \"chart_engine\": \"Chart.js\", \"stream_type\": \"base64\", \"stream\": o.toBase64Image(), \"parameters\": params });\r\n    }\r\n    $.ajax({\r\n        \"url\": getApiUrl(ew.API_EXPORT_CHART_ACTION),\r\n        \"data\": { \"charts\": JSON.stringify(charts) },\r\n        \"cache\": false,\r\n        \"type\": \"POST\"\r\n    }).done(success).fail(fail).always(function() {\r\n        $body.css(\"cursor\", \"default\");\r\n    });\r\n    return false;\r\n}\r\n\r\n// Layout\r\nvar _fixLayoutHeightTimer;\r\n\r\n// Fix layout height\r\nexport function fixLayoutHeight() {\r\n    if (_fixLayoutHeightTimer)\r\n        _fixLayoutHeightTimer.cancel(); // Clear timer\r\n    _fixLayoutHeightTimer = $.later(50, null, function () {\r\n        var layout = $body.data(\"lte.layout\");\r\n        if (layout)\r\n            layout.fixLayoutHeight();\r\n    });\r\n}\r\n\r\n// Add user event handlers\r\nexport function addEventHandlers(tblVar) {\r\n    let fields = ew.events[tblVar];\r\n    if (fields) {\r\n        for (var [fldVar, events] of Object.entries(fields))\r\n            $('[data-table=' + tblVar + '][data-field=' + fldVar + ']').on(events);\r\n    }\r\n}","import $ from 'jquery';\r\nimport MultiPage from \"./multipage\";\r\nimport * as Validators from './Validators';\r\nimport Form from \"./Form\";\r\nimport * as functions from './functions';\r\n\r\new.IS_SCREEN_SM_MIN = window.matchMedia(\"(min-width: 768px)\").matches; // Should matches $screen-sm-min\r\new.MOBILE_DETECT = new MobileDetect(window.navigator.userAgent);\r\new.IS_MOBILE = !!ew.MOBILE_DETECT.mobile();\r\new.IS_IE = ew.MOBILE_DETECT.version(\"MSIE\") > 0;\r\n\r\n// Charts\r\nwindow.exportCharts = {}; // Per window\r\nwindow.drillDownCharts = {}; // Per window\r\n\r\n// Init spinner\r\new.addSpinner();\r\n\r\n// Extend\r\nObject.assign(ew, { MultiPage, Form, Validators }, functions);\r\n\r\nvar $document = $(document);\r\n\r\n// Init document\r\nloadjs.ready(\"load\", function () {\r\n\t$.views.settings.debugMode(ew.DEBUG);\r\n\tew.setSessionTimer();\r\n\tew.initPage();\r\n\t$(\"#ew-modal-dialog\").on(\"load.ew\", ew.initPage);\r\n\t$(\"#ew-add-opt-dialog\").on(\"load.ew\", ew.initPage);\r\n\tvar hash = ew.currentUrl.searchParams.get(\"hash\");\r\n\tif (hash)\r\n\t\t$(\"html, body\").animate({ scrollTop: $(\"#\" + hash).offset().top }, 800);\r\n\tew.removeSpinner();\r\n\t$document.trigger(\"load\");\r\n});\r\n\r\n// Default \"addoption\" event (fired before adding new option to selection list)\r\n$document.on(\"addoption\", function (e, args) {\r\n\tvar row = args.data; // New row to be validated\r\n\tvar arp = args.parents; // Parent field values\r\n\tfor (var i = 0, cnt = arp.length; i < cnt; i++) { // Iterate parent values\r\n\t\tvar p = arp[i];\r\n\t\tif (!p.length) // Empty parent\r\n\t\t\t//continue; // Allow\r\n\t\t\treturn args.valid = false; // Disallow\r\n\t\tvar val = row[\"ff\" + ((i > 0) ? i + 1 : \"\")]; // Filter fields start from the 6th field\r\n\t\tif (!$.isUndefined(val) && !p.includes(String(val))) // Filter field value not in parent field values\r\n\t\t\treturn args.valid = false; // Returns false if invalid\r\n\t}\r\n});\r\n\r\n// Fix z-index of multiple modals\r\n$document.on(\"show.bs.modal\", \".modal\", function () {\r\n\tvar zIndex = 1050 + $(\".modal:visible\").length;\r\n\t$(this).css(\"z-index\", zIndex);\r\n\tsetTimeout(function () {\r\n\t\t$(\".modal-backdrop\").not(\".modal-stack\").css(\"z-index\", zIndex - 1).addClass(\"modal-stack\");\r\n\t}, 0);\r\n});\r\n\r\n// Fix scrolling of multiple modals\r\n$document.on(\"hidden.bs.modal\", \".modal\", function () {\r\n\t$(\".modal:visible\").length && $(\"body\").addClass(\"modal-open\");\r\n});","import $ from 'jquery';\r\n\r\n// Extend jQuery\r\n$.extend({\r\n\tisBoolean: function(o) {\r\n\t\treturn typeof o === 'boolean';\r\n\t},\r\n\tisNull: function(o) {\r\n\t\treturn o === null;\r\n\t},\r\n\tisNumber: function(o) {\r\n\t\treturn typeof o === 'number' && isFinite(o);\r\n\t},\r\n\tisObject: function(o) {\r\n\t\treturn (o && (typeof o === 'object' || this.isFunction(o))) || false;\r\n\t},\r\n\tisString: function(o) {\r\n\t\treturn typeof o === 'string';\r\n\t},\r\n\tisUndefined: function(o) {\r\n\t\treturn typeof o === 'undefined';\r\n\t},\r\n\tisValue: function(o) {\r\n\t\treturn (this.isObject(o) || this.isString(o) || this.isNumber(o) || this.isBoolean(o));\r\n\t},\r\n\tisDate: function(o) {\r\n\t\treturn this.type(o) === 'date' && o.toString() !== 'Invalid Date' && !isNaN(o);\r\n\t},\r\n\tlater: function(when, o, fn, data, periodic) {\r\n\t\twhen = when || 0;\r\n\t\to = o || {};\r\n\t\tvar m = fn, d = data, f, r;\r\n\t\tif (this.isString(fn))\r\n\t\t\tm = o[fn];\r\n\t\tif (!m)\r\n\t\t\treturn;\r\n\t\tif (!this.isUndefined(data) && !this.isArray(d))\r\n\t\t\td = [data];\r\n\t\tf = function() {\r\n\t\t\tm.apply(o, d || []);\r\n\t\t};\r\n\t\tr = (periodic) ? setInterval(f, when) : setTimeout(f, when);\r\n\t\treturn {\r\n\t\t\tinterval: periodic,\r\n\t\t\tcancel: function() {\r\n\t\t\t\tif (this.interval) {\r\n\t\t\t\t\tclearInterval(r);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclearTimeout(r);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});","import $ from 'jquery';\r\n\r\n/**\r\n * jQuery.fields() plugin\r\n *\r\n * @param {string|undefined} fldvar - Field variable name or undefined\r\n *  If field variable name, returns jQuery object of the specified field element(s).\r\n *  If unspecified, returns object of jQuery objects of all fields.\r\n * @returns jQuery object\r\n */\r\n$.fn.fields = function(fldvar) { // Note: fldvar has NO \"x_\" prefix\r\n    var rec = {},\r\n        id = this.attr(\"id\"),\r\n        obj = this[0],\r\n        m = id.match(/^[xy](\\d*)_/),\r\n        f, tbl, infix;\r\n    if (m) { // \"this\" is input element\r\n        f = ew.getForm(obj); // form\r\n        tbl = this.data(\"table\"); // table var\r\n        infix = m[1]; // row index\r\n    } else if (obj && obj.htmlForm) { // \"this\" is form\r\n        f = obj.$element; // form\r\n        tbl = obj.id.replace(new RegExp(\"^f|\" + obj.pageId + \"$\", \"g\"), \"\"); // table var\r\n        infix = $(obj.htmlForm).data(\"rowindex\"); // row index\r\n    }\r\n    var selector = \"[data-table\" + (tbl ? \"=\" + tbl : \"\") + \"][data-field\" + (fldvar ? \"=x_\" + fldvar : \"\") + \"]\";\r\n    if ($.isValue(infix))\r\n        selector += \"[name^=x\" + infix + \"_]\";\r\n    if (f && selector) {\r\n        $(f).find(selector).each(function() {\r\n            var key = this.getAttribute(\"data-field\").substr(2), name = this.getAttribute(\"name\");\r\n            key = (/^y_/.test(name)) ? \"y_\" + key : key; // Use \"y_fldvar\" as key for 2nd search input\r\n            rec[key] = (rec[key]) ? rec[key].add(this) : $(this); // Create jQuery object for each field\r\n        });\r\n    }\r\n    return (fldvar) ? rec[fldvar] : rec;\r\n};\r\n$.fn.extend({\r\n    // Get jQuery object of the row (<div> or <tr>)\r\n    row: function() {\r\n        var $row = this.closest(\"#r_\" + this.data(\"field\").substr(2));\r\n        if (!$row[0])\r\n            $row = this.closest(\".ew-table > tbody > tr\"); // Grid page\r\n        return $row;\r\n    },\r\n    // Show/Hide field\r\n    visible: function(v) {\r\n        var $el = this.closest(\"#r_\" + this.data(\"field\").substr(2)); // Find the row\r\n        if (!$el[0]) // If not found, find the <span>\r\n            $el = this.closest(\"[id^=el]\");\r\n        if (typeof(v) != \"undefined\") {\r\n            $el.toggle(v);\r\n            return this;\r\n        } else {\r\n            return $el.is(\":visible\");\r\n        }\r\n    },\r\n    // Get/Set field \"readonly\" attribute\r\n    // Note: This attribute is ignored if the value of the type attribute is hidden, range, color, checkbox, radio, file, or a button type\r\n    readonly: function(v) {\r\n        if (typeof(v) != \"undefined\") {\r\n            this.prop(\"readOnly\", v);\r\n            return this;\r\n        } else {\r\n            return this.prop(\"readOnly\");\r\n        }\r\n    },\r\n    // Get/Set field \"disabled\" attribute\r\n    // Note: A disabled control's value isn't submitted with the form\r\n    disabled: function(v) {\r\n        if (typeof(v) != \"undefined\") {\r\n            this.prop(\"disabled\", v);\r\n            return this;\r\n        } else {\r\n            return this.prop(\"disabled\");\r\n        }\r\n    },\r\n    // Get/Set field value(s)\r\n    // Note: Return array if select-multiple\r\n    value: function(v) {\r\n        var type = this.attr(\"type\");\r\n        if (typeof(v) != \"undefined\") {\r\n            if (!Array.isArray(v))\r\n                v = [v];\r\n            var type = this.attr(\"type\");\r\n            var el = (type == \"radio\" || type == \"checkbox\") ? this.get() : this[0];\r\n            if (ew.isHiddenTextArea(this))\r\n                this.val(v).data(\"editor\").save();\r\n            else\r\n                ew.selectOption(el, v);\r\n            return this;\r\n        } else {\r\n            if (type == \"checkbox\") {\r\n                var val = ew.getOptionValues(this.get());\r\n                return (this.length == 1) ? val.join() : val;\r\n            } else if (type == \"radio\") {\r\n                return ew.getOptionValues(this.get()).join();\r\n            } else if (ew.isHiddenTextArea(this)) {\r\n                this.data(\"editor\").save();\r\n                return this.val();\r\n            } else {\r\n                return this.val();\r\n            }\r\n        }\r\n    },\r\n    // Get field value as number\r\n    toNumber: function() {\r\n        return ew.parseNumber(this.value());\r\n    },\r\n    // Get field value as moment object\r\n    toDate: function() {\r\n        return ew.parseDate(this.value(), this.data(\"format\"));\r\n    },\r\n    // Get field value as native Date object\r\n    toJsDate: function() {\r\n        return ew.parseDate(this.value(), this.data(\"format\")).toDate();\r\n    }\r\n});","import $ from 'jquery';\r\n\r\n// Init Treeview later\r\n$(window).off(\"load.lte.treeview\");\r\n\r\n// Treeview\r\nvar Treeview = adminlte.Treeview;\r\nTreeview.prototype._toggle = Treeview.prototype.toggle;\r\nTreeview.prototype.toggle = function toggle(event) {\r\n\tvar $relativeTarget = $(event.currentTarget), treeviewMenu = $relativeTarget.next(),\r\n\t\thref = $relativeTarget.attr(\"href\"), $text = $(event.target).closest(\".menu-item-text\");\r\n\tif (!treeviewMenu.is(\".nav-treeview\") || $text[0] && href && href != \"#\" && href != \"javascript:void(0);\") // Menu text with href\r\n\t\treturn;\r\n\tthis._toggle(event);\r\n};\r\n\r\n// Dropdown menu parent item with href // Override AdminLTE\r\n$(\"ul.dropdown-menu [data-toggle=dropdown]\").on(\"click\", function(e) {\r\n\tvar href = $(this).attr(\"href\");\r\n\tif (href && href != \"#\" && e.target.nodeName == \"SPAN\")\r\n\t\twindow.location = href;\r\n});"],"names":["global","classof","IndexedObject","document","DESCRIPTORS","createElement","IE8_DOM_DEFINE","propertyIsEnumerableModule","definePropertyModule","store","WeakMap","has","NATIVE_WEAK_MAP","objectHas","InternalStateModule","min","require$$0","hiddenKeys","internalObjectKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","getOwnPropertyDescriptor","isForced","aFunction","NATIVE_SYMBOL","Symbol","USE_SYMBOL_AS_UID","createMethod","bind","defineProperties","create","$","USES_TO_LENGTH","defineProperty","assign","isRegExp","MATCH","correctIsRegExpLogic","notARegExp","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","Blob","FormData","prototype","keys","normalizeValue","value","filename","File","type","lastModified","ensureArgs","args","expected","length","TypeError","normalizeArgs","name","String","undefined","normalizeLinefeeds","replace","each","arr","cb","i","window","self","this","_FormData","_send","XMLHttpRequest","send","_fetch","Request","fetch","_sendBeacon","navigator","sendBeacon","stringTag","toStringTag","a","b","d","c","blob","t","Date","Object","lastModifiedDate","toString","FormDataPolyfill","form","_data","elements","elm","disabled","files","file","append","options","opt","selected","checked","arguments","apply","map","push","delete","entries","forEach","callback","thisArg","call","get","getAll","set","values","fd","boundary","Math","random","chunks","iterator","setRequestHeader","toLowerCase","_hasContentType","data","input","init","body","url","MultiPage","formid","$form","formID","pageIndex","maxPageIndex","minPageIndex","pageIndexes","$pages","$collapses","isTab","isCollapse","lastPageSubmit","hideDisabledButton","hideInactivePages","lockTabs","hideTabs","showPagerTop","showPagerBottom","pagerTemplate","_show","e","preventDefault","_properties","isObject","obj","p","substr","includes","tpl","ew","language","phrase","closest","before","after","find","click","off","filter","parent","prev","toggleClass","next","hide","pageShow","on","$this","hasClass","$btn","prop","toggle","is","gotoPage","$page","eq","$p","gotoPageByIndex","gotoPageByElement","el","parseInt","gotoPageByElementId","id","$el","togglePage","show","render","index","sort","$tabs","target","attr","m","googleMaps","google","maps","event","trigger","setCenter","$bodies","userLevelId","checkInteger","level","userLevelName","elId","getElementById","trim","sameText","required","fieldName","hasValue","fileRequired","elFn","mismatchPassword","startsWith","elPwd","between","x","z","val","passwordStrength","username","raw","match","RegExp","escapeRegExChars","INVALID_USERNAME_CHARACTERS","password","ENCRYPTED_PASSWORD","INVALID_PASSWORD_CHARACTERS","email","getValue","checkEmail","emails","cnt","err","checkEmails","datetime","dateFormat","fn","phraseId","newSubStr","DATE_SEPARATOR","checkShortDate","checkDate","checkShortEuroDate","checkEuroDate","checkShortUSDate","checkUSDate","checkDateDef","DATE_FORMAT","time","checkTime","float","checkNumber","range","max","checkRange","integer","phone","checkPhone","zip","checkZip","creditCard","checkCreditCard","ssn","checkSsn","guid","checkGuid","regex","pattern","checkByRegEx","custom","captcha","recaptcha","grecaptcha","getResponse","dataset","FormBase","pageId","_initiated","$element","htmlForm","initSearchPanel","modified","validateRequired","validate","emptyRow","multiPage","autoSuggests","lists","disableForm","getForm","addClass","enableForm","removeClass","appendHidden","$dp","ar","serializeArray","o","appendTo","canSubmit","updateTextArea","$dps","dp","j","test","$els","not","submit","action","getList","compileTemplates","list","template","isString","templates","getElement","getElements","selector","updateLists","rowindex","isNumber","confirm","querySelector","removeSpinner","fixId","multiple","split","prefix","endsWith","join","actions","promises","parents","parentFields","slice","ajax","isBoolean","pvalues","getOptionValues","updateOptions","Promise","resolve","reject","setTimeout","shift","AJAX_DELAY","all","then","source","catch","error","console","log","createAutoSuggest","settings","limit","AUTO_SUGGEST_MAX_ENTRIES","autoSuggestSettings","AutoSuggest","initEditors","ed","active","save","destroyEditor","destroy","onError","msg","initUpload","later","upload","setupFilters","filters","filterList","$sf","$df","$delete","$save","saveFilters","SEARCH_FILTER_OPTION","localStorage","setItem","JSON","stringify","$body","css","currentPage","dataType","done","result","success","always","prompt","prevAll","remove","$submenu","Array","isArray","splice","insertBefore","method","TOKEN_NAME_KEY","TOKEN_NAME","ANTIFORGERY_TOKEN_KEY","ANTIFORGERY_TOKEN","IS_LOGGEDIN","IS_SYS_ADMIN","CURRENT_USER_NAME","item","getItem","parseJson","grep","isSearch","hasFormData","collapse","text","change","loadjs","ready","$tab","getAttribute","$panel","$container","width","CONFIRM_CANCEL","href","location","forms","add","Field","fldvar","validators","invalid","validator","addValidator","addError","_error","clearErrors","clearValidators","_element","shouldValidate","updateFeedback","errorMessage","jQuery","html","setInvalid","focus","setFocus","from","_checkbox","Form","addField","fields","getField","addFields","field","addCustomError","makeVisible","element","$pane","validateFields","rowIndex","row","AjaxLookup","elementId","formElement","pf","debounce","recordCount","formatResult","isAutoSuggest","jsRenderHelpers","displayValue","generateRequest","page","LANGUAGE_ID","getUserParams","arp","MULTIPLE_OPTION_SEPARATOR","getUrl","query","start","params","URLSearchParams","q","n","rnd","getApiUrl","API_LOOKUP_ACTION","prepare","transform","results","totalRecordCount","records","_isAutoSuggest","SelectionListOption","emptyObj","typeahead","$input","timer","minWidth","maxHeight","highlight","hint","minLength","delay","display","forceSelection","forceSelect","setValue","v","findIndex","option","syncResults","asyncResults","cancel","count","menu","$node","more","ta","datasets","_append","scrollTop","$lastSuggestion","outerHeight","isOpen","empty","$item","getActiveSelectable","blur","close","async","$more","one","stopPropagation","$menu","$dataset","Forms","_forms","f","ids","Utils","Select2CustomOption","decorated","$results","displayMessage","escapeMarkup","clear","hideLoading","$message","message","className","children","select2","cols","len","$row","last","$option","attrs","matches","Element","msMatchesSelector","webkitMatchesSelector","_resultId","title","setAttribute","StoreData","currentUrl","URL","$document","_removeSpinner","frm","createSelect","selectId","amd","require","opts","ResultsList","InfiniteScroll","HidePlaceholder","SelectOnClose","selectOptions","resultsAdapter","dropdown","columns","customOption","Decorate","getSelect2CustomOptionClass","iconClass","templateResult","placeholder","selectOnClose","lookup","term","processResults","lf","df","df2","df3","df4","pagination","minimumResultsForSearch","Infinity","initIcons","tooltip","container","IS_MOBILE","placement","sanitizeFn","initPasswordOptions","pStrength","MIN_PASSWORD_STRENGTH","strength","percentage","$pst","$pb","outerWidth","pct","pGenerator","GENERATE_PASSWORD_LENGTH","GENERATE_PASSWORD_UPPERCASE","GENERATE_PASSWORD_LOWERCASE","GENERATE_PASSWORD_NUMBER","GENERATE_PASSWORD_SPECIALCHARS","pwd","triggerHandler","PATH_BASE","API_URL","USE_URL_REWRITE","route","encodeURIComponent","API_ACTION_NAME","qs","setSessionTimer","timeoutTime","keepAliveTimer","counter","useKeepAlive","SESSION_KEEP_ALIVE_INTERVAL","IS_AUTOLOGIN","keepAlive","API_SESSION_ACTION","token","resetTimer","SESSION_TIMEOUT_COUNTDOWN","SESSION_TIMEOUT","timeout","timerInterval","Swal","fire","sweetAlertSettings","showConfirmButton","confirmButtonText","timerProgressBar","allowOutsideClick","allowEscapeKey","onBeforeOpen","setInterval","content","getContent","textContent","round","getTimerLeft","onClose","clearInterval","setTimer","dismiss","DismissReason","TIMEOUT_URL","keepAliveInterval","initExportLinks","fileDownload","initMultiSelectCheckboxes","$cbs","_update","win","jq","swal","doc","$doc","isHtml","showLoading","cache","xhrFields","responseType","textStatus","jqXHR","createObjectURL","cd","getResponseHeader","style","download","appendChild","revokeObjectURL","fail","showValidationMessage","response","lazyLoad","LAZY_LOAD","src","updateDropdownPosition","select","_positionDropdown","_resizeDropdown","initLightboxes","USE_COLORBOX","lightboxSettings","current","previous","xhrError","imgError","colorbox","rel","initPdfObjects","EMBED_PDF","PDFObjectOptions","PDFObject","embed","fallbackLink","initTooltips","popover","parse","searchOperatorChanged","parm","$fld","$fld2","$y","hasY","$cond","hasCond","$and","$opr","opr","$opr2","opr2","isBetween","isNullOpr","isNullOpr2","hideOpr2","hideX","hideY","initForms","_prompt","showCancelButton","isFunction","cancelButtonText","inputValidator","toast","toastOptions","Toasts","position","toUpperCase","substring","first","showToast","class","autohide","autoHideSuccessMessage","autoHideSuccessMessageDelay","$f","els","setSearchType","parentId","isUndefined","childFields","promise","getId","names","$elf","typ","elf","_updateOptions","autoFillTargetFields","autoFill","fo","frmo","$obj","clearOptions","addOpt","valid","newOption","selectOption","_updateSibling","lookupOptions","ds","isModalLookup","root","key","applyTemplate","divId","tmplId","classId","exportType","enabled","querySelectorAll","subtmpl","rowspan","childNodes","node","rowSpan","replaceWith","views","scripts","div","innerHTML","tmpl","$meta","$div","PDF_STYLESHEET_FILENAME","PROJECT_STYLESHEET_FILENAME","responseText","str","searchParams","param","post","showMessage","toggleGroup","$tr","idx","isValue","convertToBool","valueChanged","fobj","infix","fld","bool","nelm","oelm","fnelm","oldvalue","newvalue","setLanguage","sanitize","search","submitAction","srcElement","currentForm","isPost","isMultiple","keySelected","_success","_submit","k","serialize","_export","sel","_alert","end","removeSpaces","isHiddenTextArea","clearError","jquery","isHidden","shiftKey","ctrlKey","confirmDelete","clickDelete","clearDelete","selectAllKey","selectAll","tbl","tBodies","rows","r","$r","setColor","updateSelected","$tbl","ROWTYPE_ADD","ROWTYPE_EDIT","clearSelected","siblings","addBack","clickMultiCheckbox","$cb","setupTable","force","$rows","mouseOver","mouseOut","$target","cells","parentsUntil","RESPONSIVE_TABLE_CLASS","clientHeight","offsetHeight","attach","edit","sw","setupGrid","grid","$grid","multi","rowcnt","USE_OVERLAY_SCROLLBARS","overlayScrollbars","overlayScrollbarsOptions","addGridRow","$tpl","$lastrow","clone","suffix","$elkeycnt","keycnt","attributes","removeData","addScript","scrollHeight","deleteGridRow","rowidx","keycntname","_delete","$keyact","htmlEncode","table","getAncestorBy","parentNode","nodeType","classList","contains","o1","o2","sameString","getOptionTexts","lo","hasAttribute","removeAll","valueSeparator","sep","optionHtml","OPTION_HTML_TEMPLATE","optionsHtml","MAX_OPTION_COUNT","df1","selectedIndex","vals","isAutoSelect","ajaxSend","jqxhr","apiUrl","isApi","allowed","objUrl","hostname","API_JWT_TOKEN","IS_WINDOWS_AUTHENTICATION","API_JWT_AUTHORIZATION_HEADER","ajaxStart","addSpinner","_ajaxStop","ajaxStop","ajaxError","executeScript","matchAll","stripScript","scr","removeScript","getOptions","addOptionDialogShow","_hide","$dlg","unbind","addOptionDialog","_submitSuccess","lnk","objName","API_OBJECT_NAME","re","modal","linkField","dfs","displayFields","ffs","filterFields","pfs","lfv","ff","txt","$lu","nv","arOpt","obj2","ar2","description","failureMessage","_fail","status","statusText","btn","API_ADD_ACTION","filterFieldVars","keypress","which","nodeName","modalDialogHide","$bd","ewjtable","reload","modalDialogShow","modalDialog","showing","size","_caption","$lnk","caption","_button","isNull","_always","_current","pathname","view","footer","cf","ct","modalLookupShow","modalLookupDialog","oid","_format","setAutoSuggest","txts","useText","srch","record","arLinkValue","_timer","$search","LOOKUP_DELAY","linkValue","paging","pageSize","pageSizes","pageSizeChangeArea","pageList","selecting","selectingCheckboxes","multiselect","postData","jtParams","recperpage","messages","serverCommunicationError","loadingMessage","spinnerClass","noDataAvailable","pagingInfo","pageSizeChangeLabel","gotoPageLabel","recordsLoaded","selectedRows","selectionChanged","indexOf","importDialogShow","importDialog","$data","$progress","enableButtons","classname","$msg","hideMessage","showProgress","pc","hideProgress","uploadProgress","loaded","total","updateProgress","tcnt","totalCount","importProgress","API_PROGRESS_ACTION","API_FILE_TOKEN_NAME","importComplete","maxErrorCount","fileResults","fileResult","scnt","successCount","fcnt","failCount","showLog","failList","ecnt","importFail","importFiles","filetoken","xhr","formData","session","SESSION_ID","importUploadOptions","acceptFileTypes","IMPORT_FILE_ALLOWED_EXT","fileupload","API_UPLOAD_ACTION","autoUpload","singleFileUploads","maxFileSize","maxNumberOfFiles","minFileSize","importfiles","ok","processfail","errorThrown","progressall","hdr","dest_array","destEl","v0","pid","$tt","trig","dir","CSS_FLIP","wd","$tip","getTipElement","emailDialogShow","emailDialog","Validators","MAX_EMAIL_RECIPIENT","exportid","exportWithCharts","showDrillDown","arUrl","redirect","pos","height","ypos","offset","top","pageY","xpos","left","pageX","drillDownCharts","cht","dispose","_convert","responseJSON","toggleSearchOperator","object_value","checkDateEx","format","arDT","sYear","sMonth","sDay","exec","wrksep","arD","unformatYear","checkDay","yr","UNFORMAT_YEAR","checkYear","checkMonth","maxDay","DECIMAL_POINT","ts","THOUSANDS_SEP","stringToFloat","parseFloat","stringToDate","min_value","max_value","TIME_SEPARATOR","creditcard_string","doubledigit","tempdigit","checkdigit","charAt","email_cnt","arEmails","arg","$alert","$heading","detach","$content","w","$toast","floor","nid","readonly","$ft","$fn","$fa","$fs","$exts","$maxsize","$maxfilecount","$label","label","_done","MULTIPLE_UPLOAD_SEPARATOR","_deleted","originalEvent","fid","_change","l","_confirmDelete","_changed","_clicked","_downloadTemplate","_uploadTemplate","_completed","context","_added","uploadUrl","API_JQUERY_UPLOAD_ACTION","exts","maxsize","maxfilecount","multipart","loadImageFileTypes","loadVideoFileTypes","loadAudioFileTypes","filesContainer","uploadTemplateId","downloadTemplateId","uploadTemplate","downloadTemplate","previewMaxWidth","UPLOAD_THUMBNAIL_WIDTH","previewMaxHeight","UPLOAD_THUMBNAIL_HEIGHT","dropZone","pasteZone","readOnly","Event","parseNumber","config","regexBits","separator","thousandsSeparator","decimal","decimalSeparator","isFinite","formatNumber","isNeg","output","decPlaces","decimalPlaces","decSep","thouSep","decIndex","newOutput","toFixed","lastIndexOf","parseDate","makeArray","def","timesep","moment","formatDate","initPage","$tables","initGridPanel","renderJsTemplates","adminlte","Treeview","_jQueryInterface","$window","IS_SCREEN_SM_MIN","$rpt","$card","mh","USE_JAVASCRIPT_MESSAGE","togglePassword","currentTarget","$i","exportId","exportUrl","now","exp","exportCharts","alert","charts","toBase64Image","API_EXPORT_CHART_ACTION","_fixLayoutHeightTimer","fixLayoutHeight","layout","addEventHandlers","tblVar","events","fldVar","matchMedia","MOBILE_DETECT","MobileDetect","userAgent","mobile","IS_IE","version","functions","debugMode","DEBUG","hash","animate","zIndex","extend","isDate","isNaN","when","periodic","interval","clearTimeout","rec","visible","toNumber","toDate","toJsDate","_toggle","$relativeTarget","treeviewMenu","$text"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;EAAA,IAAI,KAAK,GAAG,UAAU,EAAE,EAAE;EAC1B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;EACrC,CAAC,CAAC;;EAEF;EACA,YAAc;EACd;EACA,EAAE,KAAK,CAAC,OAAO,UAAU,IAAI,QAAQ,IAAI,UAAU,CAAC;EACpD,EAAE,KAAK,CAAC,OAAO,MAAM,IAAI,QAAQ,IAAI,MAAM,CAAC;EAC5C,EAAE,KAAK,CAAC,OAAO,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC;EACxC,EAAE,KAAK,CAAC,OAAOA,cAAM,IAAI,QAAQ,IAAIA,cAAM,CAAC;EAC5C;EACA,EAAE,QAAQ,CAAC,aAAa,CAAC,EAAE;;ECZ3B,SAAc,GAAG,UAAU,IAAI,EAAE;EACjC,EAAE,IAAI;EACN,IAAI,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;EACpB,GAAG,CAAC,OAAO,KAAK,EAAE;EAClB,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,CAAC;;ECJD;EACA,eAAc,GAAG,CAAC,KAAK,CAAC,YAAY;EACpC,EAAE,OAAO,MAAM,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;EAClF,CAAC,CAAC;;ECJF,IAAI,0BAA0B,GAAG,EAAE,CAAC,oBAAoB,CAAC;EACzD,IAAI,wBAAwB,GAAG,MAAM,CAAC,wBAAwB,CAAC;;EAE/D;EACA,IAAI,WAAW,GAAG,wBAAwB,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAE5F;EACA;EACA,KAAS,GAAG,WAAW,GAAG,SAAS,oBAAoB,CAAC,CAAC,EAAE;EAC3D,EAAE,IAAI,UAAU,GAAG,wBAAwB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;EACrD,EAAE,OAAO,CAAC,CAAC,UAAU,IAAI,UAAU,CAAC,UAAU,CAAC;EAC/C,CAAC,GAAG,0BAA0B;;;;;;ECZ9B,4BAAc,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE;EAC1C,EAAE,OAAO;EACT,IAAI,UAAU,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;EAC7B,IAAI,YAAY,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;EAC/B,IAAI,QAAQ,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;EAC3B,IAAI,KAAK,EAAE,KAAK;EAChB,GAAG,CAAC;EACJ,CAAC;;ECPD,IAAI,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;;EAE3B,cAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,OAAO,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACxC,CAAC;;ECDD,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;;EAErB;EACA,iBAAc,GAAG,KAAK,CAAC,YAAY;EACnC;EACA;EACA,EAAE,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;EAC9C,CAAC,CAAC,GAAG,UAAU,EAAE,EAAE;EACnB,EAAE,OAAOC,UAAO,CAAC,EAAE,CAAC,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;EACnE,CAAC,GAAG,MAAM;;ECZV;EACA;EACA,0BAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,IAAI,EAAE,IAAI,SAAS,EAAE,MAAM,SAAS,CAAC,uBAAuB,GAAG,EAAE,CAAC,CAAC;EACrE,EAAE,OAAO,EAAE,CAAC;EACZ,CAAC;;ECLD;;EAIA,mBAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,OAAOC,aAAa,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,CAAC;EACnD,CAAC;;ECND,YAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,OAAO,OAAO,EAAE,KAAK,QAAQ,GAAG,EAAE,KAAK,IAAI,GAAG,OAAO,EAAE,KAAK,UAAU,CAAC;EACzE,CAAC;;ECAD;EACA;EACA;EACA;EACA,eAAc,GAAG,UAAU,KAAK,EAAE,gBAAgB,EAAE;EACpD,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;EACrC,EAAE,IAAI,EAAE,EAAE,GAAG,CAAC;EACd,EAAE,IAAI,gBAAgB,IAAI,QAAQ,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;EACpH,EAAE,IAAI,QAAQ,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;EAC/F,EAAE,IAAI,CAAC,gBAAgB,IAAI,QAAQ,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;EACrH,EAAE,MAAM,SAAS,CAAC,yCAAyC,CAAC,CAAC;EAC7D,CAAC;;ECbD,IAAI,cAAc,GAAG,EAAE,CAAC,cAAc,CAAC;;EAEvC,OAAc,GAAG,UAAU,EAAE,EAAE,GAAG,EAAE;EACpC,EAAE,OAAO,cAAc,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;EACtC,CAAC;;ECDD,IAAIC,UAAQ,GAAGH,QAAM,CAAC,QAAQ,CAAC;EAC/B;EACA,IAAI,MAAM,GAAG,QAAQ,CAACG,UAAQ,CAAC,IAAI,QAAQ,CAACA,UAAQ,CAAC,aAAa,CAAC,CAAC;;EAEpE,yBAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,OAAO,MAAM,GAAGA,UAAQ,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;EAClD,CAAC;;ECLD;EACA,gBAAc,GAAG,CAACC,WAAW,IAAI,CAAC,KAAK,CAAC,YAAY;EACpD,EAAE,OAAO,MAAM,CAAC,cAAc,CAACC,qBAAa,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE;EAC1D,IAAI,GAAG,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC,EAAE;EAClC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;EACZ,CAAC,CAAC;;ECDF,IAAI,8BAA8B,GAAG,MAAM,CAAC,wBAAwB,CAAC;;EAErE;EACA;EACA,OAAS,GAAGD,WAAW,GAAG,8BAA8B,GAAG,SAAS,wBAAwB,CAAC,CAAC,EAAE,CAAC,EAAE;EACnG,EAAE,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;EACzB,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;EAC3B,EAAE,IAAIE,YAAc,EAAE,IAAI;EAC1B,IAAI,OAAO,8BAA8B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChD,GAAG,CAAC,OAAO,KAAK,EAAE,eAAe;EACjC,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,wBAAwB,CAAC,CAACC,0BAA0B,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjG,CAAC;;;;;;ECjBD,YAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;EACrB,IAAI,MAAM,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,mBAAmB,CAAC,CAAC;EACtD,GAAG,CAAC,OAAO,EAAE,CAAC;EACd,CAAC;;ECDD,IAAI,oBAAoB,GAAG,MAAM,CAAC,cAAc,CAAC;;EAEjD;EACA;EACA,OAAS,GAAGH,WAAW,GAAG,oBAAoB,GAAG,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE;EAC3F,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;EACd,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;EAC3B,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC;EACvB,EAAE,IAAIE,YAAc,EAAE,IAAI;EAC1B,IAAI,OAAO,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;EAClD,GAAG,CAAC,OAAO,KAAK,EAAE,eAAe;EACjC,EAAE,IAAI,KAAK,IAAI,UAAU,IAAI,KAAK,IAAI,UAAU,EAAE,MAAM,SAAS,CAAC,yBAAyB,CAAC,CAAC;EAC7F,EAAE,IAAI,OAAO,IAAI,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;EACrD,EAAE,OAAO,CAAC,CAAC;EACX,CAAC;;;;;;ECfD,+BAAc,GAAGF,WAAW,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE;EAC7D,EAAE,OAAOI,oBAAoB,CAAC,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,wBAAwB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;EACjF,CAAC,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE;EAClC,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;EACtB,EAAE,OAAO,MAAM,CAAC;EAChB,CAAC;;ECND,aAAc,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;EACvC,EAAE,IAAI;EACN,IAAI,2BAA2B,CAACR,QAAM,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;EACpD,GAAG,CAAC,OAAO,KAAK,EAAE;EAClB,IAAIA,QAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;EACxB,GAAG,CAAC,OAAO,KAAK,CAAC;EACjB,CAAC;;ECND,IAAI,MAAM,GAAG,oBAAoB,CAAC;EAClC,IAAI,KAAK,GAAGA,QAAM,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;;EAEpD,eAAc,GAAG,KAAK;;ECJtB,IAAI,gBAAgB,GAAG,QAAQ,CAAC,QAAQ,CAAC;;EAEzC;EACA,IAAI,OAAOS,WAAK,CAAC,aAAa,IAAI,UAAU,EAAE;EAC9C,EAAEA,WAAK,CAAC,aAAa,GAAG,UAAU,EAAE,EAAE;EACtC,IAAI,OAAO,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EACrC,GAAG,CAAC;EACJ,CAAC;;EAED,iBAAc,GAAGA,WAAK,CAAC,aAAa;;ECRpC,IAAI,OAAO,GAAGT,QAAM,CAAC,OAAO,CAAC;;EAE7B,iBAAc,GAAG,OAAO,OAAO,KAAK,UAAU,IAAI,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;;;ECF5F,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;EACxC,EAAE,OAAOS,WAAK,CAAC,GAAG,CAAC,KAAKA,WAAK,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,SAAS,GAAG,KAAK,GAAG,EAAE,CAAC,CAAC;EACvE,CAAC,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC;EACxB,EAAE,OAAO,EAAE,OAAO;EAClB,EAAE,IAAI,GAAqB,QAAQ;EACnC,EAAE,SAAS,EAAE,sCAAsC;EACnD,CAAC,CAAC;;;ECTF,IAAI,EAAE,GAAG,CAAC,CAAC;EACX,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;;EAE5B,OAAc,GAAG,UAAU,GAAG,EAAE;EAChC,EAAE,OAAO,SAAS,GAAG,MAAM,CAAC,GAAG,KAAK,SAAS,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;EACjG,CAAC;;ECFD,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;;EAE1B,aAAc,GAAG,UAAU,GAAG,EAAE;EAChC,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;EAC7C,CAAC;;ECPD,cAAc,GAAG,EAAE;;ECQnB,IAAIC,SAAO,GAAGV,QAAM,CAAC,OAAO,CAAC;EAC7B,IAAI,GAAG,EAAE,GAAG,EAAEW,KAAG,CAAC;;EAElB,IAAI,OAAO,GAAG,UAAU,EAAE,EAAE;EAC5B,EAAE,OAAOA,KAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACzC,CAAC,CAAC;;EAEF,IAAI,SAAS,GAAG,UAAU,IAAI,EAAE;EAChC,EAAE,OAAO,UAAU,EAAE,EAAE;EACvB,IAAI,IAAI,KAAK,CAAC;EACd,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,KAAK,IAAI,EAAE;EAC1D,MAAM,MAAM,SAAS,CAAC,yBAAyB,GAAG,IAAI,GAAG,WAAW,CAAC,CAAC;EACtE,KAAK,CAAC,OAAO,KAAK,CAAC;EACnB,GAAG,CAAC;EACJ,CAAC,CAAC;;EAEF,IAAIC,aAAe,EAAE;EACrB,EAAE,IAAIH,OAAK,GAAG,IAAIC,SAAO,EAAE,CAAC;EAC5B,EAAE,IAAI,KAAK,GAAGD,OAAK,CAAC,GAAG,CAAC;EACxB,EAAE,IAAI,KAAK,GAAGA,OAAK,CAAC,GAAG,CAAC;EACxB,EAAE,IAAI,KAAK,GAAGA,OAAK,CAAC,GAAG,CAAC;EACxB,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE,QAAQ,EAAE;EAChC,IAAI,KAAK,CAAC,IAAI,CAACA,OAAK,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;EACpC,IAAI,OAAO,QAAQ,CAAC;EACpB,GAAG,CAAC;EACJ,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE;EACtB,IAAI,OAAO,KAAK,CAAC,IAAI,CAACA,OAAK,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;EACvC,GAAG,CAAC;EACJ,EAAEE,KAAG,GAAG,UAAU,EAAE,EAAE;EACtB,IAAI,OAAO,KAAK,CAAC,IAAI,CAACF,OAAK,EAAE,EAAE,CAAC,CAAC;EACjC,GAAG,CAAC;EACJ,CAAC,MAAM;EACP,EAAE,IAAI,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;EACjC,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;EAC3B,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE,QAAQ,EAAE;EAChC,IAAI,2BAA2B,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;EACrD,IAAI,OAAO,QAAQ,CAAC;EACpB,GAAG,CAAC;EACJ,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE;EACtB,IAAI,OAAOI,GAAS,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;EACjD,GAAG,CAAC;EACJ,EAAEF,KAAG,GAAG,UAAU,EAAE,EAAE;EACtB,IAAI,OAAOE,GAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;EAChC,GAAG,CAAC;EACJ,CAAC;;EAED,iBAAc,GAAG;EACjB,EAAE,GAAG,EAAE,GAAG;EACV,EAAE,GAAG,EAAE,GAAG;EACV,EAAE,GAAG,EAAEF,KAAG;EACV,EAAE,OAAO,EAAE,OAAO;EAClB,EAAE,SAAS,EAAE,SAAS;EACtB,CAAC;;;ECrDD,IAAI,gBAAgB,GAAGG,aAAmB,CAAC,GAAG,CAAC;EAC/C,IAAI,oBAAoB,GAAGA,aAAmB,CAAC,OAAO,CAAC;EACvD,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;;EAE9C,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE;EACpD,EAAE,IAAI,MAAM,GAAG,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;EAClD,EAAE,IAAI,MAAM,GAAG,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,KAAK,CAAC;EACtD,EAAE,IAAI,WAAW,GAAG,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;EAC5D,EAAE,IAAI,OAAO,KAAK,IAAI,UAAU,EAAE;EAClC,IAAI,IAAI,OAAO,GAAG,IAAI,QAAQ,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,2BAA2B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;EACvG,IAAI,oBAAoB,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;EAC1F,GAAG;EACH,EAAE,IAAI,CAAC,KAAKd,QAAM,EAAE;EACpB,IAAI,IAAI,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;EAC/B,SAAS,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;EAC/B,IAAI,OAAO;EACX,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE;EACtB,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;EAClB,GAAG,MAAM,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE;EACrC,IAAI,MAAM,GAAG,IAAI,CAAC;EAClB,GAAG;EACH,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;EAC7B,OAAO,2BAA2B,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;EAClD;EACA,CAAC,EAAE,QAAQ,CAAC,SAAS,EAAE,UAAU,EAAE,SAAS,QAAQ,GAAG;EACvD,EAAE,OAAO,OAAO,IAAI,IAAI,UAAU,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,MAAM,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;EAC3F,CAAC,CAAC;;;EC/BF,QAAc,GAAGA,QAAM;;ECCvB,IAAI,SAAS,GAAG,UAAU,QAAQ,EAAE;EACpC,EAAE,OAAO,OAAO,QAAQ,IAAI,UAAU,GAAG,QAAQ,GAAG,SAAS,CAAC;EAC9D,CAAC,CAAC;;EAEF,cAAc,GAAG,UAAU,SAAS,EAAE,MAAM,EAAE;EAC9C,EAAE,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,SAAS,CAACA,QAAM,CAAC,SAAS,CAAC,CAAC;EAC1F,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,IAAIA,QAAM,CAAC,SAAS,CAAC,IAAIA,QAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC;EACnG,CAAC;;ECVD,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;EACrB,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;;EAEvB;EACA;EACA,aAAc,GAAG,UAAU,QAAQ,EAAE;EACrC,EAAE,OAAO,KAAK,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,EAAE,QAAQ,CAAC,CAAC;EACnF,CAAC;;ECLD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;;EAEnB;EACA;EACA,YAAc,GAAG,UAAU,QAAQ,EAAE;EACrC,EAAE,OAAO,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC;EACvE,CAAC;;ECND,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;EACnB,IAAIe,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;;EAEnB;EACA;EACA;EACA,mBAAc,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;EAC1C,EAAE,IAAI,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;EACjC,EAAE,OAAO,OAAO,GAAG,CAAC,GAAG,GAAG,CAAC,OAAO,GAAG,MAAM,EAAE,CAAC,CAAC,GAAGA,KAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;EACvE,CAAC;;ECPD;EACA,IAAI,YAAY,GAAG,UAAU,WAAW,EAAE;EAC1C,EAAE,OAAO,UAAU,KAAK,EAAE,EAAE,EAAE,SAAS,EAAE;EACzC,IAAI,IAAI,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;EACnC,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;EACpC,IAAI,IAAI,KAAK,GAAG,eAAe,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;EACnD,IAAI,IAAI,KAAK,CAAC;EACd;EACA;EACA,IAAI,IAAI,WAAW,IAAI,EAAE,IAAI,EAAE,EAAE,OAAO,MAAM,GAAG,KAAK,EAAE;EACxD,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;EACzB;EACA,MAAM,IAAI,KAAK,IAAI,KAAK,EAAE,OAAO,IAAI,CAAC;EACtC;EACA,KAAK,MAAM,MAAM,MAAM,GAAG,KAAK,EAAE,KAAK,EAAE,EAAE;EAC1C,MAAM,IAAI,CAAC,WAAW,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,OAAO,WAAW,IAAI,KAAK,IAAI,CAAC,CAAC;EAC3F,KAAK,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;EAChC,GAAG,CAAC;EACJ,CAAC,CAAC;;EAEF,iBAAc,GAAG;EACjB;EACA;EACA,EAAE,QAAQ,EAAE,YAAY,CAAC,IAAI,CAAC;EAC9B;EACA;EACA,EAAE,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC;EAC9B,CAAC;;EC7BD,IAAI,OAAO,GAAGC,aAAsC,CAAC,OAAO,CAAC;;EAG7D,sBAAc,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE;EAC1C,EAAE,IAAI,CAAC,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;EAClC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;EACZ,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;EAClB,EAAE,IAAI,GAAG,CAAC;EACV,EAAE,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;EAC1E;EACA,EAAE,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;EACzD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;EAC9C,GAAG;EACH,EAAE,OAAO,MAAM,CAAC;EAChB,CAAC;;EChBD;EACA,eAAc,GAAG;EACjB,EAAE,aAAa;EACf,EAAE,gBAAgB;EAClB,EAAE,eAAe;EACjB,EAAE,sBAAsB;EACxB,EAAE,gBAAgB;EAClB,EAAE,UAAU;EACZ,EAAE,SAAS;EACX,CAAC;;ECND,IAAIC,YAAU,GAAG,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;;EAE3D;EACA;EACA,OAAS,GAAG,MAAM,CAAC,mBAAmB,IAAI,SAAS,mBAAmB,CAAC,CAAC,EAAE;EAC1E,EAAE,OAAOC,kBAAkB,CAAC,CAAC,EAAED,YAAU,CAAC,CAAC;EAC3C,CAAC;;;;;;ECTD,OAAS,GAAG,MAAM,CAAC,qBAAqB;;;;;;ECKxC;EACA,WAAc,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,IAAI,SAAS,OAAO,CAAC,EAAE,EAAE;EAC1E,EAAE,IAAI,IAAI,GAAGE,yBAAyB,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACvD,EAAE,IAAI,qBAAqB,GAAGC,2BAA2B,CAAC,CAAC,CAAC;EAC5D,EAAE,OAAO,qBAAqB,GAAG,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;EAC/E,CAAC;;ECLD,6BAAc,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;EAC3C,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;EAC7B,EAAE,IAAI,cAAc,GAAGZ,oBAAoB,CAAC,CAAC,CAAC;EAC9C,EAAE,IAAI,wBAAwB,GAAGa,8BAA8B,CAAC,CAAC,CAAC;EAClE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACxC,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;EACtB,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;EAC9F,GAAG;EACH,CAAC;;ECXD,IAAI,WAAW,GAAG,iBAAiB,CAAC;;EAEpC,IAAI,QAAQ,GAAG,UAAU,OAAO,EAAE,SAAS,EAAE;EAC7C,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;EACvC,EAAE,OAAO,KAAK,IAAI,QAAQ,GAAG,IAAI;EACjC,MAAM,KAAK,IAAI,MAAM,GAAG,KAAK;EAC7B,MAAM,OAAO,SAAS,IAAI,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC;EACvD,MAAM,CAAC,CAAC,SAAS,CAAC;EAClB,CAAC,CAAC;;EAEF,IAAI,SAAS,GAAG,QAAQ,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE;EACvD,EAAE,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;EAChE,CAAC,CAAC;;EAEF,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC;EAC9B,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAC;EACnC,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC;;EAEvC,cAAc,GAAG,QAAQ;;ECnBzB,IAAIC,0BAAwB,GAAGN,8BAA0D,CAAC,CAAC,CAAC;;EAO5F;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,WAAc,GAAG,UAAU,OAAO,EAAE,MAAM,EAAE;EAC5C,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;EAC9B,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;EAC9B,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC;EAC5B,EAAE,IAAI,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,cAAc,EAAE,cAAc,EAAE,UAAU,CAAC;EACtE,EAAE,IAAI,MAAM,EAAE;EACd,IAAI,MAAM,GAAGhB,QAAM,CAAC;EACpB,GAAG,MAAM,IAAI,MAAM,EAAE;EACrB,IAAI,MAAM,GAAGA,QAAM,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;EACrD,GAAG,MAAM;EACT,IAAI,MAAM,GAAG,CAACA,QAAM,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,SAAS,CAAC;EAC9C,GAAG;EACH,EAAE,IAAI,MAAM,EAAE,KAAK,GAAG,IAAI,MAAM,EAAE;EAClC,IAAI,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EACjC,IAAI,IAAI,OAAO,CAAC,WAAW,EAAE;EAC7B,MAAM,UAAU,GAAGsB,0BAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;EACzD,MAAM,cAAc,GAAG,UAAU,IAAI,UAAU,CAAC,KAAK,CAAC;EACtD,KAAK,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EACxC,IAAI,MAAM,GAAGC,UAAQ,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;EAC1F;EACA,IAAI,IAAI,CAAC,MAAM,IAAI,cAAc,KAAK,SAAS,EAAE;EACjD,MAAM,IAAI,OAAO,cAAc,KAAK,OAAO,cAAc,EAAE,SAAS;EACpE,MAAM,yBAAyB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;EAChE,KAAK;EACL;EACA,IAAI,IAAI,OAAO,CAAC,IAAI,KAAK,cAAc,IAAI,cAAc,CAAC,IAAI,CAAC,EAAE;EACjE,MAAM,2BAA2B,CAAC,cAAc,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;EAChE,KAAK;EACL;EACA,IAAI,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;EACnD,GAAG;EACH,CAAC;;ECrDD,eAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,IAAI,OAAO,EAAE,IAAI,UAAU,EAAE;EAC/B,IAAI,MAAM,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,oBAAoB,CAAC,CAAC;EACvD,GAAG,CAAC,OAAO,EAAE,CAAC;EACd,CAAC;;ECFD;EACA,uBAAc,GAAG,UAAU,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;EAC7C,EAAEC,WAAS,CAAC,EAAE,CAAC,CAAC;EAChB,EAAE,IAAI,IAAI,KAAK,SAAS,EAAE,OAAO,EAAE,CAAC;EACpC,EAAE,QAAQ,MAAM;EAChB,IAAI,KAAK,CAAC,EAAE,OAAO,YAAY;EAC/B,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EAC3B,KAAK,CAAC;EACN,IAAI,KAAK,CAAC,EAAE,OAAO,UAAU,CAAC,EAAE;EAChC,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;EAC9B,KAAK,CAAC;EACN,IAAI,KAAK,CAAC,EAAE,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;EACnC,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACjC,KAAK,CAAC;EACN,IAAI,KAAK,CAAC,EAAE,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EACtC,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACpC,KAAK,CAAC;EACN,GAAG;EACH,EAAE,OAAO,yBAAyB;EAClC,IAAI,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;EACrC,GAAG,CAAC;EACJ,CAAC;;ECrBD;EACA;EACA,YAAc,GAAG,UAAU,QAAQ,EAAE;EACrC,EAAE,OAAO,MAAM,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,CAAC;EAClD,CAAC;;ECJD;EACA;EACA,WAAc,GAAG,KAAK,CAAC,OAAO,IAAI,SAAS,OAAO,CAAC,GAAG,EAAE;EACxD,EAAE,OAAOvB,UAAO,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC;EACjC,CAAC;;ECJD,gBAAc,GAAG,CAAC,CAAC,MAAM,CAAC,qBAAqB,IAAI,CAAC,KAAK,CAAC,YAAY;EACtE;EACA;EACA,EAAE,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;EAC3B,CAAC,CAAC;;ECJF,kBAAc,GAAGwB,YAAa;EAC9B;EACA,KAAK,CAAC,MAAM,CAAC,IAAI;EACjB;EACA,KAAK,OAAO,MAAM,CAAC,QAAQ,IAAI,QAAQ;;ECCvC,IAAI,qBAAqB,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;EAC1C,IAAIC,QAAM,GAAG1B,QAAM,CAAC,MAAM,CAAC;EAC3B,IAAI,qBAAqB,GAAG2B,cAAiB,GAAGD,QAAM,GAAGA,QAAM,IAAIA,QAAM,CAAC,aAAa,IAAI,GAAG,CAAC;;EAE/F,mBAAc,GAAG,UAAU,IAAI,EAAE;EACjC,EAAE,IAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,EAAE;EACzC,IAAI,IAAID,YAAa,IAAI,GAAG,CAACC,QAAM,EAAE,IAAI,CAAC,EAAE,qBAAqB,CAAC,IAAI,CAAC,GAAGA,QAAM,CAAC,IAAI,CAAC,CAAC;EACvF,SAAS,qBAAqB,CAAC,IAAI,CAAC,GAAG,qBAAqB,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;EAC/E,GAAG,CAAC,OAAO,qBAAqB,CAAC,IAAI,CAAC,CAAC;EACvC,CAAC;;ECZD,IAAI,OAAO,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;;EAEzC;EACA;EACA,sBAAc,GAAG,UAAU,aAAa,EAAE,MAAM,EAAE;EAClD,EAAE,IAAI,CAAC,CAAC;EACR,EAAE,IAAI,OAAO,CAAC,aAAa,CAAC,EAAE;EAC9B,IAAI,CAAC,GAAG,aAAa,CAAC,WAAW,CAAC;EAClC;EACA,IAAI,IAAI,OAAO,CAAC,IAAI,UAAU,KAAK,CAAC,KAAK,KAAK,IAAI,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC;EACvF,SAAS,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;EAC1B,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;EACrB,MAAM,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,SAAS,CAAC;EACpC,KAAK;EACL,GAAG,CAAC,OAAO,KAAK,CAAC,KAAK,SAAS,GAAG,KAAK,GAAG,CAAC,EAAE,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC;EACxE,CAAC;;ECbD,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;;EAEnB;EACA,IAAIE,cAAY,GAAG,UAAU,IAAI,EAAE;EACnC,EAAE,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;EACzB,EAAE,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,CAAC;EAC5B,EAAE,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC;EAC1B,EAAE,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,CAAC;EAC3B,EAAE,IAAI,aAAa,GAAG,IAAI,IAAI,CAAC,CAAC;EAChC,EAAE,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,aAAa,CAAC;EAC5C,EAAE,OAAO,UAAU,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE;EAC5D,IAAI,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;EAC5B,IAAI,IAAI,IAAI,GAAG1B,aAAa,CAAC,CAAC,CAAC,CAAC;EAChC,IAAI,IAAI,aAAa,GAAG2B,mBAAI,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EAClD,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACvC,IAAI,IAAI,KAAK,GAAG,CAAC,CAAC;EAClB,IAAI,IAAI,MAAM,GAAG,cAAc,IAAI,kBAAkB,CAAC;EACtD,IAAI,IAAI,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,SAAS,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC;EAC3F,IAAI,IAAI,KAAK,EAAE,MAAM,CAAC;EACtB,IAAI,MAAM,MAAM,GAAG,KAAK,EAAE,KAAK,EAAE,EAAE,IAAI,QAAQ,IAAI,KAAK,IAAI,IAAI,EAAE;EAClE,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;EAC1B,MAAM,MAAM,GAAG,aAAa,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;EAC9C,MAAM,IAAI,IAAI,EAAE;EAChB,QAAQ,IAAI,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;EAC3C,aAAa,IAAI,MAAM,EAAE,QAAQ,IAAI;EACrC,UAAU,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;EAC9B,UAAU,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;EAC/B,UAAU,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;EAC/B,UAAU,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;EAC3C,SAAS,MAAM,IAAI,QAAQ,EAAE,OAAO,KAAK,CAAC;EAC1C,OAAO;EACP,KAAK;EACL,IAAI,OAAO,aAAa,GAAG,CAAC,CAAC,GAAG,OAAO,IAAI,QAAQ,GAAG,QAAQ,GAAG,MAAM,CAAC;EACxE,GAAG,CAAC;EACJ,CAAC,CAAC;;EAEF,kBAAc,GAAG;EACjB;EACA;EACA,EAAE,OAAO,EAAED,cAAY,CAAC,CAAC,CAAC;EAC1B;EACA;EACA,EAAE,GAAG,EAAEA,cAAY,CAAC,CAAC,CAAC;EACtB;EACA;EACA,EAAE,MAAM,EAAEA,cAAY,CAAC,CAAC,CAAC;EACzB;EACA;EACA,EAAE,IAAI,EAAEA,cAAY,CAAC,CAAC,CAAC;EACvB;EACA;EACA,EAAE,KAAK,EAAEA,cAAY,CAAC,CAAC,CAAC;EACxB;EACA;EACA,EAAE,IAAI,EAAEA,cAAY,CAAC,CAAC,CAAC;EACvB;EACA;EACA,EAAE,SAAS,EAAEA,cAAY,CAAC,CAAC,CAAC;EAC5B,CAAC;;EC7DD;EACA;EACA,cAAc,GAAG,MAAM,CAAC,IAAI,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE;EACjD,EAAE,OAAOV,kBAAkB,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;EAC5C,CAAC;;ECFD;EACA;EACA,0BAAc,GAAGd,WAAW,GAAG,MAAM,CAAC,gBAAgB,GAAG,SAAS,gBAAgB,CAAC,CAAC,EAAE,UAAU,EAAE;EAClG,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;EACd,EAAE,IAAI,IAAI,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC;EACpC,EAAE,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;EAC3B,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;EAChB,EAAE,IAAI,GAAG,CAAC;EACV,EAAE,OAAO,MAAM,GAAG,KAAK,EAAEI,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;EACzF,EAAE,OAAO,CAAC,CAAC;EACX,CAAC;;ECbD,QAAc,GAAG,UAAU,CAAC,UAAU,EAAE,iBAAiB,CAAC;;ECM1D,IAAI,EAAE,GAAG,GAAG,CAAC;EACb,IAAI,EAAE,GAAG,GAAG,CAAC;EACb,IAAI,SAAS,GAAG,WAAW,CAAC;EAC5B,IAAI,MAAM,GAAG,QAAQ,CAAC;EACtB,IAAI,QAAQ,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC;;EAErC,IAAI,gBAAgB,GAAG,YAAY,eAAe,CAAC;;EAEnD,IAAI,SAAS,GAAG,UAAU,OAAO,EAAE;EACnC,EAAE,OAAO,EAAE,GAAG,MAAM,GAAG,EAAE,GAAG,OAAO,GAAG,EAAE,GAAG,GAAG,GAAG,MAAM,GAAG,EAAE,CAAC;EAC7D,CAAC,CAAC;;EAEF;EACA,IAAI,yBAAyB,GAAG,UAAU,eAAe,EAAE;EAC3D,EAAE,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;EACvC,EAAE,eAAe,CAAC,KAAK,EAAE,CAAC;EAC1B,EAAE,IAAI,IAAI,GAAG,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC;EACjD,EAAE,eAAe,GAAG,IAAI,CAAC;EACzB,EAAE,OAAO,IAAI,CAAC;EACd,CAAC,CAAC;;EAEF;EACA,IAAI,wBAAwB,GAAG,YAAY;EAC3C;EACA,EAAE,IAAI,MAAM,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;EAC/C,EAAE,IAAI,EAAE,GAAG,MAAM,GAAG,MAAM,GAAG,GAAG,CAAC;EACjC,EAAE,IAAI,cAAc,CAAC;EACrB,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAChC,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EAC3B;EACA,EAAE,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;EAC1B,EAAE,cAAc,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC;EACjD,EAAE,cAAc,CAAC,IAAI,EAAE,CAAC;EACxB,EAAE,cAAc,CAAC,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,CAAC;EACvD,EAAE,cAAc,CAAC,KAAK,EAAE,CAAC;EACzB,EAAE,OAAO,cAAc,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC;;EAEF;EACA;EACA;EACA;EACA;EACA,IAAI,eAAe,CAAC;EACpB,IAAI,eAAe,GAAG,YAAY;EAClC,EAAE,IAAI;EACN;EACA,IAAI,eAAe,GAAG,QAAQ,CAAC,MAAM,IAAI,IAAI,aAAa,CAAC,UAAU,CAAC,CAAC;EACvE,GAAG,CAAC,OAAO,KAAK,EAAE,gBAAgB;EAClC,EAAE,eAAe,GAAG,eAAe,GAAG,yBAAyB,CAAC,eAAe,CAAC,GAAG,wBAAwB,EAAE,CAAC;EAC9G,EAAE,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;EAClC,EAAE,OAAO,MAAM,EAAE,EAAE,OAAO,eAAe,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;EAC1E,EAAE,OAAO,eAAe,EAAE,CAAC;EAC3B,CAAC,CAAC;;EAEF,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;;EAE5B;EACA;EACA,gBAAc,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,UAAU,EAAE;EACjE,EAAE,IAAI,MAAM,CAAC;EACb,EAAE,IAAI,CAAC,KAAK,IAAI,EAAE;EAClB,IAAI,gBAAgB,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,IAAI,MAAM,GAAG,IAAI,gBAAgB,EAAE,CAAC;EACpC,IAAI,gBAAgB,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;EACvC;EACA,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;EACzB,GAAG,MAAM,MAAM,GAAG,eAAe,EAAE,CAAC;EACpC,EAAE,OAAO,UAAU,KAAK,SAAS,GAAG,MAAM,GAAGsB,sBAAgB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;EAClF,CAAC;;ECzED,IAAI,WAAW,GAAG,eAAe,CAAC,aAAa,CAAC,CAAC;EACjD,IAAI,cAAc,GAAG,KAAK,CAAC,SAAS,CAAC;;EAErC;EACA;EACA,IAAI,cAAc,CAAC,WAAW,CAAC,IAAI,SAAS,EAAE;EAC9C,EAAEtB,oBAAoB,CAAC,CAAC,CAAC,cAAc,EAAE,WAAW,EAAE;EACtD,IAAI,YAAY,EAAE,IAAI;EACtB,IAAI,KAAK,EAAEuB,YAAM,CAAC,IAAI,CAAC;EACvB,GAAG,CAAC,CAAC;EACL,CAAC;;EAED;EACA,oBAAc,GAAG,UAAU,GAAG,EAAE;EAChC,EAAE,cAAc,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;EAC1C,CAAC;;ECfD,IAAI,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;EAC3C,IAAI,KAAK,GAAG,EAAE,CAAC;;EAEf,IAAI,OAAO,GAAG,UAAU,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;;EAE1C,2BAAc,GAAG,UAAU,WAAW,EAAE,OAAO,EAAE;EACjD,EAAE,IAAI,GAAG,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC;EACzD,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,CAAC;EAC7B,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;EAC/B,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,GAAG,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;EACxE,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;EACzD,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;;EAE3D,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,YAAY;EAC7D,IAAI,IAAI,SAAS,IAAI,CAAC3B,WAAW,EAAE,OAAO,IAAI,CAAC;EAC/C,IAAI,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;;EAE3B,IAAI,IAAI,SAAS,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;EAC5E,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;;EAElB,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;EACzC,GAAG,CAAC,CAAC;EACL,CAAC;;ECxBD,IAAI,UAAU,GAAGY,cAAuC,CAAC,SAAS,CAAC;;EAInE,IAAI,UAAU,GAAG,WAAW,CAAC;EAC7B,IAAI,WAAW,GAAG,IAAI,CAAC;;EAEvB,IAAI,cAAc,GAAG,uBAAuB,CAAC,UAAU,CAAC,CAAC;;EAEzD;EACA,IAAI,UAAU,IAAI,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,YAAY,EAAE,WAAW,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;;EAEjF;EACA;AACAgB,SAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,IAAI,CAAC,cAAc,EAAE,EAAE;EAC5E,EAAE,SAAS,EAAE,SAAS,SAAS,CAAC,UAAU,2BAA2B;EACrE,IAAI,OAAO,UAAU,CAAC,IAAI,EAAE,UAAU,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;EACzF,GAAG;EACH,CAAC,CAAC,CAAC;;EAEH;EACA,gBAAgB,CAAC,UAAU,CAAC;;ECrB5B,IAAI,SAAS,GAAGhB,aAAsC,CAAC,QAAQ,CAAC;;EAIhE,IAAIiB,gBAAc,GAAG,uBAAuB,CAAC,SAAS,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;EAEnF;EACA;AACAD,SAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAACC,gBAAc,EAAE,EAAE;EAC7D,EAAE,QAAQ,EAAE,SAAS,QAAQ,CAAC,EAAE,wBAAwB;EACxD,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,EAAE,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;EAChF,GAAG;EACH,CAAC,CAAC,CAAC;;EAEH;EACA,gBAAgB,CAAC,UAAU,CAAC;;ECR5B,IAAI,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC;EACjC,IAAIC,gBAAc,GAAG,MAAM,CAAC,cAAc,CAAC;;EAE3C;EACA;EACA,gBAAc,GAAG,CAAC,YAAY,IAAI,KAAK,CAAC,YAAY;EACpD;EACA,EAAE,IAAI9B,WAAW,IAAI,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,YAAY,CAAC8B,gBAAc,CAAC,EAAE,EAAE,GAAG,EAAE;EACjF,IAAI,UAAU,EAAE,IAAI;EACpB,IAAI,GAAG,EAAE,YAAY;EACrB,MAAMA,gBAAc,CAAC,IAAI,EAAE,GAAG,EAAE;EAChC,QAAQ,KAAK,EAAE,CAAC;EAChB,QAAQ,UAAU,EAAE,KAAK;EACzB,OAAO,CAAC,CAAC;EACT,KAAK;EACL,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;EACtC;EACA,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;EACb,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;EACb;EACA,EAAE,IAAI,MAAM,GAAG,MAAM,EAAE,CAAC;EACxB,EAAE,IAAI,QAAQ,GAAG,sBAAsB,CAAC;EACxC,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EAChB,EAAE,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;EAC/D,EAAE,OAAO,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,QAAQ,CAAC;EAClG,CAAC,CAAC,GAAG,SAAS,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE;EACrC,EAAE,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;EAC3B,EAAE,IAAI,eAAe,GAAG,SAAS,CAAC,MAAM,CAAC;EACzC,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;EAChB,EAAE,IAAI,qBAAqB,GAAGd,2BAA2B,CAAC,CAAC,CAAC;EAC5D,EAAE,IAAI,oBAAoB,GAAGb,0BAA0B,CAAC,CAAC,CAAC;EAC1D,EAAE,OAAO,eAAe,GAAG,KAAK,EAAE;EAClC,IAAI,IAAI,CAAC,GAAGL,aAAa,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;EAC9C,IAAI,IAAI,IAAI,GAAG,qBAAqB,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EACtG,IAAI,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;EAC7B,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;EACd,IAAI,IAAI,GAAG,CAAC;EACZ,IAAI,OAAO,MAAM,GAAG,CAAC,EAAE;EACvB,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EACtB,MAAM,IAAI,CAACE,WAAW,IAAI,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7E,KAAK;EACL,GAAG,CAAC,OAAO,CAAC,CAAC;EACb,CAAC,GAAG,YAAY;;EChDhB;EACA;AACA4B,SAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,KAAKG,YAAM,EAAE,EAAE;EACtE,EAAE,MAAM,EAAEA,YAAM;EAChB,CAAC,CAAC;;ECJF,IAAI,oBAAoB,GAAGnB,0BAAqD,CAAC,CAAC,CAAC;;EAEnF;EACA,IAAIY,cAAY,GAAG,UAAU,UAAU,EAAE;EACzC,EAAE,OAAO,UAAU,EAAE,EAAE;EACvB,IAAI,IAAI,CAAC,GAAG,eAAe,CAAC,EAAE,CAAC,CAAC;EAChC,IAAI,IAAI,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EAC7B,IAAI,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;EAC7B,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;EACd,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;EACpB,IAAI,IAAI,GAAG,CAAC;EACZ,IAAI,OAAO,MAAM,GAAG,CAAC,EAAE;EACvB,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EACtB,MAAM,IAAI,CAACxB,WAAW,IAAI,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EAC7D,QAAQ,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACzD,OAAO;EACP,KAAK;EACL,IAAI,OAAO,MAAM,CAAC;EAClB,GAAG,CAAC;EACJ,CAAC,CAAC;;EAEF,iBAAc,GAAG;EACjB;EACA;EACA,EAAE,OAAO,EAAEwB,cAAY,CAAC,IAAI,CAAC;EAC7B;EACA;EACA,EAAE,MAAM,EAAEA,cAAY,CAAC,KAAK,CAAC;EAC7B,CAAC;;EC9BD,IAAI,QAAQ,GAAGZ,aAAuC,CAAC,OAAO,CAAC;;EAE/D;EACA;AACAgB,SAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;EACpC,EAAE,OAAO,EAAE,SAAS,OAAO,CAAC,CAAC,EAAE;EAC/B,IAAI,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;EACvB,GAAG;EACH,CAAC,CAAC;;ECRF,IAAI,OAAO,GAAGhB,aAAuC,CAAC,MAAM,CAAC;;EAE7D;EACA;AACAgB,SAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;EACpC,EAAE,MAAM,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE;EAC7B,IAAI,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;EACtB,GAAG;EACH,CAAC,CAAC;;ECLF,IAAI,KAAK,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;;EAErC;EACA;EACA,YAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,IAAI,QAAQ,CAAC;EACf,EAAE,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,GAAG/B,UAAO,CAAC,EAAE,CAAC,IAAI,QAAQ,CAAC,CAAC;EACvG,CAAC;;ECTD,cAAc,GAAG,UAAU,EAAE,EAAE;EAC/B,EAAE,IAAImC,QAAQ,CAAC,EAAE,CAAC,EAAE;EACpB,IAAI,MAAM,SAAS,CAAC,+CAA+C,CAAC,CAAC;EACrE,GAAG,CAAC,OAAO,EAAE,CAAC;EACd,CAAC;;ECJD,IAAIC,OAAK,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;;EAErC,wBAAc,GAAG,UAAU,WAAW,EAAE;EACxC,EAAE,IAAI,MAAM,GAAG,GAAG,CAAC;EACnB,EAAE,IAAI;EACN,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC;EAC/B,GAAG,CAAC,OAAO,CAAC,EAAE;EACd,IAAI,IAAI;EACR,MAAM,MAAM,CAACA,OAAK,CAAC,GAAG,KAAK,CAAC;EAC5B,MAAM,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC;EACxC,KAAK,CAAC,OAAO,CAAC,EAAE,eAAe;EAC/B,GAAG,CAAC,OAAO,KAAK,CAAC;EACjB,CAAC;;ECZD,IAAIf,0BAAwB,GAAGN,8BAA0D,CAAC,CAAC,CAAC;;EAO5F,IAAI,cAAc,GAAG,EAAE,CAAC,QAAQ,CAAC;EACjC,IAAID,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;;EAEnB,IAAI,uBAAuB,GAAGuB,oBAAoB,CAAC,UAAU,CAAC,CAAC;EAC/D;EACA,IAAI,gBAAgB,IAAe,CAAC,uBAAuB,IAAI,CAAC,CAAC,YAAY;EAC7E,EAAE,IAAI,UAAU,GAAGhB,0BAAwB,CAAC,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;EAC1E,EAAE,OAAO,UAAU,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;EAC5C,CAAC,EAAE,CAAC;;EAEJ;EACA;AACAU,SAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,gBAAgB,IAAI,CAAC,uBAAuB,EAAE,EAAE;EAC5F,EAAE,QAAQ,EAAE,SAAS,QAAQ,CAAC,YAAY,gCAAgC;EAC1E,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;EACpD,IAAIO,UAAU,CAAC,YAAY,CAAC,CAAC;EAC7B,IAAI,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;EACtE,IAAI,IAAI,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACpC,IAAI,IAAI,GAAG,GAAG,WAAW,KAAK,SAAS,GAAG,GAAG,GAAGxB,KAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,GAAG,CAAC,CAAC;EAChF,IAAI,IAAI,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;EACtC,IAAI,OAAO,cAAc;EACzB,QAAQ,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC;EAC9C,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,MAAM,CAAC;EACxD,GAAG;EACH,CAAC,CAAC;;EC3BF;EACA;AACAiB,SAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAACM,oBAAoB,CAAC,UAAU,CAAC,EAAE,EAAE;EAChF,EAAE,QAAQ,EAAE,SAAS,QAAQ,CAAC,YAAY,uBAAuB;EACjE,IAAI,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;EAClD,OAAO,OAAO,CAACC,UAAU,CAAC,YAAY,CAAC,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;EAC1F,GAAG;EACH,CAAC,CAAC;;ECXF,IAAIjB,0BAAwB,GAAGN,8BAA0D,CAAC,CAAC,CAAC;;EAO5F,IAAI,gBAAgB,GAAG,EAAE,CAAC,UAAU,CAAC;EACrC,IAAID,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;;EAEnB,IAAIyB,yBAAuB,GAAGF,oBAAoB,CAAC,YAAY,CAAC,CAAC;EACjE;EACA,IAAIG,kBAAgB,IAAe,CAACD,yBAAuB,IAAI,CAAC,CAAC,YAAY;EAC7E,EAAE,IAAI,UAAU,GAAGlB,0BAAwB,CAAC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;EAC5E,EAAE,OAAO,UAAU,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;EAC5C,CAAC,EAAE,CAAC;;EAEJ;EACA;AACAU,SAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAACS,kBAAgB,IAAI,CAACD,yBAAuB,EAAE,EAAE;EAC5F,EAAE,UAAU,EAAE,SAAS,UAAU,CAAC,YAAY,uBAAuB;EACrE,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;EACpD,IAAID,UAAU,CAAC,YAAY,CAAC,CAAC;EAC7B,IAAI,IAAI,KAAK,GAAG,QAAQ,CAACxB,KAAG,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;EAC5F,IAAI,IAAI,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;EACtC,IAAI,OAAO,gBAAgB;EAC3B,QAAQ,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC;EAClD,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,MAAM,CAAC;EAC5D,GAAG;EACH,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EC/BF;;EACA;;EAEA,IAAI,OAAO2B,IAAP,KAAgB,WAAhB,KAAgC,OAAOC,QAAP,KAAoB,WAApB,IAAmC,CAACA,QAAQ,CAACC,SAAT,CAAmBC,IAAvF,CAAJ,EAAkG;EAAA,MAkEvFC,cAlEuF,GAkEhG,SAASA,cAAT,OAA4C;EAAA,QAAlBC,KAAkB;EAAA,QAAXC,QAAW;;EAC1C,QAAID,KAAK,YAAYL,IAArB,EAA2B;;;EAGzBK,MAAAA,KAAK,GAAG,IAAIE,IAAJ,CAAS,CAACF,KAAD,CAAT,EAAkBC,QAAlB,EAA4B;EAClCE,QAAAA,IAAI,EAAEH,KAAK,CAACG,IADsB;EAElCC,QAAAA,YAAY,EAAEJ,KAAK,CAACI;EAFc,OAA5B,CAAR;EAID;;EAED,WAAOJ,KAAP;EACD,GA7E+F;;EAAA,MA+EvFK,UA/EuF,GA+EhG,SAASA,UAAT,CAAqBC,IAArB,EAA2BC,QAA3B,EAAqC;EACnC,QAAID,IAAI,CAACE,MAAL,GAAcD,QAAlB,EAA4B;EAC1B,YAAM,IAAIE,SAAJ,CAAiBF,QAAjB,qCAAyDD,IAAI,CAACE,MAA9D,eAAN;EACD;EACF,GAnF+F;;EAAA,MAqFvFE,aArFuF,GAqFhG,SAASA,aAAT,CAAwBC,IAAxB,EAA8BX,KAA9B,EAAqCC,QAArC,EAA+C;EAC7C,WAAOD,KAAK,YAAYL,IAAjB;EAAA,MAEH,CAACiB,MAAM,CAACD,IAAD,CAAP,EAAeX,KAAf,EAAsBC,QAAQ,KAAKY,SAAb,GACpBZ,QAAQ,GAAG,EADS;EAAA,MAEpB,OAAOD,KAAK,CAACW,IAAb,KAAsB,QAAtB;EAAA,MACEX,KAAK,CAACW,IADR;EAAA,MAEE,MAJJ,CAFG;;EAAA,MASH,CAACC,MAAM,CAACD,IAAD,CAAP,EAAeC,MAAM,CAACZ,KAAD,CAArB,CATJ;EAUD,GAhG+F;;;EAAA,MAoGvFc,kBApGuF,GAoGhG,SAASA,kBAAT,CAA6Bd,KAA7B,EAAoC;EAClC,WAAOA,KAAK,CAACe,OAAN,CAAc,OAAd,EAAuB,IAAvB,EAA6BA,OAA7B,CAAqC,KAArC,EAA4C,MAA5C,CAAP;EACD,GAtG+F;;EAAA,MAwGvFC,IAxGuF,GAwGhG,SAASA,IAAT,CAAeC,GAAf,EAAoBC,EAApB,EAAwB;EACtB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACT,MAAxB,EAAgCW,CAAC,EAAjC,EAAqC;EACnCD,MAAAA,EAAE,CAACD,GAAG,CAACE,CAAD,CAAJ,CAAF;EACD;EACF,GA5G+F;;;;;EAChG,MAAMlE,QAAM,GAAG,OAAOmE,MAAP,KAAkB,QAAlB,GACXA,MADW,GAEX,OAAOC,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCC,cAFtC,CADgG;;EAMhG,MAAMC,SAAS,GAAGtE,QAAM,CAAC2C,QAAzB,CANgG;;EAShG,MAAM4B,KAAK,GAAGvE,QAAM,CAACwE,cAAP,IAAyBxE,QAAM,CAACwE,cAAP,CAAsB5B,SAAtB,CAAgC6B,IAAvE;;EACA,MAAMC,MAAM,GAAG1E,QAAM,CAAC2E,OAAP,IAAkB3E,QAAM,CAAC4E,KAAxC;;EACA,MAAMC,WAAW,GAAG7E,QAAM,CAAC8E,SAAP,IAAoB9E,QAAM,CAAC8E,SAAP,CAAiBC,UAAzD,CAXgG;;;;;EAkBhG,MAAMC,SAAS,GAAGhF,QAAM,CAAC0B,MAAP,IAAiBA,MAAM,CAACuD,WAA1C,CAlBgG;;EAqBhG,MAAID,SAAJ,EAAe;EACb,QAAI,CAACtC,IAAI,CAACE,SAAL,CAAeoC,SAAf,CAAL,EAAgC;EAC9BtC,MAAAA,IAAI,CAACE,SAAL,CAAeoC,SAAf,IAA4B,MAA5B;EACD;;EAED,QAAI,UAAUhF,QAAV,IAAoB,CAACiD,IAAI,CAACL,SAAL,CAAeoC,SAAf,CAAzB,EAAoD;EAClD/B,MAAAA,IAAI,CAACL,SAAL,CAAeoC,SAAf,IAA4B,MAA5B;EACD;EACF,GA7B+F;;EAgChG,MAAI;EACF,QAAI/B,IAAJ,CAAS,EAAT,EAAa,EAAb,EADE;EAEH,GAFD,CAEE,OAAOiC,CAAP,EAAU;EACVlF,IAAAA,QAAM,CAACiD,IAAP,GAAc,SAASA,IAAT,CAAekC,CAAf,EAAkBC,CAAlB,EAAqBC,CAArB,EAAwB;EACpC,UAAMC,IAAI,GAAG,IAAI5C,IAAJ,CAASyC,CAAT,EAAYE,CAAZ,CAAb;EACA,UAAME,CAAC,GAAGF,CAAC,IAAI,KAAK,CAAL,KAAWA,CAAC,CAAClC,YAAlB,GAAiC,IAAIqC,IAAJ,CAASH,CAAC,CAAClC,YAAX,CAAjC,GAA4D,IAAIqC,IAAJ,EAAtE;EAEAC,MAAAA,MAAM,CAAC3D,gBAAP,CAAwBwD,IAAxB,EAA8B;EAC5B5B,QAAAA,IAAI,EAAE;EACJX,UAAAA,KAAK,EAAEqC;EADH,SADsB;EAI5BM,QAAAA,gBAAgB,EAAE;EAChB3C,UAAAA,KAAK,EAAEwC;EADS,SAJU;EAO5BpC,QAAAA,YAAY,EAAE;EACZJ,UAAAA,KAAK,EAAE,CAACwC;EADI,SAPc;EAU5BI,QAAAA,QAAQ,EAAE;EACR5C,UAAAA,KADQ,mBACC;EACP,mBAAO,eAAP;EACD;EAHO;EAVkB,OAA9B;;EAiBA,UAAIiC,SAAJ,EAAe;EACbS,QAAAA,MAAM,CAACvD,cAAP,CAAsBoD,IAAtB,EAA4BN,SAA5B,EAAuC;EACrCjC,UAAAA,KAAK,EAAE;EAD8B,SAAvC;EAGD;;EAED,aAAOuC,IAAP;EACD,KA5BD;EA6BD;;EAhE+F,MAiH1FM,gBAjH0F;;;;;;EAuH9F,8BAAaC,IAAb,EAAmB;EACjB,WAAKC,KAAL,GAAaL,MAAM,CAAC1D,MAAP,CAAc,IAAd,CAAb;EAEA,UAAI,CAAC8D,IAAL,EAAW,OAAO,IAAP;EAEX,UAAMzB,IAAI,GAAG,IAAb;EAEAL,MAAAA,IAAI,CAAC8B,IAAI,CAACE,QAAN,EAAgB,UAAAC,GAAG,EAAI;EACzB,YAAI,CAACA,GAAG,CAACtC,IAAL,IAAasC,GAAG,CAACC,QAAjB,IAA6BD,GAAG,CAAC9C,IAAJ,KAAa,QAA1C,IAAsD8C,GAAG,CAAC9C,IAAJ,KAAa,QAAvE,EAAiF;;EAEjF,YAAI8C,GAAG,CAAC9C,IAAJ,KAAa,MAAjB,EAAyB;EACvB,cAAMgD,KAAK,GAAGF,GAAG,CAACE,KAAJ,IAAaF,GAAG,CAACE,KAAJ,CAAU3C,MAAvB,GACVyC,GAAG,CAACE,KADM,GAEV,CAAC,IAAIjD,IAAJ,CAAS,EAAT,EAAa,EAAb,EAAiB;EAAEC,YAAAA,IAAI,EAAE;EAAR,WAAjB,CAAD,CAFJ,CADuB;;EAKvBa,UAAAA,IAAI,CAACmC,KAAD,EAAQ,UAAAC,IAAI,EAAI;EAClB/B,YAAAA,IAAI,CAACgC,MAAL,CAAYJ,GAAG,CAACtC,IAAhB,EAAsByC,IAAtB;EACD,WAFG,CAAJ;EAGD,SARD,MAQO,IAAIH,GAAG,CAAC9C,IAAJ,KAAa,iBAAb,IAAkC8C,GAAG,CAAC9C,IAAJ,KAAa,YAAnD,EAAiE;EACtEa,UAAAA,IAAI,CAACiC,GAAG,CAACK,OAAL,EAAc,UAAAC,GAAG,EAAI;EACvB,aAACA,GAAG,CAACL,QAAL,IAAiBK,GAAG,CAACC,QAArB,IAAiCnC,IAAI,CAACgC,MAAL,CAAYJ,GAAG,CAACtC,IAAhB,EAAsB4C,GAAG,CAACvD,KAA1B,CAAjC;EACD,WAFG,CAAJ;EAGD,SAJM,MAIA,IAAIiD,GAAG,CAAC9C,IAAJ,KAAa,UAAb,IAA2B8C,GAAG,CAAC9C,IAAJ,KAAa,OAA5C,EAAqD;EAC1D,cAAI8C,GAAG,CAACQ,OAAR,EAAiBpC,IAAI,CAACgC,MAAL,CAAYJ,GAAG,CAACtC,IAAhB,EAAsBsC,GAAG,CAACjD,KAA1B;EAClB,SAFM,MAEA;EACL,cAAMA,KAAK,GAAGiD,GAAG,CAAC9C,IAAJ,KAAa,UAAb,GAA0BW,kBAAkB,CAACmC,GAAG,CAACjD,KAAL,CAA5C,GAA0DiD,GAAG,CAACjD,KAA5E;EACAqB,UAAAA,IAAI,CAACgC,MAAL,CAAYJ,GAAG,CAACtC,IAAhB,EAAsBX,KAAtB;EACD;EACF,OArBG,CAAJ;EAsBD;;;;;;;;;;EApJ6F;;EAAA,WA8J9FqD,MA9J8F,GA8J9F,gBAAQ1C,IAAR,EAAcX,KAAd,EAAqBC,QAArB,EAA+B;EAC7BI,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;;EAD6B,iCAEFhD,aAAa,CAACiD,KAAd,CAAoB,IAApB,EAA0BD,SAA1B,CAFE;;EAE3B/C,MAAAA,IAF2B;EAErBX,MAAAA,KAFqB;EAEdC,MAAAA,QAFc;EAG7B,UAAM2D,GAAG,GAAG,KAAKb,KAAjB;EAEA,UAAI,CAACa,GAAG,CAACjD,IAAD,CAAR,EAAgBiD,GAAG,CAACjD,IAAD,CAAH,GAAY,EAAZ;EAEhBiD,MAAAA,GAAG,CAACjD,IAAD,CAAH,CAAUkD,IAAV,CAAe,CAAC7D,KAAD,EAAQC,QAAR,CAAf;EACD;;;;;;;EAtK6F;;EAAA,WA8K9F6D,MA9K8F,GA8K9F,iBAAQnD,IAAR,EAAc;EACZN,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;EACA,aAAO,KAAKX,KAAL,CAAWnC,MAAM,CAACD,IAAD,CAAjB,CAAP;EACD;;;;;;EAjL6F;;EAAA,WAwL5FoD,OAxL4F;EAAA;EAAA,4BAwL9F;EAAA;;EAAA;EAAA;EAAA;EAAA;EACQH,cAAAA,GADR,GACc,KAAKb,KADnB;EAAA,oDAGqBa,GAHrB;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAGajD,cAAAA,IAHb;EAAA,0DAIwBiD,GAAG,CAACjD,IAAD,CAJ3B;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAIeX,cAAAA,KAJf;EAAA;EAKM,qBAAM,CAACW,IAAD,EAAOZ,cAAc,CAACC,KAAD,CAArB,CAAN;;EALN;EAAA;EAAA;;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,KAxL8F;;;;;;;;EAAA;;EAAA,WAyM9FgE,OAzM8F,GAyM9F,iBAASC,QAAT,EAAmBC,OAAnB,EAA4B;EAC1B7D,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;;EACA,4DAA4B,IAA5B,2CAAkC;EAAA;EAAA,YAAtB/C,IAAsB;EAAA,YAAhBX,KAAgB;EAChCiE,QAAAA,QAAQ,CAACE,IAAT,CAAcD,OAAd,EAAuBlE,KAAvB,EAA8BW,IAA9B,EAAoC,IAApC;EACD;EACF;;;;;;;;EA9M6F;;EAAA,WAuN9FyD,GAvN8F,GAuN9F,aAAKzD,IAAL,EAAW;EACTN,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;EACA,UAAME,GAAG,GAAG,KAAKb,KAAjB;EACApC,MAAAA,IAAI,GAAGC,MAAM,CAACD,IAAD,CAAb;EACA,aAAOiD,GAAG,CAACjD,IAAD,CAAH,GAAYZ,cAAc,CAAC6D,GAAG,CAACjD,IAAD,CAAH,CAAU,CAAV,CAAD,CAA1B,GAA2C,IAAlD;EACD;;;;;;;EA5N6F;;EAAA,WAoO9F0D,MApO8F,GAoO9F,gBAAQ1D,IAAR,EAAc;EACZN,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;EACA,aAAO,CAAC,KAAKX,KAAL,CAAWnC,MAAM,CAACD,IAAD,CAAjB,KAA4B,EAA7B,EAAiCiD,GAAjC,CAAqC7D,cAArC,CAAP;EACD;;;;;;;EAvO6F;;EAAA,WA+O9FnC,GA/O8F,GA+O9F,aAAK+C,IAAL,EAAW;EACTN,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;EACA,aAAO9C,MAAM,CAACD,IAAD,CAAN,IAAgB,KAAKoC,KAA5B;EACD;;;;;;EAlP6F;;EAAA,WAyP5FjD,IAzP4F;EAAA;EAAA,4BAyP9F;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA,2DACuB,IADvB;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA,2CACca,IADd;EAAA;EAEI,qBAAMA,IAAN;;EAFJ;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,KAzP8F;;;;;;;;;EAAA;;EAAA,WAuQ9F2D,GAvQ8F,GAuQ9F,aAAK3D,IAAL,EAAWX,KAAX,EAAkBC,QAAlB,EAA4B;EAC1BI,MAAAA,UAAU,CAACqD,SAAD,EAAY,CAAZ,CAAV;EACA,UAAMpD,IAAI,GAAGI,aAAa,CAACiD,KAAd,CAAoB,IAApB,EAA0BD,SAA1B,CAAb;EACA,WAAKX,KAAL,CAAWzC,IAAI,CAAC,CAAD,CAAf,IAAsB,CAAC,CAACA,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAAD,CAAtB;EACD;;;;;;EA3Q6F;;EAAA,WAkR5FiE,MAlR4F;EAAA;EAAA,4BAkR9F;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA,2DAC0B,IAD1B;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA,2CACgBvE,KADhB;EAAA;EAEI,qBAAMA,KAAN;;EAFJ;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,KAlR8F;;;;;;;EAAA;;EAAA,WA8R7F,WA9R6F,IA8R9F,qBAAiB;EACf,UAAMwE,EAAE,GAAG,IAAIjD,SAAJ,EAAX;;EAEA,4DAA4B,IAA5B,2CAAkC;EAAA;EAAA,YAAtBZ,IAAsB;EAAA,YAAhBX,KAAgB;EAChCwE,QAAAA,EAAE,CAACnB,MAAH,CAAU1C,IAAV,EAAgBX,KAAhB;EACD;;EAED,aAAOwE,EAAP;EACD;;;;;;EAtS6F;;EAAA,WA6S7F,OA7S6F,IA6S9F,iBAAa;EACX,UAAMC,QAAQ,GAAG,2BAA2BC,IAAI,CAACC,MAAL,EAA5C;EACA,UAAMC,MAAM,GAAG,EAAf;;EAEA,4DAA4B,IAA5B,2CAAkC;EAAA;EAAA,YAAtBjE,IAAsB;EAAA,YAAhBX,KAAgB;EAChC4E,QAAAA,MAAM,CAACf,IAAP,QAAiBY,QAAjB;;EAEA,YAAIzE,KAAK,YAAYL,IAArB,EAA2B;EACzBiF,UAAAA,MAAM,CAACf,IAAP,6CAC2ClD,IAD3C,uBAC+DX,KAAK,CAACW,IADrE,iCAEmBX,KAAK,CAACG,IAAN,IAAc,0BAFjC,gBAGEH,KAHF,EAIE,MAJF;EAMD,SAPD,MAOO;EACL4E,UAAAA,MAAM,CAACf,IAAP,6CAC2ClD,IAD3C,kBAC2DX,KAD3D;EAGD;EACF;;EAED4E,MAAAA,MAAM,CAACf,IAAP,QAAiBY,QAAjB;EAEA,aAAO,IAAI9E,IAAJ,CAASiF,MAAT,EAAiB;EACtBzE,QAAAA,IAAI,EAAE,mCAAmCsE;EADnB,OAAjB,CAAP;EAGD;;;;;;;EAvU6F;;EAAA,WA+U7F9F,MAAM,CAACkG,QA/UsF,IA+U9F,YAAqB;EACnB,aAAO,KAAKd,OAAL,EAAP;EACD;;;;;;EAjV6F;;EAAA,WAwV9FnB,QAxV8F,GAwV9F,oBAAY;EACV,aAAO,mBAAP;EACD,KA1V6F;;EAAA;EAAA;;EA6VhG,MAAIX,SAAJ,EAAe;;;;;EAKbY,IAAAA,gBAAgB,CAAChD,SAAjB,CAA2BoC,SAA3B,IAAwC,UAAxC;EACD,GAnW+F;;EAsWhG,MAAIT,KAAJ,EAAW;EACT,QAAMsD,gBAAgB,GAAG7H,QAAM,CAACwE,cAAP,CAAsB5B,SAAtB,CAAgCiF,gBAAzD;;;;;;;;EAQA7H,IAAAA,QAAM,CAACwE,cAAP,CAAsB5B,SAAtB,CAAgCiF,gBAAhC,GAAmD,UAAUnE,IAAV,EAAgBX,KAAhB,EAAuB;EACxE8E,MAAAA,gBAAgB,CAACX,IAAjB,CAAsB,IAAtB,EAA4BxD,IAA5B,EAAkCX,KAAlC;EACA,UAAIW,IAAI,CAACoE,WAAL,OAAuB,cAA3B,EAA2C,KAAKC,eAAL,GAAuB,IAAvB;EAC5C,KAHD;;;;;;;EAUA/H,IAAAA,QAAM,CAACwE,cAAP,CAAsB5B,SAAtB,CAAgC6B,IAAhC,GAAuC,UAAUuD,IAAV,EAAgB;;EAErD,UAAIA,IAAI,YAAYpC,gBAApB,EAAsC;EACpC,YAAMN,IAAI,GAAG0C,IAAI,CAAC,OAAD,CAAJ,EAAb;EACA,YAAI,CAAC,KAAKD,eAAV,EAA2B,KAAKF,gBAAL,CAAsB,cAAtB,EAAsCvC,IAAI,CAACpC,IAA3C;;EAC3BqB,QAAAA,KAAK,CAAC2C,IAAN,CAAW,IAAX,EAAiB5B,IAAjB;EACD,OAJD,MAIO;EACLf,QAAAA,KAAK,CAAC2C,IAAN,CAAW,IAAX,EAAiBc,IAAjB;EACD;EACF,KATD;EAUD,GAnY+F;;EAsYhG,MAAItD,MAAJ,EAAY;EACV,QAAMA,OAAM,GAAG1E,QAAM,CAAC4E,KAAtB;;EAEA5E,IAAAA,QAAM,CAAC4E,KAAP,GAAe,UAAUqD,KAAV,EAAiBC,IAAjB,EAAuB;EACpC,UAAIA,IAAI,IAAIA,IAAI,CAACC,IAAb,IAAqBD,IAAI,CAACC,IAAL,YAAqBvC,gBAA9C,EAAgE;EAC9DsC,QAAAA,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACC,IAAL,CAAU,OAAV,GAAZ;EACD;;EAED,aAAOzD,OAAM,CAACwC,IAAP,CAAY,IAAZ,EAAkBe,KAAlB,EAAyBC,IAAzB,CAAP;EACD,KAND;EAOD,GAhZ+F;;EAmZhG,MAAIrD,WAAJ,EAAiB;EACf7E,IAAAA,QAAM,CAAC8E,SAAP,CAAiBC,UAAjB,GAA8B,UAAUqD,GAAV,EAAeJ,IAAf,EAAqB;EACjD,UAAIA,IAAI,YAAYpC,gBAApB,EAAsC;EACpCoC,QAAAA,IAAI,GAAGA,IAAI,CAAC,WAAD,CAAJ,EAAP;EACD;;EACD,aAAOnD,WAAW,CAACqC,IAAZ,CAAiB,IAAjB,EAAuBkB,GAAvB,EAA4BJ,IAA5B,CAAP;EACD,KALD;EAMD;;EAEDhI,EAAAA,QAAM,CAAC,UAAD,CAAN,GAAqB4F,gBAArB;;;EC7Za,SAASyC,SAAT,CAAmBC,MAAnB,EAA2B;EACzC,MAAIlE,IAAI,GAAG,IAAX;EACA,OAAKmE,KAAL,GAAa,IAAb;EACA,OAAKC,MAAL,GAAcF,MAAd;EACA,OAAKG,SAAL,GAAiB,CAAjB;EACA,OAAKC,YAAL,GAAoB,CAApB;EACA,OAAKC,YAAL,GAAoB,CAApB;EACA,OAAKC,WAAL,GAAmB,EAAnB;EACA,OAAKC,MAAL,GAAc,IAAd;EACA,OAAKC,UAAL,GAAkB,IAAlB;EACA,OAAKC,KAAL,GAAa,KAAb,CAVyC;;EAWzC,OAAKC,UAAL,GAAkB,KAAlB,CAXyC;;EAYzC,OAAKC,cAAL,GAAsB,KAAtB,CAZyC;;EAazC,OAAKC,kBAAL,GAA0B,KAA1B,CAbyC;;EAczC,OAAKC,iBAAL,GAAyB,KAAzB,CAdyC;;EAezC,OAAKC,QAAL,GAAgB,KAAhB,CAfyC;;EAgBzC,OAAKC,QAAL,GAAgB,KAAhB,CAhByC;;EAiBzC,OAAKC,YAAL,GAAoB,KAApB,CAjByC;;EAkBzC,OAAKC,eAAL,GAAuB,KAAvB,CAlByC;;EAmBzC,OAAKC,aAAL,GAAqB,6QAArB,CAnByC;EAqBzC;;EACA,MAAIC,KAAK,GAAG,SAARA,KAAQ,CAASC,CAAT,EAAY;EACvBA,IAAAA,CAAC,CAACC,cAAF;EACA,GAFD,CAtByC;;EA2BzC,MAAIC,WAAW,GAAG,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,mBAAzC,EAA8D,UAA9D,EACjB,UADiB,EACL,cADK,EACW,iBADX,EAC8B,eAD9B,CAAlB;;EAGA,OAAKvC,GAAL,GAAW,YAAW;EACrB,QAAIZ,SAAS,CAAClD,MAAV,IAAoB,CAApB,IAAyBvB,CAAC,CAAC6H,QAAF,CAAWpD,SAAS,CAAC,CAAD,CAApB,CAA7B,EAAuD;EACtD,UAAIqD,GAAG,GAAGrD,SAAS,CAAC,CAAD,CAAnB;;EACA,WAAK,IAAIvC,CAAT,IAAc4F,GAAd,EAAmB;EAClB,YAAIC,CAAC,GAAG7F,CAAC,CAAC,CAAD,CAAD,CAAK4D,WAAL,KAAqB5D,CAAC,CAAC8F,MAAF,CAAS,CAAT,CAA7B,CADkB;;EAElB,YAAIJ,WAAW,CAACK,QAAZ,CAAqBF,CAArB,CAAJ,EACC,KAAKA,CAAL,IAAUD,GAAG,CAAC5F,CAAD,CAAb;EACD;EACD;EACD,GATD,CA9ByC;;EA0CzC,OAAKgE,IAAL,GAAY,YAAW;EACtB,QAAIgC,GAAG,GAAG,KAAKV,aAAL,CAAmB1F,OAAnB,CAA2B,WAA3B,EAAwCqG,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,MAAnB,CAAxC,EAAoEvG,OAApE,CAA4E,WAA5E,EAAyFqG,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,MAAnB,CAAzF,CAAV;;EACA,QAAI,KAAKtB,KAAT,EAAgB;EACf,UAAI,KAAKO,YAAT,EACC,KAAKT,MAAL,CAAYyB,OAAZ,CAAoB,yBAApB,EAA+CC,MAA/C,CAAsDL,GAAtD;EACD,UAAI,KAAKX,eAAT,EACC,KAAKV,MAAL,CAAYyB,OAAZ,CAAoB,yBAApB,EAA+CE,KAA/C,CAAqDN,GAArD;EACD,WAAK3B,KAAL,CAAWkC,IAAX,CAAgB,UAAhB,EAA4BC,KAA5B,CAAkC,UAAShB,CAAT,EAAY;EAC7CtF,QAAAA,IAAI,CAACyE,MAAL,CAAY8B,GAAZ,CAAgB,aAAhB,EAA+BlB,KAA/B,EAAsCmB,MAAtC,CAA6C,SAA7C,EAAwDC,MAAxD,GACEC,IADF,CACO,2DADP,EAEEL,IAFF,CAEO,mBAFP,EAE4BM,WAF5B,CAEwC,iBAFxC,EAE2D,KAF3D,EAEkEL,KAFlE;EAGA,eAAO,KAAP;EACA,OALD;EAMA,WAAKnC,KAAL,CAAWkC,IAAX,CAAgB,UAAhB,EAA4BC,KAA5B,CAAkC,UAAShB,CAAT,EAAY;EAC7CtF,QAAAA,IAAI,CAACyE,MAAL,CAAY8B,GAAZ,CAAgB,aAAhB,EAA+BlB,KAA/B,EAAsCmB,MAAtC,CAA6C,SAA7C,EAAwDC,MAAxD,GACEG,IADF,CACO,2DADP,EAEEP,IAFF,CAEO,mBAFP,EAE4BM,WAF5B,CAEwC,iBAFxC,EAE2D,KAF3D,EAEkEL,KAFlE;EAGA,eAAO,KAAP;EACA,OALD;EAMA,UAAI,KAAKrB,QAAT,EACC,KAAKd,KAAL,CAAWkC,IAAX,CAAgB,mFAAhB,EAAqGQ,IAArG;EACD,KAnBD,MAmBO,IAAI,KAAKjC,UAAT,EAAqB;EAC3B,UAAI,KAAKM,YAAT,EACC,KAAKR,UAAL,CAAgBwB,OAAhB,CAAwB,eAAxB,EAAyCC,MAAzC,CAAgDL,GAAhD;EACD,UAAI,KAAKX,eAAT,EACC,KAAKT,UAAL,CAAgBwB,OAAhB,CAAwB,eAAxB,EAAyCE,KAAzC,CAA+CN,GAA/C;EACD,WAAK3B,KAAL,CAAWkC,IAAX,CAAgB,UAAhB,EAA4BC,KAA5B,CAAkC,UAAShB,CAAT,EAAY;EAC7CtF,QAAAA,IAAI,CAACyE,MAAL,CAAYyB,OAAZ,CAAoB,OAApB,EAA6BM,MAA7B,CAAoC,sBAApC,EACEE,IADF,CACO,gEADP,EAEEC,WAFF,CAEc,iBAFd,EAEiC,KAFjC,EAGEN,IAHF,CAGO,wBAHP,EAGiCC,KAHjC;EAIA,eAAO,KAAP;EACA,OAND;EAOA,WAAKnC,KAAL,CAAWkC,IAAX,CAAgB,UAAhB,EAA4BC,KAA5B,CAAkC,UAAShB,CAAT,EAAY;EAC7CtF,QAAAA,IAAI,CAACyE,MAAL,CAAYyB,OAAZ,CAAoB,OAApB,EAA6BM,MAA7B,CAAoC,sBAApC,EACEI,IADF,CACO,gEADP,EAEED,WAFF,CAEc,iBAFd,EAEiC,KAFjC,EAGEN,IAHF,CAGO,wBAHP,EAGiCC,KAHjC;EAIA,eAAO,KAAP;EACA,OAND;EAOA;;EACD,SAAKQ,QAAL;EACA,GA1CD,CA1CyC;;EAuFzC,OAAKA,QAAL,GAAgB,YAAW;EAC1B,QAAI,KAAKnC,KAAT,EAAgB;EACf,UAAI,KAAKK,QAAT,EACC,KAAKP,MAAL,CAAYsC,EAAZ,CAAe,aAAf,EAA8B1B,KAA9B;EACD,WAAKZ,MAAL,CAAY9E,IAAZ,CAAiB,YAAW;EAC3B,YAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACA,YAAIoC,IAAI,CAAC+E,iBAAT,EACCiC,KAAK,CAACL,WAAN,CAAkB,QAAlB,EAA4B,CAACK,KAAK,CAACC,QAAN,CAAe,QAAf,CAA7B;EACD,YAAIjH,IAAI,CAACgF,QAAT,EACCgC,KAAK,CAACL,WAAN,CAAkB,UAAlB,EAA8B,CAACK,KAAK,CAACC,QAAN,CAAe,QAAf,CAA/B;EACD,OAND;EAOA,KAVD,MAUO,IAAI,KAAKrC,UAAT,EAAqB;EAC3B,WAAKH,MAAL,CAAYyB,OAAZ,CAAoB,OAApB,EAA6BvG,IAA7B,CAAkC,YAAW;EAC5C,YAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACA,YAAIoC,IAAI,CAAC+E,iBAAT,EACCiC,KAAK,CAACL,WAAN,CAAkB,QAAlB,EAA4B,CAACK,KAAK,CAACX,IAAN,CAAW,gBAAX,EAA6B,CAA7B,CAA7B;EACD,OAJD;EAKA;;EACD,QAAIxE,QAAQ,GAAG,KAAKgD,cAAL,IAAuB,KAAKR,SAAL,IAAkB,KAAKC,YAA7D;EACA,QAAI4C,IAAI,GAAG,KAAK/C,KAAL,CAAW+B,OAAX,CAAmB,0BAAnB,EAA+CG,IAA/C,CAAoD,+BAApD,EAAqFc,IAArF,CAA0F,UAA1F,EAAsGtF,QAAtG,EAAgHuF,MAAhH,CAAuH,CAAC,KAAKtC,kBAAN,IAA4B,CAACjD,QAApJ,CAAX;EACAjE,IAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBwJ,MAAjB,CAAwBF,IAAI,CAACG,EAAL,CAAQ,yBAAR,CAAxB,EApB0B;;EAqB1BxF,IAAAA,QAAQ,GAAG,KAAKwC,SAAL,IAAkB,KAAKE,YAAlC;EACA,SAAKJ,KAAL,CAAWkC,IAAX,CAAgB,UAAhB,EAA4BM,WAA5B,CAAwC,UAAxC,EAAoD9E,QAApD;EACAA,IAAAA,QAAQ,GAAG,KAAKwC,SAAL,IAAkB,KAAKC,YAAlC;EACA,SAAKH,KAAL,CAAWkC,IAAX,CAAgB,UAAhB,EAA4BM,WAA5B,CAAwC,UAAxC,EAAoD9E,QAApD;EACA,GAzBD,CAvFyC;;EAmHzC,OAAKyF,QAAL,GAAgB,UAASxH,CAAT,EAAY;EAC3B,QAAIA,CAAC,IAAI,CAAL,IAAUA,CAAC,GAAG,KAAKyE,YAAnB,IAAmCzE,CAAC,GAAG,KAAKwE,YAAhD,EACC;;EACD,QAAI,KAAKD,SAAL,IAAkBvE,CAAtB,EAAyB;EACxB,UAAIyH,KAAK,GAAG,KAAK9C,MAAL,CAAY+C,EAAZ,CAAe1H,CAAC,GAAG,CAAnB,CAAZ;;EACA,UAAI,KAAK6E,KAAT,EAAgB;EACf,YAAI4C,KAAK,CAACF,EAAN,CAAS,8BAAT,CAAJ,EACCE,KAAK,CAACjB,KAAN,GADD,KAGCiB,KAAK,CAACd,MAAN,GAAeG,IAAf,CAAoB,qDAApB,EACEP,IADF,CACO,mBADP,EAC4BM,WAD5B,CACwC,UADxC,EACoD,KADpD,EAC2DL,KAD3D;EAED,OAND,MAMO,IAAI,KAAK1B,UAAT,EAAqB;EAC3B,YAAI6C,EAAE,GAAGF,KAAK,CAACrB,OAAN,CAAc,OAAd,CAAT;EACA,YAAIuB,EAAE,CAACJ,EAAH,CAAM,eAAN,CAAJ,EACCE,KAAK,CAACjB,KAAN,GADD,KAGCmB,EAAE,CAACb,IAAH,CAAQ,2CAAR,EAAqDP,IAArD,CAA0D,wBAA1D,EAAoFC,KAApF;EACD;;EACD,WAAKjC,SAAL,GAAiBvE,CAAjB;EACA;EACD,GApBD;;EAsBA,OAAK4H,eAAL,GAAuB,KAAKJ,QAA5B,CAzIyC;;EA4IzC,OAAKK,iBAAL,GAAyB,UAASC,EAAT,EAAa;EACrC,SAAKN,QAAL,CAAcO,QAAQ,CAACjK,CAAC,CAACgK,EAAD,CAAD,CAAMhE,IAAN,CAAW,MAAX,CAAD,EAAqB,EAArB,CAAR,IAAoC,CAAC,CAAnD;EACA,GAFD,CA5IyC;;EAiJzC,OAAKkE,mBAAL,GAA2B,UAASC,EAAT,EAAa;EACvC,QAAIC,GAAG,GAAG,KAAK7D,KAAL,CAAWkC,IAAX,CAAgB,aAAhB,EAA+BG,MAA/B,CAAsC,UAAUuB,EAAV,GAAe,YAAf,GAA8BA,EAA9B,GAAmC,kBAAnC,GAAwDA,EAAxD,GAA6D,IAAnG,CAAV;EACA,SAAKJ,iBAAL,CAAuBK,GAAvB;EACA,GAHD,CAjJyC;;EAuJzC,OAAKC,UAAL,GAAkB,UAASnI,CAAT,EAAYoI,IAAZ,EAAkB;EACnC,QAAI,KAAKvD,KAAT,EAAgB;EACf,WAAKF,MAAL,CAAY+C,EAAZ,CAAe1H,CAAC,GAAG,CAAnB,EAAsB6G,WAAtB,CAAkC,QAAlC,EAA4C,CAACuB,IAA7C;EACA,KAFD,MAEO,IAAI,KAAKtD,UAAT,EAAqB;EAC3B,WAAKH,MAAL,CAAY+C,EAAZ,CAAe1H,CAAC,GAAG,CAAnB,EAAsBoG,OAAtB,CAA8B,OAA9B,EAAuCkB,MAAvC,CAA8C,QAA9C,EAAwD,CAACc,IAAzD;EACA;EACD,GAND,CAvJyC;;EAgKzC,OAAKC,MAAL,GAAc,YAAW;EACxB,SAAKhE,KAAL,GAAavG,CAAC,CAAC,MAAMsG,MAAP,CAAd;EACA,SAAKM,WAAL,GAAmB,KAAKL,KAAL,CAAWkC,IAAX,CAAgB,aAAhB,EAA+B9D,GAA/B,CAAmC,YAAW;EAChE,UAAI6F,KAAK,GAAGP,QAAQ,CAACjK,CAAC,CAAC,IAAD,CAAD,CAAQgG,IAAR,CAAa,MAAb,CAAD,EAAuB,EAAvB,CAApB;EACA,aAAQwE,KAAK,GAAG,CAAT,GAAcA,KAAd,GAAsB,IAA7B;EACA,KAHkB,EAGhBrF,GAHgB,EAAnB;EAIA,SAAKyB,WAAL,CAAiB6D,IAAjB,CAAsB,UAASvH,CAAT,EAAYC,CAAZ,EAAe;EACpC,aAAOD,CAAC,GAAGC,CAAX;EACA,KAFD;EAGA,SAAKwD,YAAL,GAAoB,KAAKC,WAAL,CAAiB,CAAjB,CAApB;EACA,SAAKF,YAAL,GAAoB,KAAKE,WAAL,CAAiB,KAAKA,WAAL,CAAiBrF,MAAjB,GAA0B,CAA3C,CAApB;EACA,QAAImJ,KAAK,GAAG,KAAKnE,KAAL,CAAWkC,IAAX,CAAgB,mBAAhB,CAAZ;;EACA,QAAIiC,KAAK,CAAC,CAAD,CAAT,EAAc;EACb,WAAK7D,MAAL,GAAc6D,KAAd;EACA,WAAK3D,KAAL,GAAa,IAAb;EACA2D,MAAAA,KAAK,CAACvB,EAAN,CAAS,cAAT,EAAyB,UAASzB,CAAT,EAAY;EACpCtF,QAAAA,IAAI,CAACqE,SAAL,GAAiBiE,KAAK,CAACF,KAAN,CAAY9C,CAAC,CAACiD,MAAd,IAAwB,CAAzC;EACAvI,QAAAA,IAAI,CAAC8G,QAAL;EACAlJ,QAAAA,CAAC,CAACA,CAAC,CAAC,IAAD,CAAD,CAAQ4K,IAAR,CAAa,MAAb,CAAD,CAAD,CAAwBnC,IAAxB,CAA6B,gBAA7B,EAA+C1G,IAA/C,CAAoD,YAAW;EAC9D,cAAI8I,CAAC,GAAG1C,EAAE,CAAC2C,UAAH,CAAc,KAAKX,EAAnB,CAAR;;EACA,cAAIU,CAAC,IAAIA,CAAC,CAAC,KAAD,CAAV,EAAmB;EAClBE,YAAAA,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkBC,OAAlB,CAA0BL,CAAC,CAAC,KAAD,CAA3B,EAAoC,QAApC;EACAA,YAAAA,CAAC,CAAC,KAAD,CAAD,CAASM,SAAT,CAAmBN,CAAC,CAAC,QAAD,CAApB;EACA;EACD,SAND;EAOA,OAVD;EAWA,WAAKpE,SAAL,GAAiBiE,KAAK,CAACF,KAAN,CAAYE,KAAK,CAAC7B,MAAN,CAAa,SAAb,CAAZ,IAAuC,CAAxD;EACA,KAfD,MAeO;EACN,WAAK/B,UAAL,GAAkB,KAAKP,KAAL,CAAWkC,IAAX,CAAgB,wBAAhB,CAAlB;;EACA,UAAI,KAAK3B,UAAL,CAAgB,CAAhB,CAAJ,EAAwB;EACvB,aAAKD,MAAL,GAAc,KAAKC,UAAnB;EACA,aAAKE,UAAL,GAAkB,IAAlB;EACA,YAAIoE,OAAO,GAAG,KAAKtE,UAAL,CAAgBwB,OAAhB,CAAwB,cAAxB,EAAwCU,IAAxC,EAAd;EACAoC,QAAAA,OAAO,CAACjC,EAAR,CAAW,mBAAX,EAAgC,UAASzB,CAAT,EAAY;EAC3CtF,UAAAA,IAAI,CAACqE,SAAL,GAAiB2E,OAAO,CAACZ,KAAR,CAAc9C,CAAC,CAACiD,MAAhB,IAA0B,CAA3C;EACAvI,UAAAA,IAAI,CAAC8G,QAAL;EACAlJ,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyI,IAAR,CAAa,gBAAb,EAA+B1G,IAA/B,CAAoC,YAAW;EAC9C,gBAAI8I,CAAC,GAAG1C,EAAE,CAAC2C,UAAH,CAAc,KAAKX,EAAnB,CAAR;;EACA,gBAAIU,CAAC,IAAIA,CAAC,CAAC,KAAD,CAAV,EAAmB;EAClBE,cAAAA,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkBC,OAAlB,CAA0BL,CAAC,CAAC,KAAD,CAA3B,EAAoC,QAApC;EACAA,cAAAA,CAAC,CAAC,KAAD,CAAD,CAASM,SAAT,CAAmBN,CAAC,CAAC,QAAD,CAApB;EACA;EACD,WAND;EAOA,SAVD;EAWA,aAAKpE,SAAL,GAAiB2E,OAAO,CAACZ,KAAR,CAAcY,OAAO,CAAC/B,QAAR,CAAiB,MAAjB,CAAd,IAA0C,CAA3D;EACA;EACD;;EACDrJ,IAAAA,CAAC,CAAC,YAAW;EACZoC,MAAAA,IAAI,CAAC8D,IAAL;EACA,KAFA,CAAD;EAGA,GAlDD;EAmDA;;ECnND;;;;EAGO,SAASmF,WAAT,CAAqBrB,EAArB,EAAyB;EAC5B,MAAIA,EAAE,IAAI,CAAC7B,EAAE,CAACmD,YAAH,CAAgBtB,EAAE,CAACjJ,KAAnB,CAAX,EACI,OAAO;EAAEsK,IAAAA,WAAW,EAAElD,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,oBAAnB;EAAf,GAAP;EACJ,MAAIkD,KAAK,GAAGtB,QAAQ,CAACD,EAAE,CAACjJ,KAAJ,EAAW,EAAX,CAApB;EACA,MAAIwK,KAAK,GAAG,CAAZ,EACI,OAAO;EAAEF,IAAAA,WAAW,EAAElD,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,sBAAnB;EAAf,GAAP;EACJ,SAAO,KAAP;EACH;EAED;;;;;EAIO,SAASmD,aAAT,CAAuBrB,EAAvB,EAA2B;EAC9B,SAAO,UAASH,EAAT,EAAa;EAChB,QAAIyB,IAAI,GAAGtN,QAAQ,CAACuN,cAAT,CAAwB,OAAOvB,EAA/B,CAAX;;EACA,QAAIsB,IAAI,IAAIzB,EAAZ,EAAgB;EACZ,UAAItI,IAAI,GAAGsI,EAAE,CAACjJ,KAAH,CAAS4K,IAAT,EAAX;EAAA,UACIJ,KAAK,GAAGtB,QAAQ,CAACwB,IAAI,CAAC1K,KAAL,CAAW4K,IAAX,EAAD,EAAoB,EAApB,CADpB;;EAEA,UAAIJ,KAAK,KAAK,CAAV,IAAe,CAACpD,EAAE,CAACyD,QAAH,CAAYlK,IAAZ,EAAkB,SAAlB,CAApB,EAAkD;EAC9C,eAAO;EAAE8J,UAAAA,aAAa,EAAErD,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,sBAAnB;EAAjB,SAAP;EACH,OAFD,MAEO,IAAIkD,KAAK,KAAK,CAAC,CAAX,IAAgB,CAACpD,EAAE,CAACyD,QAAH,CAAYlK,IAAZ,EAAkB,eAAlB,CAArB,EAAyD;EAC5D,eAAO;EAAE8J,UAAAA,aAAa,EAAErD,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,4BAAnB;EAAjB,SAAP;EACH,OAFM,MAEA,IAAIkD,KAAK,KAAK,CAAC,CAAX,IAAgB,CAACpD,EAAE,CAACyD,QAAH,CAAYlK,IAAZ,EAAkB,WAAlB,CAArB,EAAqD;EACxD,eAAO;EAAE8J,UAAAA,aAAa,EAAErD,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,wBAAnB;EAAjB,SAAP;EACH,OAFM,MAEA,IAAIkD,KAAK,GAAG,CAAR,IAAa,CAAC,WAAD,EAAc,eAAd,EAA+B,SAA/B,EAA0CtD,QAA1C,CAAmDvG,IAAI,CAACoE,WAAL,EAAnD,CAAjB,EAAyF;EAC5F,eAAO;EAAE0F,UAAAA,aAAa,EAAErD,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,wBAAnB;EAAjB,SAAP;EACH;EACJ;;EACD,WAAO,KAAP;EACH,GAhBD;EAiBH;EAED;;;;EAGO,SAASwD,QAAT,CAAkBC,SAAlB,EAA6B;EAChC,SAAO,UAAS9B,EAAT,EAAa;EAChB,QAAIA,EAAE,IAAI,CAAC7B,EAAE,CAAC4D,QAAH,CAAY/B,EAAZ,CAAX,EAA4B;EACxB,aAAO;EAAE6B,QAAAA,QAAQ,EAAE1D,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,oBAAnB,EAAyCvG,OAAzC,CAAiD,IAAjD,EAAuDgK,SAAvD;EAAZ,OAAP;EACH;;EACD,WAAO,KAAP;EACH,GALD;EAMH;EAED;;;;EAGO,SAASE,YAAT,CAAsBF,SAAtB,EAAiC;EACpC,SAAO,UAAS9B,EAAT,EAAa;EAChB,QAAIiC,IAAI,GAAG9N,QAAQ,CAACuN,cAAT,CAAwB,QAAQ1B,EAAE,CAACG,EAAnC,CAAX;;EACA,QAAI8B,IAAI,IAAI,CAAC9D,EAAE,CAAC4D,QAAH,CAAYE,IAAZ,CAAb,EAAgC;EAC5B,aAAO;EAAED,QAAAA,YAAY,EAAE7D,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,oBAAnB,EAAyCvG,OAAzC,CAAiD,IAAjD,EAAuDgK,SAAvD;EAAhB,OAAP;EACH;;EACD,WAAO,KAAP;EACH,GAND;EAOH;EAED;;;;EAGO,SAASI,gBAAT,CAA0BlC,EAA1B,EAA8B;EACjC,MAAIG,EAAJ;EACA,MAAIH,EAAE,CAACG,EAAH,CAAMgC,UAAN,CAAiB,IAAjB,CAAJ;EACIhC,IAAAA,EAAE,GAAGH,EAAE,CAACG,EAAH,CAAMrI,OAAN,CAAc,KAAd,EAAqB,IAArB,CAAL,CADJ,KAEK,IAAIkI,EAAE,CAACG,EAAH,IAAS,MAAb;EACDA,IAAAA,EAAE,GAAG,MAAL;EACJ,MAAIiC,KAAK,GAAGjO,QAAQ,CAACuN,cAAT,CAAwBvB,EAAxB,CAAZ;;EACA,MAAIH,EAAE,CAACjJ,KAAH,KAAaqL,KAAK,CAACrL,KAAvB,EAA8B;EAC1B,WAAO;EAAEmL,MAAAA,gBAAgB,EAAE/D,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB;EAApB,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASgE,OAAT,CAAiBrC,EAAjB,EAAqB;EACxB,MAAIsC,CAAJ,EAAOC,CAAP;;EACA,MAAIvC,EAAE,CAACG,EAAH,CAAMgC,UAAN,CAAiB,IAAjB,CAAJ,EAA4B;EACxBG,IAAAA,CAAC,GAAGnO,QAAQ,CAACuN,cAAT,CAAwB1B,EAAE,CAACG,EAAH,CAAMrI,OAAN,CAAc,KAAd,EAAqB,IAArB,CAAxB,CAAJ;EACAyK,IAAAA,CAAC,GAAGpO,QAAQ,CAACuN,cAAT,CAAwB1B,EAAE,CAACG,EAAH,CAAMrI,OAAN,CAAc,KAAd,EAAqB,IAArB,CAAxB,CAAJ;EACH;;EACD,MAAIqG,EAAE,CAAC4D,QAAH,CAAYO,CAAZ,KAAkBtM,CAAC,CAACuM,CAAD,CAAD,CAAKC,GAAL,MAAc,SAAhC,IAA6C,CAACrE,EAAE,CAAC4D,QAAH,CAAY/B,EAAZ,CAAlD,EAAmE;EAC/D,WAAO;EAAEqC,MAAAA,OAAO,EAAElE,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,aAAnB;EAAX,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASoE,gBAAT,CAA0BzC,EAA1B,EAA8B;EACjC,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;;EACA,MAAII,GAAG,CAACf,QAAJ,CAAa,sBAAb,KAAwC,CAACe,GAAG,CAACpE,IAAJ,CAAS,WAAT,CAA7C,EAAoE;EAChE,WAAO;EAAEyG,MAAAA,gBAAgB,EAAEtE,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,mBAAnB;EAApB,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASqE,QAAT,CAAkBC,GAAlB,EAAuB;EAC1B,SAAO,UAAS3C,EAAT,EAAa;EAChB,QAAI,CAAC2C,GAAD,IAAQ3C,EAAE,CAACjJ,KAAH,CAAS6L,KAAT,CAAe,IAAIC,MAAJ,CAAW,MAAM1E,EAAE,CAAC2E,gBAAH,CAAoB3E,EAAE,CAAC4E,2BAAvB,CAAN,GAA4D,GAAvE,CAAf,CAAZ,EACI,OAAO;EAAEL,MAAAA,QAAQ,EAAEvE,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,sBAAnB;EAAZ,KAAP;EACJ,WAAO,KAAP;EACH,GAJD;EAKH;EAED;;;;EAGO,SAAS2E,QAAT,CAAkBL,GAAlB,EAAuB;EAC1B,SAAO,UAAS3C,EAAT,EAAa;EAChB,QAAI,CAAC2C,GAAD,IAAQ,CAACxE,EAAE,CAAC8E,kBAAZ,IAAkCjD,EAAE,CAACjJ,KAAH,CAAS6L,KAAT,CAAe,IAAIC,MAAJ,CAAW,MAAM1E,EAAE,CAAC2E,gBAAH,CAAoB3E,EAAE,CAAC+E,2BAAvB,CAAN,GAA4D,GAAvE,CAAf,CAAtC,EACI,OAAO;EAAEF,MAAAA,QAAQ,EAAE7E,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,sBAAnB;EAAZ,KAAP;EACJ,WAAO,KAAP;EACH,GAJD;EAKH;EAED;;;;EAGO,SAAS8E,KAAT,CAAenD,EAAf,EAAmB;EACtB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACkF,UAAH,CAActM,KAAd,CAAL,EAA2B;EACvB,WAAO;EAAEoM,MAAAA,KAAK,EAAEhF,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB;EAAT,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASiF,MAAT,CAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;EAC7B,SAAO,UAASxD,EAAT,EAAa;EAChB,QAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,QAAI,CAAC7B,EAAE,CAACsF,WAAH,CAAe1M,KAAf,EAAsBwM,GAAtB,CAAL,EAAiC;EAC7B,aAAO;EAAEJ,QAAAA,KAAK,EAAEK;EAAT,OAAP;EACH;;EACD,WAAO,KAAP;EACH,GAND;EAOH;EAED;;;;;EAIO,SAASE,QAAT,CAAkBC,UAAlB,EAA8B;EACjC,SAAO,UAAS3D,EAAT,EAAa;EAChB,QAAI4D,EAAJ;EAAA,QACIC,QADJ;EAAA,QAEI9M,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAFZ;EAAA,QAGI8D,SAAS,GAAG3F,EAAE,CAAC4F,cAHnB;;EAIA,QAAI,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc9F,QAAd,CAAuB0F,UAAvB,CAAJ,EAAwC;EACpCC,MAAAA,EAAE,GAAGzF,EAAE,CAAC6F,cAAR;EACAH,MAAAA,QAAQ,GAAG,uBAAX;EACH,KAHD,MAGO,IAAI,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,EAAY5F,QAAZ,CAAqB0F,UAArB,CAAJ,EAAsC;EACzCC,MAAAA,EAAE,GAAGzF,EAAE,CAAC8F,SAAR;EACAJ,MAAAA,QAAQ,GAAG,kBAAX;EACH,KAHM,MAGA,IAAI,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc5F,QAAd,CAAuB0F,UAAvB,CAAJ,EAAwC;EAC3CC,MAAAA,EAAE,GAAGzF,EAAE,CAAC+F,kBAAR;EACAL,MAAAA,QAAQ,GAAG,uBAAX;EACH,KAHM,MAGA,IAAI,CAAC,CAAD,EAAI,EAAJ,EAAQ,GAAR,EAAa5F,QAAb,CAAsB0F,UAAtB,CAAJ,EAAuC;EAC1CC,MAAAA,EAAE,GAAGzF,EAAE,CAACgG,aAAR;EACAN,MAAAA,QAAQ,GAAG,kBAAX;EACH,KAHM,MAGA,IAAI,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc5F,QAAd,CAAuB0F,UAAvB,CAAJ,EAAwC;EAC3CC,MAAAA,EAAE,GAAGzF,EAAE,CAACiG,gBAAR;EACAP,MAAAA,QAAQ,GAAG,uBAAX;EACH,KAHM,MAGA,IAAI,CAAC,CAAD,EAAI,EAAJ,EAAQ,GAAR,EAAa5F,QAAb,CAAsB0F,UAAtB,CAAJ,EAAuC;EAC1CC,MAAAA,EAAE,GAAGzF,EAAE,CAACkG,WAAR;EACAR,MAAAA,QAAQ,GAAG,kBAAX;EACH,KAHM,MAGA;EAAE;EACLD,MAAAA,EAAE,GAAGzF,EAAE,CAACmG,YAAR;EACAT,MAAAA,QAAQ,GAAG,eAAX;EACAC,MAAAA,SAAS,GAAG3F,EAAE,CAACoG,WAAf;EACH;;EACD,QAAIX,EAAE,IAAI,CAACA,EAAE,CAAC7M,KAAD,CAAb,EAAsB;EAClB,aAAO;EAAE2M,QAAAA,QAAQ,EAAEvF,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmBwF,QAAnB,EAA6B/L,OAA7B,CAAqC,IAArC,EAA2CgM,SAA3C;EAAZ,OAAP;EACH;;EACF,WAAO,KAAP;EACF,GAhCD;EAiCH;EAED;;;;EAGO,SAASU,IAAT,CAAcxE,EAAd,EAAkB;EACrB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACsG,SAAH,CAAa1N,KAAb,CAAL,EAA0B;EACtB,WAAO;EAAEyN,MAAAA,IAAI,EAAErG,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB;EAAR,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASqG,KAAT,CAAe1E,EAAf,EAAmB;EACtB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACwG,WAAH,CAAe5N,KAAf,CAAL,EAA4B;EACxB,WAAO;EAAEyN,MAAAA,IAAI,EAAErG,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB;EAAR,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;;;EAKO,SAASuG,KAAT,CAAe7P,GAAf,EAAoB8P,GAApB,EAAyB;EAC5B,SAAO,UAAS7E,EAAT,EAAa;EAChB,QAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,QAAI,CAAC7B,EAAE,CAAC2G,UAAH,CAAc/N,KAAd,EAAqBhC,GAArB,EAA0B8P,GAA1B,CAAL,EAAqC;EACjC,aAAO;EAAED,QAAAA,KAAK,EAAEzG,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqCvG,OAArC,CAA6C,IAA7C,EAAmD/C,GAAnD,EAAwD+C,OAAxD,CAAgE,IAAhE,EAAsE+M,GAAtE;EAAT,OAAP;EACH;;EACF,WAAO,KAAP;EACF,GAND;EAOH;EAED;;;;EAGO,SAASE,OAAT,CAAiB/E,EAAjB,EAAqB;EACxB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACmD,YAAH,CAAgBvK,KAAhB,CAAL,EAA6B;EACzB,WAAO;EAAEgO,MAAAA,OAAO,EAAE5G,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB;EAAX,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAAS2G,KAAT,CAAehF,EAAf,EAAmB;EACtB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAAC8G,UAAH,CAAclO,KAAd,CAAL,EAA2B;EACvB,WAAO;EAAEiO,MAAAA,KAAK,EAAE7G,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB;EAAT,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAAS6G,GAAT,CAAalF,EAAb,EAAiB;EACpB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACgH,QAAH,CAAYpO,KAAZ,CAAL,EAAyB;EACrB,WAAO;EAAEmO,MAAAA,GAAG,EAAE/G,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB;EAAP,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAAS+G,UAAT,CAAoBpF,EAApB,EAAwB;EAC3B,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACkH,eAAH,CAAmBtO,KAAnB,CAAL,EAAgC;EAC5B,WAAO;EAAEqO,MAAAA,UAAU,EAAEjH,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB;EAAd,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASiH,GAAT,CAAatF,EAAb,EAAiB;EACpB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACoH,QAAH,CAAYxO,KAAZ,CAAL,EAAyB;EACrB,WAAO;EAAEuO,MAAAA,GAAG,EAAEnH,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB;EAAP,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;EAGO,SAASmH,IAAT,CAAcxF,EAAd,EAAkB;EACrB,MAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,MAAI,CAAC7B,EAAE,CAACsH,SAAH,CAAa1O,KAAb,CAAL,EAA0B;EACtB,WAAO;EAAEyO,MAAAA,IAAI,EAAErH,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB;EAAR,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EACD;;;;;EAIO,SAASqH,KAAT,CAAeC,OAAf,EAAwB;EAC3B,SAAO,UAAS3F,EAAT,EAAa;EAChB,QAAIjJ,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;;EACA,QAAI,CAAC7B,EAAE,CAACyH,YAAH,CAAgB7O,KAAhB,EAAuB4O,OAAvB,CAAL,EAAsC;EAClC,aAAO;EAAED,QAAAA,KAAK,EAAEvH,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB;EAAT,OAAP;EACH;;EACF,WAAO,KAAP;EACF,GAND;EAOH;EAED;;;;;;EAKO,SAASwH,MAAT,CAAgBjC,EAAhB,EAA6B;EAAA,oCAANvM,IAAM;EAANA,IAAAA,IAAM;EAAA;;EAChC,SAAO,UAAS2I,EAAT,EAAa;EAChB,QAAI,OAAO4D,EAAP,IAAa,UAAjB,EAA6B;EACzB,UAAI7M,KAAK,GAAGoH,EAAE,CAACiF,QAAH,CAAYpD,EAAZ,CAAZ;EACA,UAAI4D,EAAE,MAAF,UAAG7M,KAAH,SAAaM,IAAb,EAAJ,EACI,OAAO;EAAEwO,QAAAA,MAAM,EAAE1H,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB;EAAV,OAAP;EACP;;EACD,WAAO,KAAP;EACH,GAPD;EAQH;EAED;;;;EAGO,SAASyH,OAAT,CAAiB9F,EAAjB,EAAqB;EACxB,MAAIA,EAAE,IAAI,CAAC7B,EAAE,CAAC4D,QAAH,CAAY/B,EAAZ,CAAX,EAA4B;EACxB,WAAO;EAAE8F,MAAAA,OAAO,EAAE3H,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,mBAAnB;EAAX,KAAP;EACH;;EACD,SAAO,KAAP;EACH;EAED;;;;;EAIO,SAAS0H,SAAT,CAAmB/F,EAAnB,EAAuB;EAAA;;EAC1B,MAAIA,EAAE,IAAI,CAAC7B,EAAE,CAAC4D,QAAH,CAAY/B,EAAZ,CAAP,IAA0B,gBAAAgG,UAAU,UAAV,kDAAYC,WAAZ,CAAwBjG,EAAE,CAACkG,OAAH,CAAW/F,EAAnC,OAA2C,EAAzE,EAA6E;EACzE,WAAO;EAAE4F,MAAAA,SAAS,EAAE5H,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB;EAAb,KAAP;EACH;;EACD,SAAO,KAAP;EACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECnVc,SAAS8H,QAAT,CAAkBhG,EAAlB,EAAsBiG,MAAtB,EAA8B;EACzC,MAAIhO,IAAI,GAAG,IAAX;EAEA,OAAKiO,UAAL,GAAkB,KAAlB;EACA,OAAKlG,EAAL,GAAUA,EAAV,CAJyC;;EAKzC,OAAKiG,MAAL,GAAcA,MAAd;EACA,OAAKE,QAAL,GAAgB,IAAhB,CANyC;;EAOzC,OAAKC,QAAL,GAAgB,IAAhB,CAPyC;;EAQzC,OAAKC,eAAL,GAAuB,KAAvB,CARyC;;EASzC,OAAKC,QAAL,GAAgB,KAAhB;EACA,OAAKC,gBAAL,GAAwB,IAAxB;EACA,OAAKC,QAAL,GAAgB,IAAhB;EACA,OAAKC,QAAL,GAAgB,IAAhB,CAZyC;;EAazC,OAAKC,SAAL,GAAiB,IAAjB,CAbyC;;EAczC,OAAKC,YAAL,GAAoB,EAApB,CAdyC;;EAezC,OAAKC,KAAL,GAAa,EAAb,CAfyC;EAiBzC;;EACA,OAAKC,WAAL,GAAmB,YAAW;EAC1B,QAAInN,IAAI,GAAG,KAAKoN,OAAL,EAAX;EACAjR,IAAAA,CAAC,CAAC6D,IAAD,CAAD,CAAQ4E,IAAR,CAAa,+BAAb,EAA8Cc,IAA9C,CAAmD,UAAnD,EAA+D,IAA/D,EAAqE2H,QAArE,CAA8E,UAA9E;EACH,GAHD,CAlByC;;EAwBzC,OAAKC,UAAL,GAAkB,YAAW;EACzB,QAAItN,IAAI,GAAG,KAAKoN,OAAL,EAAX;EAAA,QACI1K,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CADb;EAEA0C,IAAAA,KAAK,CAACkC,IAAN,CAAW,sBAAX,EAAmC2I,WAAnC,CAA+C,qBAA/C,EAAsE7H,IAAtE,CAA2E,UAA3E,EAAuF,KAAvF;EACAhD,IAAAA,KAAK,CAACkC,IAAN,CAAW,qBAAX,EAAkC2I,WAAlC,CAA8C,oBAA9C,EAAoE7H,IAApE,CAAyE,UAAzE,EAAqF,IAArF;EACAhD,IAAAA,KAAK,CAACkC,IAAN,CAAW,+BAAX,EAA4Cc,IAA5C,CAAiD,UAAjD,EAA6D,KAA7D,EAAoE6H,WAApE,CAAgF,UAAhF;EACH,GAND,CAxByC;;EAiCzC,OAAKC,YAAL,GAAoB,UAASrH,EAAT,EAAa;EAC7B,QAAInG,IAAI,GAAG,KAAKoN,OAAL,EAAX;EAAA,QAA2B1K,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CAApC;EAAA,QAA4CyN,GAAG,GAAGtR,CAAC,CAACgK,EAAD,CAAD,CAAM1B,OAAN,CAAc,UAAd,CAAlD;EAAA,QAA6E5G,IAAI,GAAG4P,GAAG,CAAC1G,IAAJ,CAAS,IAAT,IAAiB,GAAjB,GAAuBZ,EAAE,CAACtI,IAA9G;EACA,QAAI6E,KAAK,CAACkC,IAAN,CAAW,wBAAwB/G,IAAxB,GAA+B,IAA1C,EAAgD,CAAhD,CAAJ;EACI;EACJ,QAAI6P,EAAE,GAAGD,GAAG,CAAC7I,IAAJ,CAAS,YAAYuB,EAAE,CAACtI,IAAf,GAAsB,IAA/B,EAAqC8P,cAArC,EAAT;;EACA,QAAID,EAAE,CAAChQ,MAAP,EAAe;EACXgQ,MAAAA,EAAE,CAACxM,OAAH,CAAW,UAAS0M,CAAT,EAAYvP,CAAZ,EAAe;EACtBlC,QAAAA,CAAC,CAAC,gCAAgC0B,IAAhC,GAAuC,IAAxC,CAAD,CAA+C8K,GAA/C,CAAmDiF,CAAC,CAAC1Q,KAArD,EAA4D2Q,QAA5D,CAAqEnL,KAArE;EACH,OAFD;EAGH,KAJD,MAIO;EACHvG,MAAAA,CAAC,CAAC,gCAAgC0B,IAAhC,GAAuC,IAAxC,CAAD,CAA+C8K,GAA/C,CAAmD,EAAnD,EAAuDkF,QAAvD,CAAgEnL,KAAhE;EACH;EACJ,GAZD,CAjCyC;;EAgDzC,OAAKoL,SAAL,GAAiB,YAAW;EACxB,QAAI9N,IAAI,GAAG,KAAKoN,OAAL,EAAX;EAAA,QACI1K,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CADb;EAEA,SAAKmN,WAAL;EACA,SAAKY,cAAL;;EACA,QAAI,CAAC,KAAKjB,QAAN,IAAkB,KAAKA,QAAL,MAAmB,CAACpK,KAAK,CAACkC,IAAN,CAAW,aAAX,EAA0B,CAA1B,CAA1C,EAAwE;EACpElC,MAAAA,KAAK,CAACkC,IAAN,CAAW,uDAAX;EAAA,OACKc,IADL,CACU,UADV,EACsB,IADtB,EAEK2H,QAFL,CAEc,qBAFd;EAGA3K,MAAAA,KAAK,CAACkC,IAAN,CAAW,6BAAX,EACKc,IADL,CACU,UADV,EACsB,KADtB,EAEK2H,QAFL,CAEc,oBAFd,EAJoE;;EAOpE,UAAIW,IAAI,GAAG7R,CAAC,CAACuG,KAAK,CAACkC,IAAN,CAAW,0BAAX,EAAuC9D,GAAvC,CAA2C,UAASzC,CAAT,EAAY8H,EAAZ,EAAgB;EACpE,eAAOzD,KAAK,CAACkC,IAAN,CAAW,MAAMuB,EAAE,CAACjJ,KAApB,EAA2BoE,GAA3B,EAAP;EACH,OAFY,CAAD,CAAZ;;EAGA,UAAI0M,IAAI,CAACtQ,MAAL,GAAc,CAAlB,EAAqB;EAAE;EACnBsQ,QAAAA,IAAI,CAAC9P,IAAL,CAAU,UAASG,CAAT,EAAY4P,EAAZ,EAAgB;EACtB9R,UAAAA,CAAC,CAAC8R,EAAD,CAAD,CAAMrJ,IAAN,CAAW,QAAX,EAAqB1G,IAArB,CAA0B,UAASgQ,CAAT,EAAY/H,EAAZ,EAAgB;EACtC,gBAAI,mBAAmBgI,IAAnB,CAAwBhI,EAAE,CAACtI,IAA3B,CAAJ,EAAsC;EAClC,kBAAIuQ,IAAI,GAAGJ,IAAI,CAACK,GAAL,CAASJ,EAAT,EAAarJ,IAAb,CAAkB,kBAAkBuB,EAAE,CAACtI,IAArB,GAA4B,IAA9C,CAAX;;EACA,kBAAIuQ,IAAI,CAAC1Q,MAAT,EAAiB;EAAE;EACfa,gBAAAA,IAAI,CAACiP,YAAL,CAAkBrH,EAAlB,EADa;;EAEbiI,gBAAAA,IAAI,CAAClQ,IAAL,CAAU,YAAW;EACjBK,kBAAAA,IAAI,CAACiP,YAAL,CAAkB,IAAlB,EADiB;EAEpB,iBAFD;EAGH;EACJ;EACJ,WAVD;EAWH,SAZD;EAaH;;EACD,aAAO,IAAP;EACH,KA1BD,MA0BO;EACH,WAAKF,UAAL;EACH;;EACD,WAAO,KAAP;EACH,GAnCD,CAhDyC;;EAsFzC,OAAKgB,MAAL,GAAc,UAASC,MAAT,EAAiB;EAC3B,QAAIvO,IAAI,GAAG,KAAKoN,OAAL,EAAX;;EACA,QAAI,KAAKU,SAAL,EAAJ,EAAsB;EAClB,UAAIS,MAAJ,EACIvO,IAAI,CAACuO,MAAL,GAAcA,MAAd;EACJvO,MAAAA,IAAI,CAACsO,MAAL;EACH;;EACD,WAAO,KAAP;EACH,GARD,CAtFyC;;EAiGzC,OAAKE,OAAL,GAAe,UAAS3Q,IAAT,EAAe;EAC1BA,IAAAA,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAa,uCAAb,EAAsD,EAAtD,CAAP,CAD0B;;EAE1B,WAAO,KAAKiP,KAAL,CAAWrP,IAAX,CAAP;EACH,GAHD,CAjGyC;;EAuGzC,OAAK4Q,gBAAL,GAAwB,YAAW;EAC/B,QAAIvB,KAAK,GAAGtN,MAAM,CAAC6B,MAAP,CAAc,KAAKyL,KAAnB,CAAZ;;EACA,8BAAiBA,KAAjB,4BAAwB;EAAnB,UAAIwB,IAAI,aAAR;EACD,UAAIA,IAAI,CAACC,QAAL,IAAiBxS,CAAC,CAACyS,QAAF,CAAWF,IAAI,CAACC,QAAhB,CAArB,EACID,IAAI,CAACC,QAAL,GAAgBxS,CAAC,CAAC0S,SAAF,CAAYH,IAAI,CAACC,QAAjB,CAAhB;EACP;EACJ,GAND,CAvGyC;;EAgHzC,OAAKvB,OAAL,GAAe,YAAW;EACtB,QAAI,CAAC,KAAKV,QAAV,EAAoB;EAChB,WAAKD,QAAL,GAAgBtQ,CAAC,CAAC,MAAM,KAAKmK,EAAZ,CAAjB;;EACA,UAAI,KAAKmG,QAAL,CAAc7G,EAAd,CAAiB,MAAjB,CAAJ,EAA8B;EAAE;EAC5B,aAAK8G,QAAL,GAAgB,KAAKD,QAAL,CAAc,CAAd,CAAhB;EACH,OAFD,MAEO,IAAI,KAAKA,QAAL,CAAc7G,EAAd,CAAiB,KAAjB,CAAJ,EAA6B;EAAE;EAClC,aAAK8G,QAAL,GAAgB,KAAKD,QAAL,CAAchI,OAAd,CAAsB,MAAtB,EAA8B,CAA9B,CAAhB;EACH;EACJ;;EACD,WAAO,KAAKiI,QAAZ;EACH,GAVD,CAhHyC;;EA6HzC,OAAKoC,UAAL,GAAkB,UAASjR,IAAT,EAAe;EAC7B,QAAI,CAAC,KAAK4O,QAAV,EACI,KAAKA,QAAL,GAAgBtQ,CAAC,CAAC,MAAM,KAAKmK,EAAZ,CAAjB;EACJ,WAAQzI,IAAD,GAASyG,EAAE,CAACwK,UAAH,CAAcjR,IAAd,EAAoB,KAAK4O,QAAzB,CAAT,GAA8C,KAAKA,QAAL,CAAc,CAAd,CAArD;EACH,GAJD,CA7HyC;;EAoIzC,OAAKsC,WAAL,GAAmB,UAASlR,IAAT,EAAe;EAC9B,QAAI,CAAC,KAAK4O,QAAV,EACI,KAAKA,QAAL,GAAgBtQ,CAAC,CAAC,MAAM,KAAKmK,EAAZ,CAAjB;EACJ,QAAI0I,QAAQ,GAAG,YAAYnR,IAAZ,GAAmB,IAAlC;EACAmR,IAAAA,QAAQ,GAAG,UAAUA,QAAV,GAAqB,SAArB,GAAiCA,QAAjC,GAA4C,WAA5C,GAA0DA,QAA1D,GAAqE,SAArE,GAAiFA,QAA5F;EACA,QAAIZ,IAAI,GAAG,KAAK3B,QAAL,CAAc7H,IAAd,CAAmBoK,QAAnB,CAAX;EACA,WAAQZ,IAAI,CAAC1Q,MAAL,IAAe,CAAhB,GAAqB,IAArB,GAA6B0Q,IAAI,CAAC1Q,MAAL,IAAe,CAAf,IAAoB0Q,IAAI,CAACxI,EAAL,CAAQ,yCAAR,CAArB,GAA2EwI,IAAI,CAAC,CAAD,CAA/E,GAAqFA,IAAI,CAAC9M,GAAL,EAAxH;EACH,GAPD,CApIyC;EA8IzC;;EACA,OAAK2N,WAAL,GAAmB,UAASC,QAAT,EAAmB;EAClC,QAAIA,QAAQ,KAAK,IAAjB;EACI;EACJ,QAAI,CAAC/S,CAAC,CAACgT,QAAF,CAAWD,QAAX,CAAD,IAAyB,KAAK3C,MAAL,IAAe,MAA5C,EACI;EACJ,QAAIvM,IAAI,GAAG,KAAKoN,OAAL,EAAX;EAAA;EACIgC,IAAAA,OAAO,GAAGpP,IAAI,CAACqP,aAAL,CAAmB,eAAnB,CADd;;EAEA,QAAID,OAAO,IAAIA,OAAO,CAAClS,KAAR,IAAiB,SAAhC,EAA2C;EAAE;EACzCoH,MAAAA,EAAE,CAACgL,aAAH;EACA;EACH;;EACD,QAAIC,KAAK,GAAG,SAARA,KAAQ,CAACjJ,EAAD,EAAKkJ,QAAL,EAAkB;EAC1B,UAAI9P,CAAC,GAAG,EAAR;EAAA,UACIrB,CAAC,GAAG6Q,QADR;EAAA,UAEIxB,EAAE,GAAGpH,EAAE,CAACmJ,KAAH,CAAS,GAAT,CAFT;;EAGA,UAAI/B,EAAE,CAAChQ,MAAH,GAAY,CAAhB,EAAmB;EACfgC,QAAAA,CAAC,GAAGgO,EAAE,CAAC,CAAD,CAAN;EACArP,QAAAA,CAAC,GAAG,EAAJ;EACAiI,QAAAA,EAAE,GAAGoH,EAAE,CAAC,CAAD,CAAP;EACH;;EACD,UAAIgC,MAAM,GAAGvT,CAAC,CAACgT,QAAF,CAAW9Q,CAAX,IAAgB,MAAMA,CAAN,GAAU,GAA1B,GAAgC,IAA7C,CAT0B;;EAU1B,UAAIiI,EAAE,CAACgC,UAAH,CAAc,IAAd,CAAJ;EACIhC,QAAAA,EAAE,GAAGA,EAAE,CAACrI,OAAH,CAAW,KAAX,EAAkByR,MAAlB,CAAL,CADJ;EAGIpJ,QAAAA,EAAE,GAAGoJ,MAAM,GAAGpJ,EAAd;EACJ,UAAIkJ,QAAQ,IAAI,CAAClJ,EAAE,CAACqJ,QAAH,CAAY,IAAZ,CAAjB;EACIrJ,QAAAA,EAAE,IAAI,IAAN;EACJ,aAAO5G,CAAC,GAAGA,CAAC,GAAG,GAAJ,GAAU4G,EAAb,GAAkBA,EAA1B;EACH,KAjBD;;EAkBA,QAAI0I,QAAQ,GAAGpP,MAAM,CAACqB,OAAP,CAAe,KAAKiM,KAApB,EAA2BpM,GAA3B,CAA+B,gBAAgB;EAAA,UAAdwF,EAAc;EAAA,UAAVoI,IAAU;EAC1D,aAAO,YAAYa,KAAK,CAACjJ,EAAD,EAAKoI,IAAI,CAACc,QAAV,CAAjB,GAAuC,IAA9C;EACH,KAFc,EAEZI,IAFY,EAAf;;EAGA,QAAI,CAACZ,QAAD,IAAa,CAAChP,IAAI,CAACqP,aAAL,CAAmBL,QAAnB,CAAlB,EAAgD;EAAE;EAC9C1K,MAAAA,EAAE,CAACgL,aAAH;EACA;EACH;;EACD,QAAIO,OAAO,GAAG,EAAd;EAAA,QACIC,QAAQ,GAAG,EADf;EAEA,SAAKrB,gBAAL,GAtCkC;;EAuClC,wCAAuB7O,MAAM,CAACqB,OAAP,CAAe,KAAKiM,KAApB,CAAvB,uCAAmD;EAAA;EAAA,UAAzC5G,GAAyC;EAAA,UAArCoI,IAAqC;EAC/C,UAAIqB,OAAO,GAAGrB,IAAI,CAACsB,YAAL,CAAkBC,KAAlB,GAA0BnP,GAA1B,CAA8B,UAAAkE,MAAM;EAAA,eAAIuK,KAAK,CAACvK,MAAD,CAAT;EAAA,OAApC,CAAd;EAAA;EACIkL,MAAAA,IAAI,GAAGxB,IAAI,CAACwB,IADhB;EAEA5J,MAAAA,GAAE,GAAGiJ,KAAK,CAACjJ,GAAD,EAAKoI,IAAI,CAACc,QAAV,CAAV;;EACA,UAAIrT,CAAC,CAACgU,SAAF,CAAYD,IAAZ,CAAJ,EAAuB;EAAE;EACrB,YAAIE,OAAO,GAAGL,OAAO,CAACjP,GAAR,CAAY,UAAAkE,MAAM;EAAA,iBAAIV,EAAE,CAAC+L,eAAH,CAAmBrL,MAAnB,EAA2BhF,IAA3B,CAAJ;EAAA,SAAlB,CAAd,CADmB;;EAEnB6P,QAAAA,OAAO,CAAC9O,IAAR,CAAa,CAACuF,GAAD,EAAK8J,OAAL,EAAcF,IAAd,EAAoB,KAApB,CAAb;EACH,OAHD,MAGO;EAAE;EACL5L,QAAAA,EAAE,CAACgM,aAAH,CAAiBjP,IAAjB,CAAsB,IAAtB,EAA4BiF,GAA5B,EAAgCyJ,OAAhC,EAAyC,IAAzC,EAA+C,KAA/C;EACH;EACJ,KAjDiC;;EAmDlC,SAAK,IAAI1R,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwR,OAAO,CAACnS,MAA5B,EAAoCW,CAAC,EAArC,EAAyC;EACrCyR,MAAAA,QAAQ,CAAC/O,IAAT,CAAc,IAAIwP,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;EAChDC,QAAAA,UAAU,CAAC,YAAW;EAClBF,UAAAA,OAAO,CAAClM,EAAE,CAACgM,aAAH,CAAiBzP,KAAjB,CAAuBtC,IAAvB,EAA6BsR,OAAO,CAACc,KAAR,EAA7B,CAAD,CAAP;EACH,SAFS,EAEPrM,EAAE,CAACsM,UAAH,GAAgBvS,CAFT,CAAV,CADgD;EAInD,OAJa,CAAd;EAKH;;EACDkS,IAAAA,OAAO,CAACM,GAAR,CAAYf,QAAZ,EAAsBgB,IAAtB,CAA2B,YAAW;EAClC3U,MAAAA,CAAC,CAAC7B,QAAD,CAAD,CAAY+M,OAAZ,CAAoB,YAApB,EAAkC,CAAC;EAAC0J,QAAAA,MAAM,EAAExS,IAAT;EAAeuI,QAAAA,MAAM,EAAE9G;EAAvB,OAAD,CAAlC;EACH,KAFD,EAEGgR,KAFH,CAES,UAASC,KAAT,EAAgB;EACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH,KAJD;EAKH,GA/DD,CA/IyC;;EAiNzC,OAAKG,iBAAL,GAAyB,UAASC,QAAT,EAAmB;EACxC,QAAI7Q,OAAO,GAAGZ,MAAM,CAACtD,MAAP,CAAc;EACxBgV,MAAAA,KAAK,EAAEhN,EAAE,CAACiN,wBADc;EAExBvR,MAAAA,IAAI,EAAE;EAFkB,KAAd,EAGXsE,EAAE,CAACkN,mBAHQ,EAGaH,QAHb,CAAd,CADwC;;EAKxC9S,IAAAA,IAAI,CAAC0O,YAAL,CAAkBoE,QAAQ,CAAC/K,EAA3B,IAAiC,IAAIhC,EAAE,CAACmN,WAAP,CAAmBjR,OAAnB,CAAjC;EACH,GAND,CAjNyC;;EA0NzC,OAAKkR,WAAL,GAAmB,YAAW;EAC1B,QAAI1R,IAAI,GAAG,KAAKoN,OAAL,EAAX;EACAjR,IAAAA,CAAC,CAAC6D,IAAI,CAACE,QAAN,CAAD,CAAiB6E,MAAjB,CAAwB,iBAAxB,EAA2C7G,IAA3C,CAAgD,UAASG,CAAT,EAAY8H,EAAZ,EAAgB;EAC5D,UAAIwL,EAAE,GAAGxV,CAAC,CAACgK,EAAD,CAAD,CAAMhE,IAAN,CAAW,QAAX,CAAT;EACA,UAAIwP,EAAE,IAAI,CAACA,EAAE,CAACC,MAAV,IAAoB,CAACD,EAAE,CAAC9T,IAAH,CAAQuG,QAAR,CAAiB,YAAjB,CAAzB,EACIuN,EAAE,CAACzV,MAAH;EACP,KAJD;EAKH,GAPD,CA1NyC;;EAoOzC,OAAK6R,cAAL,GAAsB,UAASlQ,IAAT,EAAe;EACjC,QAAImC,IAAI,GAAG,KAAKoN,OAAL,EAAX;EACAjR,IAAAA,CAAC,CAAC6D,IAAI,CAACE,QAAN,CAAD,CAAiB6E,MAAjB,CAAwB,iBAAxB,EAA2C7G,IAA3C,CAAgD,UAASG,CAAT,EAAY8H,EAAZ,EAAgB;EAC5D,UAAIwL,EAAE,GAAGxV,CAAC,CAACgK,EAAD,CAAD,CAAMhE,IAAN,CAAW,QAAX,CAAT;EACA,UAAI,CAACwP,EAAD,IAAO9T,IAAI,IAAI8T,EAAE,CAAC9T,IAAH,IAAWA,IAA9B,EACI,OAAO,IAAP,CAHwD;;EAI5D8T,MAAAA,EAAE,CAACE,IAAH;EACA,UAAIhU,IAAJ,EACI,OAAO,KAAP,CANwD;EAO/D,KAPD;EAQH,GAVD,CApOyC;;EAiPzC,OAAKiU,aAAL,GAAqB,UAASjU,IAAT,EAAe;EAChC,QAAImC,IAAI,GAAG,KAAKoN,OAAL,EAAX;EACAjR,IAAAA,CAAC,CAAC6D,IAAI,CAACE,QAAN,CAAD,CAAiB6E,MAAjB,CAAwB,iBAAxB,EAA2C7G,IAA3C,CAAgD,UAASG,CAAT,EAAY8H,EAAZ,EAAgB;EAC5D,UAAIwL,EAAE,GAAGxV,CAAC,CAACgK,EAAD,CAAD,CAAMhE,IAAN,CAAW,QAAX,CAAT;EACA,UAAI,CAACwP,EAAD,IAAO9T,IAAI,IAAI8T,EAAE,CAAC9T,IAAH,IAAWA,IAA9B,EACI,OAAO,IAAP,CAHwD;;EAI5D8T,MAAAA,EAAE,CAACI,OAAH;EACA,UAAIlU,IAAJ,EACI,OAAO,KAAP,CANwD;EAO/D,KAPD;EAQH,GAVD,CAjPyC;;EA8PzC,OAAKmU,OAAL,GAAe,UAAS7L,EAAT,EAAa8L,GAAb,EAAkB;EAC7B,WAAO3N,EAAE,CAAC0N,OAAH,CAAW,IAAX,EAAiB7L,EAAjB,EAAqB8L,GAArB,CAAP;EACH,GAFD,CA9PyC;;EAmQzC,OAAKC,UAAL,GAAkB,YAAW;EACzB,QAAIlS,IAAI,GAAG,KAAKoN,OAAL,EAAX;EACAjR,IAAAA,CAAC,CAAC6D,IAAI,CAACE,QAAN,CAAD,CAAiB6E,MAAjB,CAAwB,yDAAxB,EAAmF7G,IAAnF,CAAwF,UAASyI,KAAT,EAAgB;EACpGxK,MAAAA,CAAC,CAACgW,KAAF,CAAQ7N,EAAE,CAACsM,UAAH,GAAgBjK,KAAxB,EAA+B,IAA/B,EAAqCrC,EAAE,CAAC8N,MAAxC,EAAgD,IAAhD,EADoG;EAEvG,KAFD;EAGH,GALD,CAnQyC;;EA2QzC,OAAKC,YAAL,GAAoB,UAASxO,CAAT,EAAYyO,OAAZ,EAAqB;EACrC,QAAIhM,EAAE,GAAG,KAAKA,EAAd;EAAA,QAAkBnE,IAAI,GAAG,KAAKoQ,UAAL,GAAkB,KAAKA,UAAL,CAAgBpQ,IAAlC,GAAyC,IAAlE;EAAA,QAAwEqQ,GAAG,GAAGrW,CAAC,CAAC,+BAA+BmK,EAA/B,GAAoC,GAArC,CAAD,CAA2CpB,WAA3C,CAAuD,UAAvD,EAAmE,CAAC/C,IAApE,CAA9E;EAAA,QACIsQ,GAAG,GAAGtW,CAAC,CAAC,iCAAiCmK,EAAjC,GAAsC,GAAvC,CAAD,CAA6CpB,WAA7C,CAAyD,UAAzD,EAAqE,CAACoN,OAAO,CAAC5U,MAA9E,EAAsFwH,WAAtF,CAAkG,iBAAlG,EAAqH,CAAC,CAACoN,OAAO,CAAC5U,MAA/H,CADV;EAAA,QAEIgV,OAAO,GAAGD,GAAG,CAACzN,MAAJ,CAAW,IAAX,EAAiBE,WAAjB,CAA6B,iCAA7B,EAAgE,CAAC,CAACoN,OAAO,CAAC5U,MAA1E,EAAkFwH,WAAlF,CAA8F,UAA9F,EAA0G,CAACoN,OAAO,CAAC5U,MAAnH,CAFd;EAAA,QAGIiV,KAAK,GAAGH,GAAG,CAACxN,MAAJ,CAAW,IAAX,EAAiBE,WAAjB,CAA6B,UAA7B,EAAyC,CAAC/C,IAA1C,CAHZ;EAAA,QAIIsD,IAAI,GAAGtJ,CAAC,CAAC0H,CAAC,CAACiD,MAAH,CAJZ;;EAKA,QAAI8L,WAAW,GAAG,SAAdA,WAAc,CAAStM,EAAT,EAAagM,OAAb,EAAsB;EACpC,UAAIhO,EAAE,CAACuO,oBAAH,IAA2B,QAA/B,EAAyC;EACrCvU,QAAAA,MAAM,CAACwU,YAAP,CAAoBC,OAApB,CAA4BzM,EAAE,GAAG,UAAjC,EAA6C0M,IAAI,CAACC,SAAL,CAAeX,OAAf,CAA7C;EACH,OAFD,MAEO,IAAIhO,EAAE,CAACuO,oBAAH,IAA2B,QAA/B,EAAyC;EAC5C,YAAIK,KAAK,GAAG/W,CAAC,CAAC,MAAD,CAAb;EACA+W,QAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAhX,QAAAA,CAAC,CAAC+T,IAAF,CAAO5L,EAAE,CAAC8O,WAAH,EAAP,EAAyB;EACrB/V,UAAAA,IAAI,EAAE,MADe;EAErBgW,UAAAA,QAAQ,EAAE,MAFW;EAGrBlR,UAAAA,IAAI,EAAE;EAAE,oBAAQ,aAAV;EAAyB,uBAAW6Q,IAAI,CAACC,SAAL,CAAeX,OAAf;EAApC;EAHe,SAAzB,EAIGgB,IAJH,CAIQ,UAASC,MAAT,EAAiB;EACrB,cAAIA,MAAM,CAAC,CAAD,CAAN,IAAaA,MAAM,CAAC,CAAD,CAAN,CAAUC,OAA3B,EACIjV,IAAI,CAACgU,UAAL,CAAgBD,OAAhB,GAA0BA,OAA1B,CAFiB;EAGxB,SAPD,EAOGmB,MAPH,CAOU,YAAW;EACjBP,UAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,SATD;EAUH;EACJ,KAjBD;;EAkBAR,IAAAA,KAAK,CAAC7N,GAAN,CAAU,UAAV,EAAsBQ,EAAtB,CAAyB,UAAzB,EAAqC,UAASzB,CAAT,EAAY;EAAE;EAC/C,UAAI8O,KAAK,CAACnN,QAAN,CAAe,UAAf,CAAJ,EACI,OAAO,KAAP;EACJlB,MAAAA,EAAE,CAACoP,MAAH,CAAUpP,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,iBAAnB,CAAV,EAAiD,UAAC3G,IAAD,EAAU;EACvD,YAAIA,IAAJ,EAAU;EACNyU,UAAAA,OAAO,CAACvR,IAAR,CAAa,CAAClD,IAAD,EAAOsE,IAAP,CAAb;EACAyQ,UAAAA,WAAW,CAACtM,EAAD,EAAKgM,OAAL,CAAX;EACH;EACJ,OALD,EAKG,IALH;EAMH,KATD,EASGqB,OATH,GASaC,MATb;EAUAnB,IAAAA,GAAG,CAACtN,IAAJ,CAAS,kBAAT,EAA6ByO,MAA7B;;EACA,QAAItB,OAAO,CAAC5U,MAAZ,EAAoB;EAChB,UAAImW,QAAQ,GAAG1X,CAAC,CAAC,iCAAD,CAAhB;;EACA,WAAK,IAAIkC,CAAT,IAAciU,OAAd,EAAuB;EACnB,YAAI,CAACwB,KAAK,CAACC,OAAN,CAAczB,OAAO,CAACjU,CAAD,CAArB,CAAL,EACI;EACJlC,QAAAA,CAAC,CAAC,8CAA8CkC,CAA9C,GAAkD,qCAAlD,GAA0FiU,OAAO,CAACjU,CAAD,CAAP,CAAW,CAAX,CAA1F,GAA0G,WAA3G,CAAD,CAAyHiH,EAAzH,CAA4H,OAA5H,EAAqI,UAASzB,CAAT,EAAY;EAAE;EAC/I,cAAIxF,CAAC,GAAGlC,CAAC,CAAC,IAAD,CAAD,CAAQyI,IAAR,CAAa,eAAb,EAA8BzC,IAA9B,CAAmC,OAAnC,CAAR;EACAmC,UAAAA,EAAE,CAACoP,MAAH,CAAUpP,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CvG,OAA1C,CAAkD,IAAlD,EAAwDqU,OAAO,CAACjU,CAAD,CAAP,CAAW,CAAX,CAAxD,CAAV,EAAkF,UAACkV,MAAD,EAAY;EAC1F,gBAAIA,MAAJ,EAAY;EACRjB,cAAAA,OAAO,CAAC0B,MAAR,CAAe3V,CAAf,EAAkB,CAAlB;EACAuU,cAAAA,WAAW,CAACtM,EAAD,EAAKgM,OAAL,CAAX;EACH;EACJ,WALD;EAMH,SARD,EAQGzE,QARH,CAQYgG,QARZ;EASA1X,QAAAA,CAAC,CAAC,6DAA6DkC,CAA7D,GAAiE,qCAAjE,GAAyGiU,OAAO,CAACjU,CAAD,CAAP,CAAW,CAAX,CAAzG,GAAyH,WAA1H,CAAD,CAAwI4V,YAAxI,CAAqJtB,KAArJ,EAA4JrN,EAA5J,CAA+J,OAA/J,EAAwK,UAASzB,CAAT,EAAY;EAChL,cAAIxF,CAAC,GAAGlC,CAAC,CAAC,IAAD,CAAD,CAAQyI,IAAR,CAAa,eAAb,EAA8BzC,IAA9B,CAAmC,OAAnC,CAAR;EACAhG,UAAAA,CAAC,CAAC,QAAD,CAAD,CAAY4K,IAAZ,CAAiB;EAACmN,YAAAA,MAAM,EAAE,MAAT;EAAiB3F,YAAAA,MAAM,EAAEjK,EAAE,CAAC8O,WAAH;EAAzB,WAAjB,EACK7S,MADL,CACYpE,CAAC,CAAC,uBAAD,CAAD,CAA2B4K,IAA3B,CAAgC;EAAClJ,YAAAA,IAAI,EAAE,KAAP;EAAcX,YAAAA,KAAK,EAAE;EAArB,WAAhC,CADZ,EAEQf,CAAC,CAAC,uBAAD,CAAD,CAA2B4K,IAA3B,CAAgC;EAAClJ,YAAAA,IAAI,EAAEyG,EAAE,CAAC6P,cAAV;EAA0BjX,YAAAA,KAAK,EAAEoH,EAAE,CAAC8P;EAApC,WAAhC,CAFR;EAGQjY,UAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B4K,IAA3B,CAAgC;EAAClJ,YAAAA,IAAI,EAAEyG,EAAE,CAAC+P,qBAAV;EAAiCnX,YAAAA,KAAK,EAAEoH,EAAE,CAACgQ;EAA3C,WAAhC,CAHR;EAIQnY,UAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B4K,IAA3B,CAAgC;EAAClJ,YAAAA,IAAI,EAAE,QAAP;EAAiBX,YAAAA,KAAK,EAAE8V,IAAI,CAACC,SAAL,CAAeX,OAAO,CAACjU,CAAD,CAAP,CAAW,CAAX,CAAf;EAAxB,WAAhC,CAJR,EAKKwP,QALL,CAKc,MALd,EAKsBS,MALtB;EAMH,SARD;EASH;;EACDnS,MAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwC8X,YAAxC,CAAqDtB,KAArD;EACAD,MAAAA,OAAO,CAACnS,MAAR,CAAesT,QAAf;EACH;EACJ,GA9DD,CA3QyC;;EA4UzC,OAAKxR,IAAL,GAAY,YAAW;EACnB,QAAI,KAAKmK,UAAT,EACI,OAFe;;EAKnB,QAAIlI,EAAE,CAACuO,oBAAH,IAA2B,QAA3B,IAAuCvU,MAAM,CAACwU,YAA9C,IAA8DxO,EAAE,CAACuO,oBAAH,IAA2B,QAA3B,IAAuCvO,EAAE,CAACiQ,WAA1C,IAAyD,CAACjQ,EAAE,CAACkQ,YAA7D,IAA6ElQ,EAAE,CAACmQ,iBAAH,IAAwB,EAAvK,EAA2K;EACvKtY,MAAAA,CAAC,CAAC,uBAAuB,KAAKmK,EAA5B,GAAiC,mBAAlC,CAAD,CAAwDhB,EAAxD,CAA2D,kBAA3D,EAA+E,UAASzB,CAAT,EAAY;EACvF,YAAIyO,OAAO,GAAG,EAAd;;EACA,YAAIhO,EAAE,CAACuO,oBAAH,IAA2B,QAA/B,EAAyC;EACrC,cAAI6B,IAAI,GAAGpW,MAAM,CAACwU,YAAP,CAAoB6B,OAApB,CAA4BpW,IAAI,CAAC+H,EAAL,GAAU,UAAtC,CAAX;EACA,cAAIoO,IAAJ,EACIpC,OAAO,GAAGhO,EAAE,CAACsQ,SAAH,CAAaF,IAAb,KAAsB,EAAhC;EACP,SAJD,MAIO,IAAIpQ,EAAE,CAACuO,oBAAH,IAA2B,QAA/B,EACHP,OAAO,GAAG/T,IAAI,CAACgU,UAAL,IAAmBhU,IAAI,CAACgU,UAAL,CAAgBD,OAAnC,GAA6C/T,IAAI,CAACgU,UAAL,CAAgBD,OAA7D,GAAuE,EAAjF;;EACJ,YAAI5E,EAAE,GAAGvR,CAAC,CAAC0Y,IAAF,CAAOvC,OAAP,EAAgB,UAAS3J,GAAT,EAAc;EACnC,cAAImL,KAAK,CAACC,OAAN,CAAcpL,GAAd,KAAsBA,GAAG,CAACjL,MAAJ,IAAc,CAAxC,EACI,OAAOiL,GAAP;EACP,SAHQ,CAAT;EAIApK,QAAAA,IAAI,CAAC8T,YAAL,CAAkBxO,CAAlB,EAAqB6J,EAArB;EACH,OAbD;EAcAvR,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBsK,IAAvB;EACH,KAhBD,MAgBO;EACHtK,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBiJ,IAAvB;EACH,KAvBkB;;EA0BnB,QAAIpF,IAAI,GAAG,KAAKoN,OAAL,EAAX;EAAA,QACI1K,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CADb;EAEA,QAAI,CAACA,IAAL,EACI,OA7Be;;EAgCnB,SAAKyO,gBAAL,GAhCmB;;EAmCnB,QAAIqG,QAAQ,GAAG,aAAa3G,IAAb,CAAkB,KAAK7H,EAAvB,CAAf,CAnCmB;;EAsCnB,QAAIwO,QAAQ,IAAI,KAAKnI,eAAjB,IAAoC,CAACrI,EAAE,CAACyQ,WAAH,CAAe/U,IAAf,CAAzC,EACI7D,CAAC,CAAC,MAAM,KAAKmK,EAAX,GAAgB,eAAjB,CAAD,CAAmCiH,WAAnC,CAA+C,MAA/C,EAvCe;;EA0CnBpR,IAAAA,CAAC,CAAC,iCAAiC,KAAKmK,EAAtC,GAA2C,GAA5C,CAAD,CAAkDhB,EAAlD,CAAqD,iBAArD,EAAwE,YAAW;EAC/EnJ,MAAAA,CAAC,CAAC,MAAMA,CAAC,CAAC,IAAD,CAAD,CAAQgG,IAAR,CAAa,MAAb,CAAN,GAA6B,eAA9B,CAAD,CAAgD6S,QAAhD,CAAyD,QAAzD;EACH,KAFD,EA1CmB;;EA+CnB,QAAI,CAAC7Y,CAAC,CAAC,+BAAD,CAAD,CAAmC8Y,IAAnC,GAA0CnN,IAA1C,EAAL,EACI3L,CAAC,CAAC,+BAAD,CAAD,CAAmC6I,MAAnC,CAA0C,IAA1C,EAAgDI,IAAhD,GAhDe;;EAmDnB,QAAI0P,QAAJ,EAAc;EACV3Y,MAAAA,CAAC,CAAC,6BAA6B,KAAKmK,EAAlC,GAAuC,GAAxC,CAAD,CAA8ChB,EAA9C,CAAiD,iBAAjD,EAAoE,YAAW;EAC3EnJ,QAAAA,CAAC,CAAC,UAAUA,CAAC,CAAC,IAAD,CAAD,CAAQgG,IAAR,CAAa,MAAb,CAAX,CAAD,CAAkC+C,WAAlC,CAA8C,qBAA9C;EACH,OAFD;EAGH,KAvDkB;;EA0DnB,QAAI4P,QAAJ,EAAc;EAAE;EACZpS,MAAAA,KAAK,CAACkC,IAAN,CAAW,gBAAX,EAA6B1G,IAA7B,CAAkC,YAAW;EACzC,YAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAD,CAAQ+Y,MAAR,EAAZ;EACA,YAAI3P,KAAK,CAACoD,GAAN,MAAe,SAAnB,EACIjG,KAAK,CAACkC,IAAN,CAAW,QAAQ,KAAK0B,EAAL,CAAQnC,MAAR,CAAe,CAAf,CAAnB,EAAsC+Q,MAAtC;EACP,OAJD;EAKH,KAhEkB;;EAmEnB,QAAI,KAAKlI,SAAT,EACI,KAAKA,SAAL,CAAetG,MAAf,GApEe;;EAuEnByO,IAAAA,MAAM,CAACC,KAAP,CAAa,CAAC,QAAD,CAAb,EAAyB,KAAK1D,WAAL,CAAiB1V,IAAjB,CAAsB,IAAtB,CAAzB,EAvEmB;;EA0EnB,SAAKiT,WAAL,GA1EmB;;EA6EnB,SAAKiD,UAAL,GA7EmB;;EAgFnB,QAAI,KAAKzF,QAAL,CAAc7G,EAAd,CAAiB,MAAjB,CAAJ,EAA8B;EAAE;EAC5B;EACA,WAAK6G,QAAL,CAAc7H,IAAd,CAAmB,kDAAnB,EAAuEU,EAAvE,CAA0E,cAA1E,EAA0F,UAASzB,CAAT,EAAY;EAClG,YAAIwR,IAAI,GAAGlZ,CAAC,CAAC0H,CAAC,CAACiD,MAAF,CAASwO,YAAT,CAAsB,MAAtB,CAAD,CAAZ;EAAA,YACIC,MAAM,GAAGF,IAAI,CAACzQ,IAAL,CAAU,wCAAV,CADb;EAAA,YAEI4Q,UAAU,GAAGH,IAAI,CAAC5Q,OAAL,CAAa,kBAAb,CAFjB;EAGA,YAAI8Q,MAAM,CAACE,KAAP,MAAkBD,UAAU,CAACC,KAAX,EAAtB,EACIF,MAAM,CAACE,KAAP,CAAaD,UAAU,CAACC,KAAX,KAAqB,IAAlC,EADJ,KAGIF,MAAM,CAACE,KAAP,CAAa,MAAb;EACP,OARD;EASA/S,MAAAA,KAAK,CAAC4L,MAAN,CAAa,UAASzK,CAAT,EAAY;EAAE;EACvB,eAAOtF,IAAI,CAAC+P,MAAL,EAAP;EACH,OAFD;EAGA5L,MAAAA,KAAK,CAACkC,IAAN,CAAW,wBAAX,EAAqCsQ,MAArC,CAA4C,YAAW;EACnD,YAAI5Q,EAAE,CAACoR,cAAP,EACInX,IAAI,CAACqO,QAAL,GAAgB,IAAhB;EACP,OAHD;EAIAlK,MAAAA,KAAK,CAACkC,IAAN,CAAW,wBAAX,EAAqCC,KAArC,CAA2C,YAAW;EAAE;EACpDtG,QAAAA,IAAI,CAACwP,cAAL;EACA,YAAI4H,IAAI,GAAGxZ,CAAC,CAAC,IAAD,CAAD,CAAQgG,IAAR,CAAa,MAAb,CAAX;;EACA,YAAI5D,IAAI,CAACqO,QAAL,IAAiBtI,EAAE,CAACyQ,WAAH,CAAe/U,IAAf,CAArB,EAA2C;EACvCsE,UAAAA,EAAE,CAACoP,MAAH,CAAUpP,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB,CAAV,EAA+C,UAAC+O,MAAD,EAAY;EACvD,gBAAIA,MAAJ,EACIjV,MAAM,CAACsX,QAAP,GAAkBD,IAAlB;EACP,WAHD;EAIH,SALD,MAKO;EACHrX,UAAAA,MAAM,CAACsX,QAAP,GAAkBD,IAAlB;EACH;EACJ,OAXD;EAYH;;EAED,SAAKnJ,UAAL,GAAkB,IAAlB,CAhHmB;;EAmHnB,SAAKC,QAAL,CAActK,IAAd,CAAmB,MAAnB,EAA2B,IAA3B;EACH,GApHD,CA5UyC;;EAmczCmC,EAAAA,EAAE,CAACuR,KAAH,CAASC,GAAT,CAAa,IAAb;EACH;;ECvcD;;;MAGqBC;EAUjB;;;;;;EAMA,iBAAYC,MAAZ,EAAoBC,UAApB,EAAgCC,OAAhC,EAAyC;EAAA,kCAflC,EAekC;;EAAA,wCAd5B,EAc4B;;EAAA,uCAV7B,IAU6B;;EACrC,SAAKrY,IAAL,GAAYmY,MAAZ;;EACA,QAAIlC,KAAK,CAACC,OAAN,CAAckC,UAAd,CAAJ,EAA+B;EAC3B,2DAAsBA,UAAtB;EAAA,YAASE,SAAT;EACI,aAAKC,YAAL,CAAkBD,SAAlB;EADJ;EAEH,KAHD,MAGO,IAAI,OAAOF,UAAP,KAAsB,UAA1B,EAAsC;EACzC,WAAKG,YAAL,CAAkBH,UAAlB;EACH;;EACD,SAAKC,OAAL,GAAeA,OAAf;EACH;EAED;;;;;;;WAIAE,eAAA,sBAAaD,SAAb,EAAwB;EACpB,QAAI,OAAOA,SAAP,KAAqB,UAAzB,EACI,KAAKF,UAAL,CAAgBlV,IAAhB,CAAqBoV,SAArB;EACP;EAED;;;;;;EAQA;;;;WAIAE,WAAA,kBAAS1M,GAAT,EAAc;EACV,QAAIA,GAAJ,EAAS;EAAA;;EACL,UAAIsH,KAAK,mBAAG,KAAKqF,MAAR,uDAAkB,EAA3B;EACA,WAAKA,MAAL,qCAAmBrF,KAAnB,GAA6BtH,GAA7B;EACA,WAAKuM,OAAL,GAAe,IAAf;EACH;EACJ;EAED;;;;;WAGAK,cAAA,uBAAc;EACV,SAAKD,MAAL,GAAc,IAAd;EACA,SAAKJ,OAAL,GAAe,KAAf;EACH;EAED;;;;;WAGAM,kBAAA,2BAAkB;EACd,SAAKP,UAAL,GAAkB,EAAlB;EACH;EAED;;;;;;EA0CA;;;;WAIAnJ,WAAA,oBAAW;EACP,QAAIyG,MAAM,GAAG,IAAb;EACA,SAAKgD,WAAL,GAFO;;EAGP,QAAI,KAAKE,QAAL,IAAiB,KAAKC,cAA1B,EAA0C;EACtC,UAAI5C,KAAK,CAACC,OAAN,CAAc,KAAKkC,UAAnB,CAAJ,EAAoC;EAChC,8DAAsB,KAAKA,UAA3B,2CAAuC;EAAA,cAA9BE,SAA8B;EACnC,cAAIxM,GAAG,GAAGwM,SAAS,CAAC,KAAKM,QAAN,CAAnB;;EACA,cAAI9M,GAAG,KAAK,KAAZ,EAAmB;EACf,iBAAK0M,QAAL,CAAc1M,GAAd;EACA4J,YAAAA,MAAM,GAAG,KAAT;EACH;EACJ;;EACD,aAAKoD,cAAL;EACH;EACJ;;EACD,WAAOpD,MAAP;EACH;EAED;;;;;WAGAoD,iBAAA,0BAAiB;EACb,QAAIhN,GAAG,GAAG,KAAKiN,YAAf;;EACA,QAAI,KAAKH,QAAL,IAAiB9M,GAArB,EAA0B;EACtBkN,MAAAA,MAAM,CAAC,KAAKJ,QAAN,CAAN,CAAsBhS,OAAtB,CAA8B,wBAA9B,EAAwDG,IAAxD,CAA6D,mBAA7D,EAAkFkS,IAAlF,CAAuFnN,GAAvF;EACArF,MAAAA,EAAE,CAACyS,UAAH,CAAc,KAAKN,QAAnB;EACH;EACJ;EAED;;;;;WAGAO,QAAA,iBAAQ;EACJ,QAAI,KAAKP,QAAT,EACInS,EAAE,CAAC2S,QAAH,CAAY,KAAKR,QAAjB;EACP;;;;0BAhHW;EACR,aAAO,KAAKH,MAAZ;EACH;;;0BAiCkB;EACf,UAAI,KAAKA,MAAT,EAAiB;EACb,eAAOxC,KAAK,CAACoD,IAAN,CAAWtX,MAAM,CAAC6B,MAAP,CAAc,KAAK6U,MAAnB,CAAX,EAAuC1G,IAAvC,CAA4C,MAA5C,CAAP;EACH;;EACD,aAAO,EAAP;EACH;EAED;;;;;;0BAGqB;EACjB,aAAO,CAAC,KAAKuH,SAAN,IAAmB,KAAKA,SAAL,CAAexW,OAAzC;EACH;EAED;;;;;;wBAGYwF,IAAI;EAAA;;EACZ,WAAKsQ,QAAL,GAAgBtQ,EAAhB;EACA,WAAKgR,SAAL,GAAiB,wBAAKV,QAAL,uFAAenQ,EAAf,wEAAmByC,KAAnB,CAAyB,QAAzB,KAAqCzO,QAAQ,CAACuN,cAAT,CAAwB,KAAK4O,QAAL,CAAcnQ,EAAd,CAAiBrI,OAAjB,CAAyB,QAAzB,EAAmC,IAAnC,CAAxB,CAArC,GAAyG,IAA1H,CAFY;EAGf;EAED;;;;;0BAIc;EACV,aAAO,KAAKwY,QAAZ;EACH;EAED;;;;;;;0BAIY;EACR,aAAO,KAAKA,QAAL,GAAgBnS,EAAE,CAACiF,QAAH,CAAY,KAAKkN,QAAjB,CAAhB,GAA6C,EAApD;EACH;;;;;;EC/GL;;;;MAGqBW;;;EAOjB;;;;;EAKA,gBAAY9Q,EAAZ,EAAgBiG,MAAhB,EAAwB;EAAA;;EACpB,iCAAMjG,EAAN,EAAUiG,MAAV;;EADoB,0DAXlB,EAWkB;;EAAA,6DAVf,EAUe;;EAAA;EAEvB;EAED;;;;;;;;;WAMA8K,WAAA,kBAASrB,MAAT,EAAiBC,UAAjB,EAA6BC,OAA7B,EAAsC;EAClC,QAAI,EAAEF,MAAM,IAAI,KAAKsB,MAAjB,CAAJ,EACI,KAAKA,MAAL,CAAYtB,MAAZ,IAAsB,IAAID,KAAJ,CAAUC,MAAV,EAAkBC,UAAlB,EAA8BC,OAA9B,CAAtB;EACP;EAED;;;;;;;WAKAqB,WAAA,kBAASvB,MAAT,EAAiB;EACb,WAAO,KAAKsB,MAAL,CAAYtB,MAAZ,CAAP;EACH;EAED;;;;;;WAIAwB,YAAA,mBAAUF,MAAV,EAAkB;EACd,QAAIxD,KAAK,CAACC,OAAN,CAAcuD,MAAd,CAAJ,EAA2B;EACvB,2DAAkBA,MAAlB,wCAA0B;EAAA,YAAjBG,KAAiB;;EACtB,YAAI3D,KAAK,CAACC,OAAN,CAAc0D,KAAd,CAAJ,EAA0B;EACtB,eAAKJ,QAAL,CAAcxW,KAAd,CAAoB,IAApB,EAA0B4W,KAA1B;EACH;EACJ;EACJ;EACJ;EAED;;;;;;;WAKApB,WAAA,kBAASL,MAAT,EAAiBrM,GAAjB,EAAsB;EAClB,QAAIA,GAAJ,EAAS;EAAA;;EACL,WAAK2M,MAAL,mBAAc,KAAKA,MAAnB,uDAA6B,EAA7B;EACA,WAAKA,MAAL,CAAYN,MAAZ,IAAsBrM,GAAtB;EACH;EACJ;EAED;;;;;;;WAKA+N,iBAAA,wBAAe1B,MAAf,EAAuB/D,GAAvB,EAA4B;EACxB,QAAI+D,MAAM,IAAI,KAAKsB,MAAnB,EAA2B;EACvB,UAAIG,KAAK,GAAG,KAAKH,MAAL,CAAYtB,MAAZ,CAAZ;EAAA,UACIrM,GAAG,GAAG;EAAEqC,QAAAA,MAAM,EAAEiG;EAAV,OADV;EAEAwF,MAAAA,KAAK,CAACpB,QAAN,CAAe1M,GAAf;EACA8N,MAAAA,KAAK,CAACd,cAAN;EACA,WAAKN,QAAL,CAAcL,MAAd,EAAsBrM,GAAtB;EACH;;EACD,WAAO,KAAP;EACH;EAED;;;;;EAOA;;;WAGAqN,QAAA,iBAAQ;EACJ,uCAA4BpX,MAAM,CAACqB,OAAP,CAAe,KAAKqW,MAApB,CAA5B,qCAAyD;EAAA;EAAA,UAA/CtB,MAA+C;EAAA,UAAvCyB,KAAuC;;EACrD,UAAIA,KAAK,CAACvB,OAAN,IAAiB,KAAKI,MAAL,IAAe,KAAKA,MAAL,CAAYN,MAAZ,CAApC,EAAyD;EACrDyB,QAAAA,KAAK,CAACT,KAAN;EACA,aAAKW,WAAL,CAAiBF,KAAK,CAACG,OAAvB;EACA;EACH;EACJ;EACJ;EAED;;;;;;WAIAD,cAAA,qBAAYxR,EAAZ,EAAgB;EACZ,QAAI,KAAK6G,SAAT,EAAoB;EAAE;EAClB,WAAKA,SAAL,CAAe9G,iBAAf,CAAiCC,EAAjC;EACH,KAFD,MAEO,IAAI,KAAKsG,QAAL,CAAc7G,EAAd,CAAiB,KAAjB,CAAJ,EAA6B;EAAE;EAClC,UAAIiS,KAAK,GAAG,KAAKpL,QAAL,CAAchI,OAAd,CAAsB,WAAtB,CAAZ;EACA,UAAIoT,KAAK,CAAC,CAAD,CAAL,IAAY,CAACA,KAAK,CAACrS,QAAN,CAAe,QAAf,CAAjB,EACIqS,KAAK,CAACpT,OAAN,CAAc,yBAAd,EAAyCG,IAAzC,CAA8C,+BAA+BiT,KAAK,CAAC9Q,IAAN,CAAW,IAAX,CAA/B,GAAkD,IAAhG,EAAsGlC,KAAtG;EACP;EACJ;EAED;;;;;;WAIAiT,iBAAA,wBAAeC,QAAf,EAAyB;EACrB,SAAKA,QAAL,GAAgBA,QAAhB,aAAgBA,QAAhB,cAAgBA,QAAhB,GAA4B,EAA5B;EACA,SAAKC,GAAL,GAAW,EAAX;EACA,SAAK1B,MAAL,GAAc,IAAd,CAHqB;;EAIrB,QAAI/C,MAAM,GAAG,IAAb;;EACA,uCAAkB3T,MAAM,CAAC6B,MAAP,CAAc,KAAK6V,MAAnB,CAAlB,sCAA8C;EAAzC,UAAIG,KAAK,sBAAT;EACDA,MAAAA,KAAK,CAACG,OAAN,GAAgB,KAAK7I,WAAL,OAAqB,KAAKgJ,QAA1B,SAAsCN,KAAK,CAAC5Z,IAA5C,CAAhB,CAD0C;;EAE1C,UAAI,CAAC4Z,KAAK,CAACG,OAAX,EACIH,KAAK,CAACG,OAAN,GAAgB,KAAK7I,WAAL,OAAqB,KAAKgJ,QAA1B,SAAsCN,KAAK,CAAC5Z,IAA5C,QAAhB,CAHsC;;EAI1C,UAAI,CAAC4Z,KAAK,CAACG,OAAX,EACIH,KAAK,CAACG,OAAN,GAAgB,KAAK7I,WAAL,CAAiB0I,KAAK,CAAC5Z,IAAvB,CAAhB,CALsC;;EAM1C,WAAKma,GAAL,CAASP,KAAK,CAAC5Z,IAAf,IAAuB4Z,KAAK,CAACva,KAA7B,CAN0C;;EAO1C,UAAI,CAACua,KAAK,CAAC3K,QAAN,EAAL,EAAuB;EAAE;EACrB,aAAKuJ,QAAL,CAAcoB,KAAK,CAAC5Z,IAApB,EAA0B4Z,KAAK,CAACxG,KAAhC;EACAsC,QAAAA,MAAM,GAAG,KAAT;EACH;EACJ,KAhBoB;;EAkBrB,QAAI,CAAC,KAAKrW,KAAV,EAAiB;EACb,WAAKA,KAAL,sBAAkB,KAAK8a,GAAvB;EACH,KAFD,MAEO;EACH,UAAI,CAAClE,KAAK,CAACC,OAAN,CAAc,KAAK7W,KAAnB,CAAL,EACI,KAAKA,KAAL,GAAa,CAAC,KAAKA,KAAN,CAAb;EACJ,UAAIyJ,KAAK,GAAGP,QAAQ,CAAC2R,QAAD,EAAW,EAAX,CAAR,IAA0B,CAAtC;EACApR,MAAAA,KAAK,GAAIA,KAAK,GAAG,CAAT,GAAcA,KAAK,GAAG,CAAtB,GAA0B,CAAlC;EACA,WAAKzJ,KAAL,CAAWyJ,KAAX,uBAAyB,KAAKqR,GAA9B;EACH;;EACD,SAAKhB,KAAL;EAEA,WAAOzD,MAAP;EACH;EAED;;;;;;WAIAwD,aAAA,oBAAWgB,QAAX,EAAqB;EACjB,SAAKA,QAAL,GAAgBA,QAAhB,aAAgBA,QAAhB,cAAgBA,QAAhB,GAA4B,EAA5B;;EACA,wCAAkBnY,MAAM,CAAC6B,MAAP,CAAc,KAAK6V,MAAnB,CAAlB,uCAA8C;EAAzC,UAAIG,KAAK,uBAAT;EACD,UAAI,CAACA,KAAK,CAACvB,OAAX,EACI;EACJuB,MAAAA,KAAK,CAACG,OAAN,GAAgB,KAAK7I,WAAL,OAAqB,KAAKgJ,QAA1B,SAAsCN,KAAK,CAAC5Z,IAA5C,CAAhB,CAH0C;;EAI1C,UAAI,CAAC4Z,KAAK,CAACG,OAAX,EACIH,KAAK,CAACG,OAAN,GAAgB,KAAK7I,WAAL,OAAqB,KAAKgJ,QAA1B,SAAsCN,KAAK,CAAC5Z,IAA5C,QAAhB,CALsC;;EAM1C,UAAI,CAAC4Z,KAAK,CAACG,OAAX,EACIH,KAAK,CAACG,OAAN,GAAgB,KAAK7I,WAAL,CAAiB0I,KAAK,CAAC5Z,IAAvB,CAAhB,CAPsC;;EAQ1CyG,MAAAA,EAAE,CAACyS,UAAH,CAAcU,KAAK,CAACG,OAApB;EACH;EACJ;;;;0BAnFW;EACR,aAAO,KAAKtB,MAAZ;EACH;;;;IAnF6BhK;;MCHb2L;EAGjB;;;;;;;;EAQA,sBAAY5G,QAAZ,EAAsB;EAAA,4CAVL,IAUK;;EAClB,SAAK6G,SAAL,GAAiB7G,QAAQ,CAAC/K,EAA1B,CADkB;;EAElB,SAAKtG,IAAL,GAAYqR,QAAQ,CAACrR,IAArB,CAFkB;;EAGlB,QAAI7D,CAAC,CAACyS,QAAF,CAAW,KAAK5O,IAAhB,CAAJ;EACI,WAAKA,IAAL,GAAYsE,EAAE,CAACuR,KAAH,CAASvU,GAAT,CAAa,KAAKtB,IAAlB,CAAZ;EACJ,SAAK4X,OAAL,GAAe,KAAK5X,IAAL,CAAU8O,UAAV,CAAqB,KAAKoJ,SAA1B,CAAf,CALkB;;EAMlB,SAAKC,WAAL,GAAmB,KAAKnY,IAAL,CAAU8O,UAAV,EAAnB,CANkB;;EAOlB,SAAKJ,IAAL,GAAY,KAAK1O,IAAL,CAAUwO,OAAV,CAAkB,KAAK0J,SAAvB,CAAZ;EACA,QAAIlR,CAAC,GAAG,KAAKkR,SAAL,CAAenP,KAAf,CAAqB,0BAArB,CAAR;EAAA,QACImG,QAAQ,GAAGlI,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,EAD1B;EAEA,SAAKgJ,YAAL,GAAoB,KAAKtB,IAAL,CAAUsB,YAAV,CAAuBC,KAAvB;EAAA,KACfnP,GADe,CACX,UAAAsX,EAAE;EAAA,aAAKA,EAAE,CAAC3I,KAAH,CAAS,GAAT,EAAc/R,MAAd,IAAwB,CAAzB,GAA8B0a,EAAE,CAACna,OAAH,CAAW,KAAX,EAAkB,MAAMiR,QAAN,GAAiB,GAAnC,CAA9B,GAAwEkJ,EAA5E;EAAA,KADS,CAApB,CAVkB;;EAYlB,SAAK9G,KAAL,GAAaD,QAAQ,CAACC,KAAtB;EACA,SAAK+G,QAAL,GAAgBhH,QAAQ,CAACgH,QAAzB;EACA,SAAKlW,IAAL,GAAYkP,QAAQ,CAAClP,IAArB;EACA,SAAKmW,WAAL,GAAmB,CAAnB;EACH;EAED;;;;;;EASA;;;;WAIAC,eAAA,sBAAa9X,GAAb,EAAkB;EACd,QAAI,KAAKiO,IAAL,CAAUC,QAAV,IAAsB,CAAC,KAAK6J,aAAhC,EAA+C;EAC3C,aAAO,KAAK9J,IAAL,CAAUC,QAAV,CAAmBjI,MAAnB,CAA0BjG,GAA1B,EAA+B6D,EAAE,CAACmU,eAAlC,CAAP;EACH,KAFD,MAEO;EACH,aAAOnU,EAAE,CAACoU,YAAH,CAAgBjY,GAAhB,EAAqB,KAAKmX,OAA1B,KAAsCnX,GAAG,CAAC,CAAD,CAAhD;EACH;EACJ;EAED;;;;;WAGAkY,kBAAA,2BAAkB;EAAA;;EACd,QAAIxW,IAAI,GAAGvC,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkB,KAAK6F,IAAvB,EAA6B;EACpCtE,MAAAA,IAAI,EAAE,KAAK+Z,OAAL,CAAa/Z,IADiB;EAEpC+a,MAAAA,IAAI,EAAE,KAAKlK,IAAL,CAAUkK,IAFoB;EAGpCnB,MAAAA,KAAK,EAAE,KAAK/I,IAAL,CAAU+I,KAHmB;EAIpCvH,MAAAA,IAAI,EAAE,aAJ8B;EAKpC3L,MAAAA,QAAQ,EAAED,EAAE,CAACuU;EALuB,KAA7B,EAMRvU,EAAE,CAACwU,aAAH,CAAiB,QAAQ,KAAKZ,SAA9B,EAAyC,KAAKC,WAA9C,CANQ,CAAX;;EAOA,QAAI,KAAKnI,YAAL,CAAkBtS,MAAlB,GAA2B,CAA/B,EAAkC;EAC9B,WAAKsS,YAAL,CAAkB9O,OAAlB,CAA0B,UAACkX,EAAD,EAAK/Z,CAAL,EAAW;EACjC,YAAI0a,GAAG,GAAGzU,EAAE,CAAC+L,eAAH,CAAmB+H,EAAnB,EAAuB,KAAI,CAACD,WAA5B,CAAV;EACAhW,QAAAA,IAAI,CAAC,OAAO9D,CAAC,GAAG,CAAX,CAAD,CAAJ,GAAsB0a,GAAG,CAACnJ,IAAJ,CAAStL,EAAE,CAAC0U,yBAAZ,CAAtB;EACH,OAHD;EAIH;;EACD,WAAO7W,IAAP;EACH;EAED;;;;;WAGA8W,SAAA,gBAAOC,KAAP,EAAcC,KAAd,EAAqB;EACjB,QAAIC,MAAM,GAAG,IAAIC,eAAJ,CAAoB;EAC7BC,MAAAA,CAAC,EAAEJ,KAD0B;EAE7BK,MAAAA,CAAC,EAAE,KAAKjI,KAFqB;EAG7BkI,MAAAA,GAAG,EAAElV,EAAE,CAACzC,MAAH,EAHwB;EAI7BsX,MAAAA,KAAK,EAAEhd,CAAC,CAACgT,QAAF,CAAWgK,KAAX,IAAoBA,KAApB,GAA4B,CAAC;EAJP,KAApB,CAAb;EAMA,WAAO7U,EAAE,CAACmV,SAAH,CAAanV,EAAE,CAACoV,iBAAhB,EAAmCN,MAAM,CAACtZ,QAAP,EAAnC,CAAP;EACH;EAED;;;;;;;WAKA6Z,UAAA,iBAAQT,KAAR,EAAeC,KAAf,EAAsB;EAClB,WAAO;EACH5W,MAAAA,GAAG,EAAE,KAAK0W,MAAL,CAAYC,KAAZ,EAAmBC,KAAnB,CADF;EAEH9b,MAAAA,IAAI,EAAE,MAFH;EAGHgW,MAAAA,QAAQ,EAAE,MAHP;EAIHlR,MAAAA,IAAI,EAAE,KAAKwW,eAAL;EAJH,KAAP;EAMH;EAED;;;;;;WAIAiB,YAAA,mBAAUzX,IAAV,EAAgB;EACZ,QAAI0X,OAAO,GAAG,EAAd;;EACA,QAAI1X,IAAI,IAAIA,IAAI,CAACoR,MAAL,IAAe,IAA3B,EAAiC;EAC7B,WAAK+E,WAAL,GAAmBnW,IAAI,CAAC2X,gBAAxB;EACAD,MAAAA,OAAO,GAAG1X,IAAI,CAAC4X,OAAf;EACH;;EACD,WAAOF,OAAP;EACH;;;;0BA5EmB;EAChB,UAAI,KAAKG,cAAL,KAAwB,IAA5B,EACI,KAAKA,cAAL,GAAsB1V,EAAE,CAACkU,aAAH,CAAiB,KAAKZ,OAAtB,CAAtB;EACJ,aAAO,KAAKoC,cAAZ;EACH;;;;;;ECvCL;;;MAGqBC;EAEjB;;;EAGA,6BAAY/c,KAAZ,EAAmB+X,IAAnB,EAAyBvU,QAAzB,EAAmC;EAC/B,OAAKxD,KAAL,GAAaY,MAAM,CAACZ,KAAK,IAAI,EAAV,CAAnB;EACA,OAAK+X,IAAL,GAAYnX,MAAM,CAACmX,IAAI,IAAI,EAAT,CAAlB;EACA,OAAKvU,QAAL,GAAgB,CAAC,CAACA,QAAlB;EACH;;ECPL,SAAS+Q,WAAT,CAAqBJ,QAArB,EAA+B;EAC3B4G,EAAAA,UAAU,CAAC5W,IAAX,CAAgB,IAAhB,EAAsBgQ,QAAtB,EAD2B;;EAG3B,MAAI6I,QAAQ,GAAG;EAAEC,IAAAA,SAAS,EAAE;EAAb,GAAf,CAH2B;;EAK3B,MAAI,KAAKjC,SAAL,CAAe9T,QAAf,CAAwB,YAAxB,CAAJ,EACI,OAAO8V,QAAP;EAEJ,OAAK9X,KAAL,GAAa,KAAKpC,IAAL,CAAU8O,UAAV,CAAqB,QAAQ,KAAKoJ,SAAlC,CAAb,CAR2B;;EAS3B,MAAI,CAAC,KAAK9V,KAAV,EACI,OAAO8X,QAAP;EAEJ,MAAI3b,IAAI,GAAG,IAAX;EAAA,MACI6b,MAAM,GAAGje,CAAC,CAAC,KAAKiG,KAAN,CADd;EAAA,MAEIqK,QAAQ,GAAGtQ,CAAC,CAAC,KAAKyb,OAAN,CAFhB;EAAA,MAGIyC,KAHJ,CAZ2B;;EAkB3B,OAAKC,QAAL,GAAgBjJ,QAAQ,CAACiJ,QAAzB;EACA,OAAKC,SAAL,GAAiBlJ,QAAQ,CAACkJ,SAA1B;EACA,OAAKC,SAAL,GAAiBnJ,QAAQ,CAACmJ,SAA1B;EACA,OAAKC,IAAL,GAAYpJ,QAAQ,CAACoJ,IAArB;EACA,OAAKC,SAAL,GAAiBrJ,QAAQ,CAACqJ,SAA1B;EACA,OAAK7L,SAAL,GAAiBjP,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkB+U,QAAQ,CAACxC,SAA3B,CAAjB,CAvB2B;;EAwB3B,OAAKxH,OAAL,GAAegK,QAAQ,CAAChK,OAAxB,CAxB2B;;EAyB3B,OAAKsT,KAAL,GAAatJ,QAAQ,CAACsJ,KAAtB,CAzB2B;;EA0B3B,OAAKtC,QAAL,GAAgBhH,QAAQ,CAACgH,QAAzB;EACA,OAAKuC,OAAL,GAAevJ,QAAQ,CAACuJ,OAAT,IAAoB,MAAnC;EACA,OAAKC,cAAL,GAAsBxJ,QAAQ,CAACyJ,WAA/B;EACA,OAAKV,MAAL,GAAcA,MAAd;EACA,OAAK3N,QAAL,GAAgBA,QAAhB,CA9B2B;;EAiC3B,MAAI2N,MAAM,CAACzR,GAAP,MAAgB8D,QAAQ,CAAC9D,GAAT,EAApB,EACI,KAAKiP,OAAL,CAAa9B,GAAb,CAAiBrJ,QAAQ,CAAC9D,GAAT,EAAjB,EAAiCyR,MAAM,CAACzR,GAAP,EAAjC,EAA+C,IAA/C,EAlCuB;;EAqC3B,OAAKoS,QAAL,GAAgB,UAASC,CAAT,EAAY;EACxBA,IAAAA,CAAC,GAAGA,CAAC,IAAIZ,MAAM,CAACzR,GAAP,EAAT;EACA,QAAIhC,KAAK,GAAG,KAAKiR,OAAL,CAAapX,OAAb,CAAqBya,SAArB,CAA+B,UAAAC,MAAM;EAAA,aAAIA,MAAM,CAACjG,IAAP,IAAe+F,CAAnB;EAAA,KAArC,CAAZ;;EACA,QAAIrU,KAAK,GAAG,CAAZ,EAAe;EAAE;EACb,UAAI,KAAKkU,cAAL,IAAuBG,CAA3B,EAA8B;EAAE;EAC5BZ,QAAAA,MAAM,CAACD,SAAP,CAAiB,KAAjB,EAAwB,EAAxB,EAA4BpT,IAA5B,CAAiC,aAAjC,EAAgDzC,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB,CAAhD,EAAqF6I,QAArF,CAA8F,YAA9F;EACAZ,QAAAA,QAAQ,CAAC9D,GAAT,CAAa,EAAb,EAAiBuM,MAAjB;EACA;EACH;EACJ,KAND,MAMO;EAAE;EACL,WAAK0C,OAAL,CAAapX,OAAb,CAAqBmG,KAArB,EAA4BjG,QAA5B,GAAuC,IAAvC;EACA,UAAI,CAAC,aAAayN,IAAb,CAAkB,KAAKgK,WAAL,CAAiB7R,EAAnC,CAAD,IAA2C,KAAKuU,cAApD;EACIG,QAAAA,CAAC,GAAG,KAAKpD,OAAL,CAAapX,OAAb,CAAqBmG,KAArB,EAA4BzJ,KAAhC,CAHD;EAIN;;EACD,QAAI8d,CAAC,KAAKvO,QAAQ,CAAC1F,IAAT,CAAc,OAAd,CAAV,EACI0F,QAAQ,CAAC1F,IAAT,CAAc,OAAd,EAAuBiU,CAAvB,EAA0B9F,MAA1B,GAfoB;EAgB3B,GAhBD,CArC2B;;EAwD3B,OAAK0E,SAAL,GAAiB,UAASzX,IAAT,EAAe;EAC5B,QAAI0X,OAAO,GAAG5B,UAAU,CAAClb,SAAX,CAAqB6c,SAArB,CAA+BvY,IAA/B,CAAoC,IAApC,EAA0Cc,IAA1C,CAAd;EACA,SAAKyV,OAAL,CAAapX,OAAb,GAAuBqZ,OAAO,CAAC/Y,GAAR,CAAY,UAAA4T,IAAI;EAAA,aAAI,IAAIuF,mBAAJ,CAAwBvF,IAAI,CAAC,CAAD,CAA5B,EAAiCnW,IAAI,CAACga,YAAL,CAAkB7D,IAAlB,CAAjC,CAAJ;EAAA,KAAhB,CAAvB;EACA,WAAO,KAAKkD,OAAL,CAAapX,OAApB;EACH,GAJD,CAxD2B;;EA+D3B,OAAKuQ,MAAL,GAAc,UAASmI,KAAT,EAAgBiC,WAAhB,EAA6BC,YAA7B,EAA2C;EACrD,QAAIf,KAAJ,EACIA,KAAK,CAACgB,MAAN;EACJhB,IAAAA,KAAK,GAAGle,CAAC,CAACgW,KAAF,CAAQ5T,IAAI,CAAC8Z,QAAb,EAAuB,IAAvB,EAA6B,YAAW;EAC5C9Z,MAAAA,IAAI,CAAC+Z,WAAL,GAAmB,CAAnB,CAD4C;;EAE5C,UAAIjH,QAAQ,GAAG9S,IAAI,CAACob,OAAL,CAAaT,KAAb,CAAf;EACA/c,MAAAA,CAAC,CAAC+T,IAAF,CAAOmB,QAAP,EAAiBiC,IAAjB,CAAsB,UAASnR,IAAT,EAAe;EACjCiZ,QAAAA,YAAY,CAAC7c,IAAI,CAACqb,SAAL,CAAezX,IAAf,CAAD,CAAZ;EACH,OAFD;EAGH,KANO,CAAR;EAOH,GAVD,CA/D2B;;EA4E3B,OAAKmZ,KAAL,GAAa,YAAW;EACpB,WAAO/c,IAAI,CAAC4b,SAAL,CAAeoB,IAAf,CAAoBC,KAApB,CAA0B5W,IAA1B,CAA+B,8BAA/B,EAA+DlH,MAAtE;EACH,GAFD,CA5E2B;;EAiF3B,OAAK+d,IAAL,GAAY,YAAW;EACnB,QAAIvI,KAAK,GAAG/W,CAAC,CAAC,MAAD,CAAb;EACA+W,IAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACA,QAAIuI,EAAE,GAAGnd,IAAI,CAAC4b,SAAd;EAAA,QAAyBjB,KAAK,GAAGwC,EAAE,CAACH,IAAH,CAAQrC,KAAzC;EAAA,QAAgD7M,OAAO,GAAGqP,EAAE,CAACH,IAAH,CAAQI,QAAR,CAAiB,CAAjB,CAA1D;EACA,QAAIxC,KAAK,GAAG5a,IAAI,CAAC+c,KAAL,EAAZ;EACA,QAAIjK,QAAQ,GAAG9S,IAAI,CAACob,OAAL,CAAaT,KAAb,EAAoBC,KAApB,CAAf;EACAhd,IAAAA,CAAC,CAAC+T,IAAF,CAAOmB,QAAP,EAAiBiC,IAAjB,CAAsB,UAASnR,IAAT,EAAe;EACjCA,MAAAA,IAAI,GAAG5D,IAAI,CAACqb,SAAL,CAAezX,IAAf,CAAP;;EACAkK,MAAAA,OAAO,CAACuP,OAAR,CAAgB1C,KAAhB,EAAuB/W,IAAvB;;EACAuZ,MAAAA,EAAE,CAACH,IAAH,CAAQC,KAAR,CAAc5W,IAAd,CAAmB,aAAnB,EAAkCiX,SAAlC,CAA4CxP,OAAO,CAACyP,eAAR,CAAwBC,WAAxB,KAAwC5C,KAApF;EACH,KAJD,EAIG1F,MAJH,CAIU,YAAW;EACjBP,MAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,KAND;EAOH,GAbD,CAjF2B;;EAiG3BiH,EAAAA,MAAM,CAAC9U,EAAP,CAAU,kBAAV,EAA8B,UAASzB,CAAT,EAAYtE,CAAZ,EAAe;EACzChB,IAAAA,IAAI,CAACwc,QAAL,CAAcxb,CAAC,CAAChB,IAAI,CAACqc,OAAN,CAAf;EACH,GAFD,EAEG1F,MAFH,CAEU,UAASrR,CAAT,EAAY;EAClB,QAAI6X,EAAE,GAAGtB,MAAM,CAACjY,IAAP,CAAY,cAAZ,CAAT;;EACA,QAAIuZ,EAAE,IAAIA,EAAE,CAACM,MAAH,EAAN,IAAqB,CAACN,EAAE,CAACH,IAAH,CAAQU,KAAR,EAA1B,EAA2C;EACvC,UAAIC,KAAK,GAAGR,EAAE,CAACH,IAAH,CAAQY,mBAAR,EAAZ;;EACA,UAAID,KAAJ,EAAW;EAAE;EACT,YAAI7d,CAAC,GAAG6d,KAAK,CAACvV,KAAN,EAAR;EAAA,YACIgC,GAAG,GAAGpK,IAAI,CAACqZ,OAAL,CAAapX,OAAb,CAAqBnC,CAArB,EAAwB4W,IADlC;EAEAmF,QAAAA,MAAM,CAACD,SAAP,CAAiB,KAAjB,EAAwBxR,GAAxB;EACH;EACJ;;EACDpK,IAAAA,IAAI,CAACwc,QAAL;EACH,GAbD,EAaGqB,IAbH,CAaQ,UAASvY,CAAT,EAAY;EAAE;EAClB,QAAI6X,EAAE,GAAGtB,MAAM,CAACjY,IAAP,CAAY,cAAZ,CAAT;EACA,QAAIuZ,EAAE,IAAIA,EAAE,CAACM,MAAH,EAAV,EACIN,EAAE,CAACH,IAAH,CAAQc,KAAR;EACP,GAjBD,EAiBGrF,KAjBH,CAiBS,UAASnT,CAAT,EAAY;EACjBuW,IAAAA,MAAM,CAACrT,IAAP,CAAY,aAAZ,EAA2BqT,MAAM,CAACjY,IAAP,CAAY,aAAZ,CAA3B,EAAuDoL,WAAvD,CAAmE,YAAnE;EACH,GAnBD,EAjG2B;;EAuH3B,MAAIlJ,GAAG,GAAG9F,IAAI,CAACmQ,IAAL,CAAUC,QAAV,IAAsBpQ,IAAI,CAACsQ,SAAL,CAAe,YAAf,CAAhC;EACA,MAAIxK,GAAG,IAAIlI,CAAC,CAACyS,QAAF,CAAWvK,GAAX,CAAX,EACIA,GAAG,GAAGlI,CAAC,CAAC0S,SAAF,CAAYxK,GAAZ,CAAN;EACJ,MAAIA,GAAJ,EACI9F,IAAI,CAACsQ,SAAL,CAAe,YAAf,IAA+BxK,GAAG,CAACqC,MAAJ,CAAW1K,IAAX,CAAgBqI,GAAhB,CAA/B,CA3HuB;;EA8H3BoI,EAAAA,QAAQ,CAACtK,IAAT,CAAc,aAAd,EAA6B,IAA7B,EA9H2B;;EAiI3BhG,EAAAA,CAAC,CAAC,YAAW;EACT;EACA,QAAIqE,OAAO,GAAG;EACVga,MAAAA,SAAS,EAAEjc,IAAI,CAACic,SADN;EAEVE,MAAAA,SAAS,EAAEnc,IAAI,CAACmc,SAFN;EAGVD,MAAAA,IAAI,EAAElc,IAAI,CAACkc,IAHD;EAIVpT,MAAAA,OAAO,EAAE9I,IAAI,CAAC8I,OAJJ;EAKVsT,MAAAA,KAAK,EAAEpc,IAAI,CAACoc;EALF,KAAd;EAOA,QAAItO,OAAO,GAAG;EACVxO,MAAAA,IAAI,EAAEU,IAAI,CAACyB,IAAL,CAAUsG,EAAV,GAAe,GAAf,GAAqB/H,IAAI,CAAC2Z,SADtB;EAEVnH,MAAAA,MAAM,EAAExS,IAAI,CAACwS,MAFH;EAGVlC,MAAAA,SAAS,EAAEtQ,IAAI,CAACsQ,SAHN;EAIV+L,MAAAA,OAAO,EAAErc,IAAI,CAACqc,OAJJ;EAKVtJ,MAAAA,KAAK,EAAE/S,IAAI,CAAC+S,KALF;EAMVgL,MAAAA,KAAK,EAAE;EANG,KAAd;EAQA,QAAI9e,IAAI,GAAG,CAACgD,OAAD,EAAU6L,OAAV,CAAX,CAjBS;;EAmBTI,IAAAA,QAAQ,CAACpF,OAAT,CAAiB,WAAjB,EAA8B,CAAC7J,IAAD,CAA9B;EACAe,IAAAA,IAAI,CAAC+S,KAAL,GAAajF,OAAO,CAACiF,KAArB,CApBS;;EAsBT8I,IAAAA,MAAM,CAACD,SAAP,CAAiBtZ,KAAjB,CAAuBuZ,MAAvB,EAA+B5c,IAA/B;EACA4c,IAAAA,MAAM,CAAC9U,EAAP,CAAU,oBAAV,EAAgC,YAAW;EACvC,UAAIkW,KAAK,GAAGjd,IAAI,CAAC4b,SAAL,CAAeoB,IAAf,CAAoBC,KAAhC;EACA,UAAIe,KAAK,GAAGf,KAAK,CAAC5W,IAAN,CAAW,UAAX,EAAuBkS,IAAvB,CAA4BxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,MAAnB,CAA5B,CAAZ;;EACA,UAAI5D,SAAS,CAAClD,MAAV,GAAmB,CAAnB;EACAa,MAAAA,IAAI,CAAC+Z,WAAL,GAAmB/Z,IAAI,CAAC+c,KAAL,EADvB,EACqC;EACjCiB,QAAAA,KAAK,CAACC,GAAN,CAAUhc,OAAO,CAAC6G,OAAlB,EAA2B,UAASxD,CAAT,EAAY;EACnC6M,UAAAA,UAAU,CAAC,YAAW;EAClBnS,YAAAA,IAAI,CAACkd,IAAL;EACH,WAFS,EAEPjb,OAAO,CAACma,KAFD,CAAV;EAGA9W,UAAAA,CAAC,CAACC,cAAF;EACAD,UAAAA,CAAC,CAAC4Y,eAAF;EACH,SAND;EAOH,OATD,MASO;EACHF,QAAAA,KAAK,CAACnX,IAAN;EACH;EACJ,KAfD;EAgBAgV,IAAAA,MAAM,CAACtV,GAAP,CAAW,SAAX;EACAvG,IAAAA,IAAI,CAAC4b,SAAL,GAAiBC,MAAM,CAACjY,IAAP,CAAY,cAAZ,CAAjB;EACA,QAAIua,KAAK,GAAGne,IAAI,CAAC4b,SAAL,CAAeoB,IAAf,CAAoBC,KAApB,CAA0BrI,GAA1B,CAA8B,SAA9B,EAAyC,IAAzC,CAAZ;EACA,QAAI5U,IAAI,CAAC+b,QAAT,EACIoC,KAAK,CAACvJ,GAAN,CAAU,WAAV,EAAuB5U,IAAI,CAAC+b,QAA5B;EACJ,QAAIqC,QAAQ,GAAGD,KAAK,CAAC9X,IAAN,CAAW,aAAX,CAAf;EACA,QAAI2V,SAAS,GAAGhc,IAAI,CAACgc,SAAL,IACZ,CAACnU,QAAQ,CAACuW,QAAQ,CAACxJ,GAAT,CAAa,aAAb,CAAD,EAA8B,EAA9B,CAAR,GAA4C,CAA7C,KAAmD9G,OAAO,CAACiF,KAAR,GAAgB,CAAnE,CADJ,CA7CS;;EA+CTqL,IAAAA,QAAQ,CAACxJ,GAAT,CAAa;EAAE,oBAAcoH,SAAhB;EAA2B,oBAAc;EAAzC,KAAb;EACH,GAhDA,CAAD;EAiDH;;EAED9I,WAAW,CAAC1U,SAAZ,GAAwB6C,MAAM,CAAC1D,MAAP,CAAc+b,UAAU,CAAClb,SAAzB,CAAxB;;ECvLA;;;;MAGqB6f;;sCACR;;;;;EAET;;;;WAIAtb,MAAA,aAAI6E,EAAJ,EAAQ;EACJ,QAAIG,EAAE,GAAInK,CAAC,CAACyS,QAAF,CAAWzI,EAAX,CAAD,GAAmBA,EAAnB,GAAwB7B,EAAE,CAAC8I,OAAH,CAAWjH,EAAX,EAAeG,EAAhD;EACA,WAAO,KAAKuW,MAAL,CAAYvW,EAAZ,CAAP;EACH;EAED;;;;;;WAIAwP,MAAA,aAAIgH,CAAJ,EAAO;EACH,SAAKD,MAAL,CAAYC,CAAC,CAACxW,EAAd,IAAoBwW,CAApB;EACH;EAED;;;;;;WAIAC,MAAA,eAAM;EACF,WAAOnd,MAAM,CAAC5C,IAAP,CAAY,KAAK6f,MAAjB,CAAP;EACH;;;;;EC7BL;;;;EAGe,sCAASG,KAAT,EAAgB;EAAA,MAErBC,mBAFqB;EAAA;;EAAA;;EAAA,WAIvBvW,MAJuB,GAIvB,gBAAOwW,SAAP,EAAkB;EACd,UAAIC,QAAQ,GAAGhhB,CAAC,CACd,0CAA0C,KAAKqE,OAAL,CAAac,GAAb,CAAiB,gBAAjB,CAA1C,GAA+E,yBADjE,CAAhB,CADc;;EAKd,UAAI,KAAKd,OAAL,CAAac,GAAb,CAAiB,UAAjB,CAAJ,EAAkC;EAChC6b,QAAAA,QAAQ,CAACpW,IAAT,CAAc,sBAAd,EAAsC,MAAtC;EACD;;EAED,WAAKoW,QAAL,GAAgBA,QAAhB;EAEA,aAAOA,QAAP;EACH,KAhBsB;;EAAA,WAkBvBC,cAlBuB,GAkBvB,wBAAeF,SAAf,EAA0B9D,MAA1B,EAAkC;EAC9B,UAAIiE,YAAY,GAAG,KAAK7c,OAAL,CAAac,GAAb,CAAiB,cAAjB,CAAnB;EAEA,WAAKgc,KAAL;EACA,WAAKC,WAAL;EAEA,UAAIC,QAAQ,GAAGrhB,CAAC,CACd,4CACA,yCAFc,CAAhB,CAN8B;;EAW9B,UAAIid,MAAM,CAACqE,OAAP,CAAerZ,QAAf,CAAwB,GAAxB,KAAgCgV,MAAM,CAACqE,OAAP,CAAerZ,QAAf,CAAwB,GAAxB,CAApC,EAAkE;EAAE;EAClEoZ,QAAAA,QAAQ,CAACjd,MAAT,CAAgB6Y,MAAM,CAACqE,OAAvB;EACD,OAFD,MAEO;EACL,YAAIA,OAAO,GAAG,KAAKjd,OAAL,CAAac,GAAb,CAAiB,cAAjB,EAAiCA,GAAjC,CAAqC8X,MAAM,CAACqE,OAA5C,CAAd;EACAD,QAAAA,QAAQ,CAACjd,MAAT,CACE8c,YAAY,CACVI,OAAO,CAACrE,MAAM,CAAC5b,IAAR,CADG,CADd;EAKD;;EAEDggB,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYE,SAAZ,IAAyB,2BAAzB;EAEA,WAAKP,QAAL,CAAc5c,MAAd,CAAqBid,QAArB;EACH,KA3CsB;;EAAA,WA6CvBjd,MA7CuB,GA6CvB,gBAAO2c,SAAP,EAAkB/a,IAAlB,EAAwB;EAAA;;EACpB,WAAKob,WAAL;;EAIA,UAAIpb,IAAI,CAAC0X,OAAL,IAAgB,IAAhB,IAAwB1X,IAAI,CAAC0X,OAAL,CAAanc,MAAb,KAAwB,CAApD,EAAuD;EACrD,YAAI,KAAKyf,QAAL,CAAcQ,QAAd,GAAyBjgB,MAAzB,KAAoC,CAAxC,EAA2C;EACzC,cAAI,KAAK+O,QAAL,CAActK,IAAd,CAAmB,UAAnB,CAAJ,EAAoC;EAClC,iBAAKkF,OAAL,CAAa,iBAAb,EAAgC;EAC9BoW,cAAAA,OAAO,EAAE,sHAAsHnZ,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,SAAnB,CAAtH,GAAsJ,gBAAtJ,GAAyKF,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,SAAnB;EADpJ,aAAhC;EAGA,iBAAKiI,QAAL,CAAc+P,GAAd,CAAkB,YAAlB,EAAgC;EAAA,qBAAM,KAAI,CAAC/P,QAAL,CAAcmR,OAAd,CAAsB,OAAtB,EAA+BA,OAA/B,CAAuC,MAAvC,CAAN;EAAA,aAAhC;EACD,WALD,MAKO;EACL,iBAAKvW,OAAL,CAAa,iBAAb,EAAgC;EAC9BoW,cAAAA,OAAO,EAAE;EADqB,aAAhC;EAGD;EACF;;EAED;EACD;;EAEDtb,MAAAA,IAAI,CAAC0X,OAAL,GAAe,KAAKjT,IAAL,CAAUzE,IAAI,CAAC0X,OAAf,CAAf,CAtBoB;;EAyBpB,UAAIgE,IAAI,GAAG,KAAKrd,OAAL,CAAac,GAAb,CAAiB,SAAjB,CAAX;EAAA,UACIwc,GAAG,GAAG3b,IAAI,CAAC0X,OAAL,CAAanc,MADvB;EAAA,UAEIqgB,IAAI,GAAG,KAAKZ,QAAL,CAAcvY,IAAd,CAAmB,MAAM,KAAKpE,OAAL,CAAac,GAAb,CAAiB,UAAjB,CAAzB,EAAuD0c,IAAvD,EAFX;;EAIA,WAAK,IAAIze,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4C,IAAI,CAAC0X,OAAL,CAAanc,MAAjC,EAAyC6B,CAAC,EAA1C,EAA8C;EAC1C,YAAImV,IAAI,GAAGvS,IAAI,CAAC0X,OAAL,CAAata,CAAb,CAAX;EAEA,YAAI0e,OAAO,GAAG,KAAK/C,MAAL,CAAYxG,IAAZ,CAAd;;EAEA,YAAI,CAACqJ,IAAI,CAACrgB,MAAN,IAAgBqgB,IAAI,CAACJ,QAAL,GAAgBjgB,MAAhB,IAA0BmgB,IAA9C,EAAoD;EAAE;EAClDE,UAAAA,IAAI,GAAG5hB,CAAC,CAAC,iBAAiB,KAAKqE,OAAL,CAAac,GAAb,CAAiB,UAAjB,CAAjB,GAAgD,UAAjD,CAAR;EACA,eAAK6b,QAAL,CAAc5c,MAAd,CAAqBwd,IAArB;EACH;;EAEDA,QAAAA,IAAI,CAACxd,MAAL,CAAY0d,OAAZ;;EAEA,YAAI1e,CAAC,IAAIue,GAAG,GAAG,CAAf,EAAkB;EAAE;EAChB,cAAIpU,GAAG,GAAGmU,IAAI,GAAGE,IAAI,CAACJ,QAAL,GAAgBjgB,MAAjC;;EACA,eAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqL,GAApB,EAA0BrL,CAAC,EAA3B;EACI0f,YAAAA,IAAI,CAACxd,MAAL,CAAY,iBAAiB,KAAKC,OAAL,CAAac,GAAb,CAAiB,UAAjB,CAAjB,GAAgD,UAA5D;EADJ;EAEH;EACJ;EAEJ,KA7FsB;;EAAA,WA+FvB4Z,MA/FuB,GA+FvB,gBAAOgC,SAAP,EAAkB/a,IAAlB,EAAwB;EACpB;EACA,UAAI+Y,MAAM,GAAG5gB,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAb,CAFoB;;EAGpB0gB,MAAAA,MAAM,CAACwC,SAAP,GAAmB,6BAA6B,KAAKld,OAAL,CAAac,GAAb,CAAiB,WAAjB,CAAhD,CAHoB;;EAKpB,UAAI4c,KAAK,GAAG;EACV,gBAAQ,QADE;EAEV,yBAAiB;EAFP,OAAZ;EAKA,UAAIC,OAAO,GAAG7f,MAAM,CAAC8f,OAAP,CAAerhB,SAAf,CAAyBohB,OAAzB,IACZ7f,MAAM,CAAC8f,OAAP,CAAerhB,SAAf,CAAyBshB,iBADb,IAEZ/f,MAAM,CAAC8f,OAAP,CAAerhB,SAAf,CAAyBuhB,qBAF3B;;EAIA,UAAKnc,IAAI,CAACyV,OAAL,IAAgB,IAAhB,IAAwBuG,OAAO,CAAC9c,IAAR,CAAac,IAAI,CAACyV,OAAlB,EAA2B,WAA3B,CAAzB,IACCzV,IAAI,CAACyV,OAAL,IAAgB,IAAhB,IAAwBzV,IAAI,CAAC/B,QADlC,EAC6C;EAC3C,eAAO8d,KAAK,CAAC,eAAD,CAAZ;EACAA,QAAAA,KAAK,CAAC,eAAD,CAAL,GAAyB,MAAzB;EACD;;EAED,UAAI/b,IAAI,CAACmE,EAAL,IAAW,IAAf,EAAqB;EACnB,eAAO4X,KAAK,CAAC,eAAD,CAAZ;EACD;;EAED,UAAI/b,IAAI,CAACoc,SAAL,IAAkB,IAAtB,EAA4B;EAC1BrD,QAAAA,MAAM,CAAC5U,EAAP,GAAYnE,IAAI,CAACoc,SAAjB;EACD;;EAED,UAAIpc,IAAI,CAACqc,KAAT,EAAgB;EACdtD,QAAAA,MAAM,CAACsD,KAAP,GAAerc,IAAI,CAACqc,KAApB;EACD,OA9BmB;EAiCpB;EACA;EACA;EACA;;EAEA,WAAK,IAAIzX,IAAT,IAAiBmX,KAAjB,EAAwB;EACtB,YAAIvV,GAAG,GAAGuV,KAAK,CAACnX,IAAD,CAAf;EAEAmU,QAAAA,MAAM,CAACuD,YAAP,CAAoB1X,IAApB,EAA0B4B,GAA1B;EACD,OA1CmB;EA6CpB;EAEA;EACA;EAEA;EACA;EAEA;EAEA;EACA;EAEA;EAEA;EACA;EAEA;EACA;EACA;EAEA;EAEA;EACA;EACA;;EACE,WAAKgG,QAAL,CAAcxM,IAAd,EAAoB+Y,MAApB,EAxEkB;;EA2EpB8B,MAAAA,KAAK,CAAC0B,SAAN,CAAgBxD,MAAhB,EAAwB,MAAxB,EAAgC/Y,IAAhC;EAEA,aAAO+Y,MAAP;EACH,KA7KsB;;EAAA;EAAA;;EAiL3B,SAAO+B,mBAAP;EACH;;EC9KM,IAAI0B,UAAU,GAAG,IAAIC,GAAJ,CAAQtgB,MAAM,CAACsX,QAAf,CAAjB;EACA,IAAIC,KAAK,GAAG,IAAI+G,KAAJ,EAAZ;EAGP,IAAIiC,SAAS,GAAG1iB,CAAC,CAAC7B,QAAD,CAAjB;EAAA,IACI4Y,KAAK,GAAG/W,CAAC,CAAC,MAAD,CADb;;EAIA,IAAI2iB,cAAc,GAAGxa,EAAE,CAACgL,aAAxB;;EAGO,SAASA,aAAT,GAAyB;EAC5B,MAAI+K,KAAK,GAAGnH,KAAK,CAAC/Q,IAAN,CAAW,UAAX,CAAZ;EACA,MAAIkY,KAAJ,EACIA,KAAK,CAACgB,MAAN;EACJhB,EAAAA,KAAK,GAAGle,CAAC,CAACgW,KAAF,CAAQ,GAAR,EAAa,IAAb,EAAmB,YAAW;EAClC,QAAI0M,SAAS,CAAC1c,IAAV,CAAe,OAAf,MAA4B,IAAhC,EAAsC;EAAE;EACpC2c,MAAAA,cAAc;;EACd3iB,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkB+B,IAAlB,CAAuB,YAAW;EAC9B,YAAI6gB,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAU,KAAKgF,EAAf,CAAV;;EACA,YAAIyY,GAAJ,EAAS;EACLA,UAAAA,GAAG,CAAC/H,KAAJ;EACA,iBAAO,KAAP;EACH;EACJ,OAND;EAOH;EACJ,GAXO,CAAR;EAYA9D,EAAAA,KAAK,CAAC/Q,IAAN,CAAW,UAAX,EAAuBkY,KAAvB;EACH;;EAGM,SAAS2E,YAAT,CAAsBxe,OAAtB,EAA+B;EAClC,MAAIA,OAAO,CAACye,QAAR,CAAiB7a,QAAjB,CAA0B,YAA1B,CAAJ,EACI;;EACJjI,EAAAA,CAAC,CAAC4N,EAAF,CAAK6T,OAAL,CAAasB,GAAb,CAAiBC,OAAjB,CACI,CAAC,eAAD,EAAkB,iBAAlB,EAAqC,iCAArC,EAAwE,kCAAxE,EAA4G,gCAA5G,CADJ,EAEK,UAASC,IAAT,EAAe;EACZ,WAAO,UAAUpC,KAAV,EAAiBqC,WAAjB,EAA8BC,cAA9B,EAA8CC,eAA9C,EAA+DC,aAA/D,EAA8E;EACjF,UAAIhf,OAAO,GAAGZ,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkBgI,EAAE,CAACmb,aAArB,EAAoCL,IAApC,CAAd;;EACA,UAAI5e,OAAO,CAACkf,cAAR,IAA0B,IAA9B,EAAoC;EAChClf,QAAAA,OAAO,CAACkf,cAAR,GAAyBL,WAAzB;;EACA,YAAI7e,OAAO,CAACmf,QAAR,IAAoBnf,OAAO,CAACof,OAA5B,IAAuCpf,OAAO,CAACqf,YAAnD,EAAiE;EAC7Drf,UAAAA,OAAO,CAACkf,cAAR,GAAyB1C,KAAK,CAAC8C,QAAN,CACrBtf,OAAO,CAACkf,cADa,EAErBK,2BAA2B,CAAC/C,KAAD,CAFN,CAAzB;;EAIA,cAAIxc,OAAO,CAACwf,SAAR,IAAqBxf,OAAO,CAACgP,QAA7B,IAAyC,CAAChP,OAAO,CAACyf,cAAtD,EAAsE;EAClEzf,YAAAA,OAAO,CAACyf,cAAR,GAAyB,UAAC1M,MAAD;EAAA,qBAAY,mBAAmB/S,OAAO,CAACwf,SAA3B,GAAuC,sBAAvC,GAAgEzM,MAAM,CAAC0B,IAAvE,GAA8E,UAA1F;EAAA,aAAzB;EACH;EACJ;;EACD,YAAIzU,OAAO,CAAC0P,IAAR,IAAgB,IAApB,EAA0B;EACtB1P,UAAAA,OAAO,CAACkf,cAAR,GAAyB1C,KAAK,CAAC8C,QAAN,CACrBtf,OAAO,CAACkf,cADa,EAErBJ,cAFqB,CAAzB;EAIH;;EACD,YAAI9e,OAAO,CAAC0f,WAAR,IAAuB,IAA3B,EAAiC;EAC7B1f,UAAAA,OAAO,CAACkf,cAAR,GAAyB1C,KAAK,CAAC8C,QAAN,CACrBtf,OAAO,CAACkf,cADa,EAErBH,eAFqB,CAAzB;EAIH;;EACD,YAAI/e,OAAO,CAAC2f,aAAZ,EAA2B;EACvB3f,UAAAA,OAAO,CAACkf,cAAR,GAAyB1C,KAAK,CAAC8C,QAAN,CACrBtf,OAAO,CAACkf,cADa,EAErBF,aAFqB,CAAzB;EAIH;EACJ;;EACD,UAAIrjB,CAAC,CAAC6H,QAAF,CAAWxD,OAAO,CAAC0P,IAAnB,CAAJ,EAA8B;EAC1B,YAAIkQ,MAAM,GAAG,IAAI9b,EAAE,CAAC2T,UAAP,CAAkBzX,OAAO,CAAC0P,IAA1B,CAAb;EACA1P,QAAAA,OAAO,CAAC0P,IAAR,GAAe;EACX3N,UAAAA,GAAG,EAAE,aAAC6W,MAAD,EAAY;EACb,gBAAID,KAAK,GAAGC,MAAM,CAACR,IAAP,GAAc,CAACQ,MAAM,CAACR,IAAP,GAAc,CAAf,KAAqBvH,QAAQ,CAACC,KAAT,IAAkBhN,EAAE,CAACiN,wBAA1C,CAAd,GAAoF,CAAC,CAAjG;EACA,mBAAO6O,MAAM,CAACnH,MAAP,CAAcG,MAAM,CAACiH,IAArB,EAA2BlH,KAA3B,CAAP;EACH,WAJU;EAKX9b,UAAAA,IAAI,EAAE,MALK;EAMXgW,UAAAA,QAAQ,EAAE,MANC;EAOXlR,UAAAA,IAAI,EAAEie,MAAM,CAACzH,eAAP,EAPK;EAQXgC,UAAAA,KAAK,EAAEna,OAAO,CAAC6X,QARJ;EASXiI,UAAAA,cAAc,EAAE,wBAACne,IAAD,EAAU;EACtB,mBAAO;EACH0X,cAAAA,OAAO,EAAEuG,MAAM,CAACxG,SAAP,CAAiBzX,IAAjB,EAAuBrB,GAAvB,CAA2B,UAAA4T,IAAI,EAAI;EACxC,uBAAO;EACHpO,kBAAAA,EAAE,EAAEoO,IAAI,CAAC,CAAD,CADL;EAEHO,kBAAAA,IAAI,EAAEmL,MAAM,CAAC7H,YAAP,CAAoB;EAAEgI,oBAAAA,EAAE,EAAE7L,IAAI,CAAC,CAAD,CAAV;EAAe8L,oBAAAA,EAAE,EAAE9L,IAAI,CAAC,CAAD,CAAvB;EAA4B+L,oBAAAA,GAAG,EAAE/L,IAAI,CAAC,CAAD,CAArC;EAA0CgM,oBAAAA,GAAG,EAAEhM,IAAI,CAAC,CAAD,CAAnD;EAAwDiM,oBAAAA,GAAG,EAAEjM,IAAI,CAAC,CAAD;EAAjE,mBAApB;EAFH,iBAAP;EAIH,eALQ,CADN;EAOHkM,cAAAA,UAAU,EAAE;EACRnF,gBAAAA,IAAI,EAAEtZ,IAAI,CAACzE,MAAL,GAAc0iB,MAAM,CAAC9H;EADnB;EAPT,aAAP;EAWH;EArBU,SAAf;EAuBH;;EACDnc,MAAAA,CAAC,CAAC,6BAA6BqE,OAAO,CAACye,QAArC,GAAgD,IAAjD,CAAD,CAAwDrB,OAAxD,CAAgEpd,OAAhE;;EACA,UAAIA,OAAO,CAACgP,QAAR,IAAoBhP,OAAO,CAACqgB,uBAAR,KAAoCC,QAA5D,EAAsE;EAClE3kB,QAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BmJ,EAA7B,CAAgC,iCAAhC,EAAmE,UAAS8B,KAAT,EAAgB;EAC/EjL,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ6I,MAAR,GAAiBJ,IAAjB,CAAsB,wBAAtB,EAAgDc,IAAhD,CAAqD,UAArD,EAAiE,IAAjE;EACH,SAFD;EAGH;EACJ,KAhED;EAiEH,GAlED,CAkEGlF,OAlEH,CAFJ;EAsEH;;EAGM,SAASugB,SAAT,CAAmBld,CAAnB,EAAsB;EACzB,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EACA6B,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,UAAX,EAAuBH,OAAvB,CAA+B,WAA/B,EAA4CqR,GAA5C,CAAgD,aAAhD,EAA+DkL,OAA/D,CAAuE;EACnEC,IAAAA,SAAS,EAAE,MADwD;EAEnE5Z,IAAAA,OAAO,EAAG/C,EAAE,CAAC4c,SAAJ,GAAiB,QAAjB,GAA4B,OAF8B;EAGnEC,IAAAA,SAAS,EAAE,QAHwD;EAInEC,IAAAA,UAAU,EAAE9c,EAAE,CAAC8c;EAJoD,GAAvE;EAMH;;EAGM,SAASC,mBAAT,CAA6Bxd,CAA7B,EAAgC;EACnC,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;;EACA,MAAI6B,CAAC,CAAC4N,EAAF,CAAKuX,SAAL,IAAkB,OAAOhd,EAAE,CAACid,qBAAV,IAAmC,WAAzD,EAAsE;EAClEplB,IAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,uBAAX,EAAoC1G,IAApC,CAAyC,YAAW;EAChD,UAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACA,UAAI,CAACoJ,KAAK,CAACpD,IAAN,CAAW,WAAX,CAAL,EACIoD,KAAK,CAAC+b,SAAN,CAAgB;EACZ,4BAAoB,KADR;EAEZ,uBAAe,EAFH;EAGZ,6BAAqBhd,EAAE,CAACid,qBAHZ;EAIZ,qCAA6B,mCAASC,QAAT,EAAmBC,UAAnB,EAA+B;EACxD,cAAIlc,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EAAA,cAAqBulB,IAAI,GAAGvlB,CAAC,CAAC,UAAUoJ,KAAK,CAACwB,IAAN,CAAW,wBAAX,CAAV,GAAiD,IAAlD,CAA7B;EAAA;EACI4a,UAAAA,GAAG,GAAGD,IAAI,CAAC9c,IAAL,CAAU,eAAV,CADV;EAEA8c,UAAAA,IAAI,CAACjM,KAAL,CAAWlQ,KAAK,CAACqc,UAAN,EAAX;;EACA,cAAIrc,KAAK,CAACoD,GAAN,EAAJ,EAAiB;EACb,gBAAIkZ,GAAG,GAAGJ,UAAU,GAAG,GAAvB;;EACA,gBAAIA,UAAU,GAAG,EAAjB,EAAqB;EACjBE,cAAAA,GAAG,CAACtU,QAAJ,CAAa,WAAb,EAA0BE,WAA1B,CAAsC,+BAAtC;EACH,aAFD,MAEO,IAAIkU,UAAU,GAAG,EAAjB,EAAqB;EACxBE,cAAAA,GAAG,CAACtU,QAAJ,CAAa,YAAb,EAA2BE,WAA3B,CAAuC,8BAAvC;EACH,aAFM,MAEA,IAAIkU,UAAU,GAAG,EAAjB,EAAqB;EACxBE,cAAAA,GAAG,CAACtU,QAAJ,CAAa,SAAb,EAAwBE,WAAxB,CAAoC,iCAApC;EACH,aAFM,MAEA;EACHoU,cAAAA,GAAG,CAACtU,QAAJ,CAAa,YAAb,EAA2BE,WAA3B,CAAuC,8BAAvC;EACH;;EACDoU,YAAAA,GAAG,CAACxO,GAAJ,CAAQ,OAAR,EAAiB0O,GAAjB;EACA,gBAAIJ,UAAU,GAAG,EAAjB,EACII,GAAG,GAAGvd,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,EAAuCvG,OAAvC,CAA+C,IAA/C,EAAqD4jB,GAArD,CAAN;EACJF,YAAAA,GAAG,CAAC7K,IAAJ,CAAS+K,GAAT;EACAH,YAAAA,IAAI,CAACnU,WAAL,CAAiB,QAAjB,EAA2B9G,IAA3B;EACAlB,YAAAA,KAAK,CAACpD,IAAN,CAAW,WAAX,EAAwBsf,UAAU,IAAInd,EAAE,CAACid,qBAAzC;EACH,WAjBD,MAiBO;EACHG,YAAAA,IAAI,CAACrU,QAAL,CAAc,QAAd,EAAwBjI,IAAxB;EACAG,YAAAA,KAAK,CAACpD,IAAN,CAAW,WAAX,EAAwB,IAAxB;EACH;EACJ;EA7BW,OAAhB;EA+BP,KAlCD;EAmCH;;EACD,MAAIhG,CAAC,CAAC4N,EAAF,CAAK+X,UAAT,EAAqB;EACjB3lB,IAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,wBAAX,EAAqC1G,IAArC,CAA0C,YAAW;EACjD,UAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACA,UAAI,CAACoJ,KAAK,CAACpD,IAAN,CAAW,YAAX,CAAL,EACIoD,KAAK,CAACuc,UAAN,CAAiB;EACb,0BAAkBxd,EAAE,CAACyd,wBADR;EAEb,qBAAazd,EAAE,CAAC0d,2BAFH;EAGb,qBAAa1d,EAAE,CAAC2d,2BAHH;EAIb,mBAAW3d,EAAE,CAAC4d,wBAJD;EAKb,wBAAgB5d,EAAE,CAAC6d,8BALN;EAMb,+BAAuB,6BAASC,GAAT,EAAc;EACjC,cAAI7c,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACAA,UAAAA,CAAC,CAAC,MAAMoJ,KAAK,CAACwB,IAAN,CAAW,qBAAX,CAAP,CAAD,CAA2C4B,GAA3C,CAA+CyZ,GAA/C,EAAoDlN,MAApD,GAA6D8B,KAA7D,GAAqEqL,cAArE,CAAoF,OAApF,EAFiC;;EAGjClmB,UAAAA,CAAC,CAAC,MAAMoJ,KAAK,CAACwB,IAAN,CAAW,uBAAX,CAAP,CAAD,CAA6C4B,GAA7C,CAAiDyZ,GAAjD;EACAjmB,UAAAA,CAAC,CAAC,MAAMoJ,KAAK,CAACwB,IAAN,CAAW,wBAAX,CAAP,CAAD,CAA8CsG,QAA9C,CAAuD,QAAvD,EAAiEjI,IAAjE;EACH;EAXY,OAAjB;EAaP,KAhBD;EAiBH;EACJ;;EAGM,SAASqU,SAAT,CAAmBlL,MAAnB,EAA2B2K,KAA3B,EAAkC;EACrC,MAAI3W,GAAG,GAAG+B,EAAE,CAACge,SAAH,GAAehe,EAAE,CAACie,OAA5B;EAAA,MACInJ,MAAM,GAAG,IAAIC,eAAJ,CAAoBH,KAApB,CADb;;EAEA,MAAI5U,EAAE,CAACke,eAAP,EAAwB;EACpB,QAAIrmB,CAAC,CAACyS,QAAF,CAAWL,MAAX,CAAJ,EAAwB;EAAE;EACtBhM,MAAAA,GAAG,IAAIgM,MAAM,GAAGA,MAAH,GAAY,EAAzB;EACH,KAFD,MAEO,IAAIuF,KAAK,CAACC,OAAN,CAAcxF,MAAd,CAAJ,EAA2B;EAAE;EAChC,UAAIkU,KAAK,GAAGlU,MAAM,CAACzN,GAAP,CAAW,UAASka,CAAT,EAAY;EAC/B,eAAO0H,kBAAkB,CAAC1H,CAAD,CAAzB;EACH,OAFW,EAETpL,IAFS,CAEJ,GAFI,CAAZ;EAGArN,MAAAA,GAAG,IAAIkgB,KAAK,GAAGA,KAAH,GAAW,EAAvB;EACH;EACJ,GATD,MASO;EACH,QAAIlU,MAAJ,EACI6K,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAACqe,eAAd,EAA+BpU,MAA/B;EACP;;EACD,MAAIqU,EAAE,GAAGxJ,MAAM,CAACtZ,QAAP,EAAT;EACA,SAAOyC,GAAG,IAAIqgB,EAAE,GAAG,MAAMA,EAAT,GAAc,EAApB,CAAV;EACH;;EAGM,SAASC,eAAT,GAA2B;EAC9B,MAAIC,WAAJ;EAAA,MAAiBzI,KAAjB;EAAA,MAAwB0I,cAAxB;EAAA,MAAwCC,OAAxC;EAAA,MACIC,YAAY,GAAI3e,EAAE,CAAC4e,2BAAH,GAAiC,CAAjC,IAAsC5e,EAAE,CAACiQ,WAAH,IAAkBjQ,EAAE,CAAC6e,YAD/E,CAD8B;;EAI9B,MAAIC,SAAS,GAAG,SAAZA,SAAY,GAAM;EAClBjnB,IAAAA,CAAC,CAACmF,GAAF,CAAMmY,SAAS,CAACnV,EAAE,CAAC+e,kBAAJ,CAAf,EAAwC;EAAE,aAAOxhB,MAAM;EAAf,KAAxC,EAA6D,UAACyhB,KAAD,EAAW;EACpE,UAAIA,KAAK,IAAInnB,CAAC,CAAC6H,QAAF,CAAWsf,KAAX,CAAb,EAAgC;EAAE;EAC9Bhf,QAAAA,EAAE,CAAC8P,UAAH,GAAgBkP,KAAK,CAAChf,EAAE,CAAC6P,cAAJ,CAArB;EACA7P,QAAAA,EAAE,CAACgQ,iBAAH,GAAuBgP,KAAK,CAAChf,EAAE,CAAC+P,qBAAJ,CAA5B;EACH;EACJ,KALD;EAMH,GAPD,CAJ8B;;EAa9B,MAAIkP,UAAU,GAAG,SAAbA,UAAa,GAAM;EACnBP,IAAAA,OAAO,GAAG1e,EAAE,CAACkf,yBAAb;EACAV,IAAAA,WAAW,GAAGxe,EAAE,CAACmf,eAAH,GAAqBnf,EAAE,CAACkf,yBAAtC;;EACA,QAAIV,WAAW,GAAG,CAAlB,EAAqB;EAAE;EACnBA,MAAAA,WAAW,GAAG,CAAd;EACAE,MAAAA,OAAO,GAAG1e,EAAE,CAACmf,eAAb;EACH;;EACD,QAAIpJ,KAAJ,EACIA,KAAK,CAACgB,MAAN,GARe;EAStB,GATD,CAb8B;;EAwB9B,MAAIqI,OAAO,GAAG,SAAVA,OAAU,GAAM;EAChB,QAAIX,cAAJ,EACIA,cAAc,CAAC1H,MAAf,GAFY;;EAGhB,QAAI2H,OAAO,GAAG,CAAd,EAAiB;EACb,UAAIW,aAAJ;EACAC,MAAAA,IAAI,CAACC,IAAL,mCACOvf,EAAE,CAACwf,kBADV;EAEIhN,QAAAA,IAAI,EAAE,4BAA4BxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,mBAAnB,EAAwCvG,OAAxC,CAAgD,IAAhD,EAAsD,sCAAsC+kB,OAAtC,GAAgD,SAAtG,CAA5B,GAA+I,MAFzJ;EAGIe,QAAAA,iBAAiB,EAAE,IAHvB;EAIIC,QAAAA,iBAAiB,EAAE1f,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,OAAnB,CAJvB;EAKI6V,QAAAA,KAAK,EAAE2I,OAAO,GAAG,IALrB;EAMIiB,QAAAA,gBAAgB,EAAE,IANtB;EAOIC,QAAAA,iBAAiB,EAAE,KAPvB;EAQIC,QAAAA,cAAc,EAAE,KARpB;EASIC,QAAAA,YAAY,EAAE,wBAAM;EAChBT,UAAAA,aAAa,GAAGU,WAAW,CAAC,YAAM;EAC9B,gBAAMC,OAAO,GAAGV,IAAI,CAACW,UAAL,EAAhB;EACA,gBAAM7a,GAAG,GAAG4a,OAAO,CAACjV,aAAR,CAAsB,qBAAtB,CAAZ;EACA,gBAAI3F,GAAJ,EACIA,GAAG,CAAC8a,WAAJ,GAAkB5iB,IAAI,CAAC6iB,KAAL,CAAWb,IAAI,CAACc,YAAL,KAAsB,IAAjC,CAAlB;EACP,WAL0B,EAKxB,IALwB,CAA3B;EAMH,SAhBL;EAiBIC,QAAAA,OAAO,EAAE,mBAAM;EACXC,UAAAA,aAAa,CAACjB,aAAD,CAAb;EACH;EAnBL,UAoBG7S,IApBH,CAoBQ,UAACyC,MAAD,EAAY;EAChB,YAAIA,MAAM,CAACrW,KAAX,EAAkB;EAAE;EAChBkmB,UAAAA,SAAS;EACT,cAAI,CAACH,YAAD,IAAiB3e,EAAE,CAACmf,eAAH,GAAqB,CAA1C,EACIoB,QAAQ;EACf,SAJD,MAIO,IAAItR,MAAM,CAACuR,OAAP,KAAmBlB,IAAI,CAACmB,aAAL,CAAmB1K,KAA1C,EAAiD;EAAE;EACtDkJ,UAAAA,UAAU;EACVjlB,UAAAA,MAAM,CAACsX,QAAP,GAAkBtR,EAAE,CAAC0gB,WAAH,GAAiB,YAAnC;EACH;EACJ,OA7BD;EA8BH;EACJ,GApCD,CAxB8B;;EA8D9B,MAAIH,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACjBtB,IAAAA,UAAU,GADO;;EAEjBlJ,IAAAA,KAAK,GAAGle,CAAC,CAACgW,KAAF,CAAQ2Q,WAAW,GAAG,IAAtB,EAA4B,IAA5B,EAAkCY,OAAlC,CAAR;EACH,GAHD;;EAIA,MAAIT,YAAJ,EAAkB;EAAE;EAChB,QAAIgC,iBAAiB,GAAI3gB,EAAE,CAAC4e,2BAAH,GAAiC,CAAlC,GAAuC5e,EAAE,CAAC4e,2BAA1C,GAAwE5e,EAAE,CAACmf,eAAH,GAAqBnf,EAAE,CAACkf,yBAAxH;EACA,QAAIyB,iBAAiB,IAAI,CAAzB,EACIA,iBAAiB,GAAG,EAApB;EACJlC,IAAAA,cAAc,GAAG5mB,CAAC,CAACgW,KAAF,CAAQ8S,iBAAiB,GAAG,IAA5B,EAAkC,IAAlC,EAAwC7B,SAAxC,EAAmD,IAAnD,EAAyD,IAAzD,CAAjB,CAJc;EAKjB,GALD,MAKO;EACH,QAAI9e,EAAE,CAACmf,eAAH,GAAqB,CAAzB;EACIoB,MAAAA,QAAQ;EACf;EACJ;;EAGM,SAASK,eAAT,CAAyBrhB,CAAzB,EAA4B;EAC/B,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EACA6B,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,kEAAX,EAA+EC,KAA/E,CAAqF,UAAShB,CAAT,EAAY;EAC7F,QAAI8R,IAAI,GAAGxZ,CAAC,CAAC,IAAD,CAAD,CAAQ4K,IAAR,CAAa,MAAb,CAAX;EACA,QAAI4O,IAAI,IAAIA,IAAI,IAAI,GAApB,EACIwP,YAAY,CAACxP,IAAD,CAAZ;EACJ9R,IAAAA,CAAC,CAACC,cAAF;EACH,GALD;EAMH;;EAGM,SAASshB,yBAAT,CAAmCvhB,CAAnC,EAAsC;EACzC,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EAAA,MACIiM,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CADX;EAAA,MAEIkf,IAAI,GAAG9e,GAAG,CAAC3B,IAAJ,CAAS,sCAAT,CAFX;;EAGA,MAAI0gB,OAAO,GAAG,SAAVA,OAAU,CAAShf,EAAT,EAAa;EACvB,QAAI8H,IAAI,GAAGiX,IAAI,CAACtgB,MAAL,CAAY,aAAauB,EAAb,GAAkB,KAA9B,CAAX;EAAA,QAAiDoD,GAAG,GAAG0E,IAAI,CAAC1Q,MAA5D;EAAA,QAAoEogB,GAAG,GAAG1P,IAAI,CAACrJ,MAAL,CAAY,UAAZ,EAAwBrH,MAAlG;EACA0Q,IAAAA,IAAI,CAAC3J,OAAL,CAAa,MAAb,EAAqBG,IAArB,CAA0B,0BAA0B0B,EAApD,EACKZ,IADL,CACU,SADV,EACqBoY,GAAG,IAAIpU,GAD5B,EACiChE,IADjC,CACsC,eADtC,EACuDoY,GAAG,IAAIpU,GAAP,IAAcoU,GAAG,IAAI,CAD5E;EAEH,GAJD;;EAKAuH,EAAAA,IAAI,CAACxgB,KAAL,CAAW,UAAShB,CAAT,EAAY;EACnByhB,IAAAA,OAAO,CAAC,KAAKznB,IAAL,CAAU4R,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAD,CAAP;EACH,GAFD;EAGAlJ,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,oDAAT,EAA+D1G,IAA/D,CAAoE,YAAW;EAC3EonB,IAAAA,OAAO,CAAC,KAAKhf,EAAN,CAAP,CAD2E;;EAE9E,GAFD;EAGH;;EAGM,SAAS6e,YAAT,CAAsBxP,IAAtB,EAA4BxT,IAA5B,EAAkC;EACrC,MAAIojB,GAAG,GAAGjnB,MAAM,CAAC0G,MAAjB;EAAA,MACIwgB,EAAE,GAAGD,GAAG,CAAC1O,MADb;EAAA,MAEI4O,IAAI,GAAGF,GAAG,CAAC3B,IAFf;EAAA,MAGI8B,GAAG,GAAGH,GAAG,CAACjrB,QAHd;EAAA,MAIIqrB,IAAI,GAAGH,EAAE,CAACE,GAAD,CAJb;EAAA,MAKIxR,MAAM,GAAG/R,IAAI,GAAG,MAAH,GAAY,KAL7B;EAAA,MAMIyjB,MAAM,GAAGjQ,IAAI,CAACvR,QAAL,CAAc,aAAd,CANb;EAOA,SAAOqhB,IAAI,CAAC5B,IAAL,mCACAvf,EAAE,CAACwf,kBADH;EAEHhN,IAAAA,IAAI,EAAE,QAAQxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAAR,GAA0C,MAF7C;EAGH0f,IAAAA,iBAAiB,EAAE,KAHhB;EAIHC,IAAAA,cAAc,EAAE,KAJb;EAKHC,IAAAA,YAAY,EAAE,wBAAM;EAChBqB,MAAAA,IAAI,CAACI,WAAL,IACAL,EAAE,CAACtV,IAAH,CAAQ;EACJ3N,QAAAA,GAAG,EAAEoT,IADD;EAEJtY,QAAAA,IAAI,EAAE6W,MAFF;EAGJ4R,QAAAA,KAAK,EAAE,KAHH;EAIJ3jB,QAAAA,IAAI,EAAEA,IAAI,IAAI,IAJV;EAKJ4jB,QAAAA,SAAS,EAAE;EACPC,UAAAA,YAAY,EAAEJ,MAAM,GAAG,MAAH,GAAY;EADzB;EALP,OAAR,EAQGtS,IARH,CAQQ,UAACnR,IAAD,EAAO8jB,UAAP,EAAmBC,KAAnB,EAA6B;EACjC,YAAI3jB,GAAG,GAAGgjB,GAAG,CAAC3G,GAAJ,CAAQuH,eAAR,CAAwBP,MAAM,GAAG,IAAI/oB,IAAJ,CAAS,CAACsF,IAAD,CAAT,EAAiB;EAAE9E,UAAAA,IAAI,EAAE;EAAR,SAAjB,CAAH,GAA6C8E,IAA3E,CAAV;EAAA,YACI9C,CAAC,GAAGqmB,GAAG,CAAClrB,aAAJ,CAAkB,GAAlB,CADR;EAAA,YAEI4rB,EAAE,GAAGF,KAAK,CAACG,iBAAN,CAAwB,qBAAxB,CAFT;EAAA,YAGIrf,CAAC,GAAGof,EAAE,CAACrd,KAAH,CAAS,oCAAT,CAHR;EAIA1J,QAAAA,CAAC,CAACinB,KAAF,CAAQ1L,OAAR,GAAkB,MAAlB;EACAvb,QAAAA,CAAC,CAACsW,IAAF,GAASpT,GAAT;EACA,YAAIyE,CAAJ,EACI3H,CAAC,CAACknB,QAAF,GAAavf,CAAC,CAAC,CAAD,CAAD,IAAQA,CAAC,CAAC,CAAD,CAAtB;EACJ0e,QAAAA,GAAG,CAACpjB,IAAJ,CAASkkB,WAAT,CAAqBnnB,CAArB;EACAA,QAAAA,CAAC,CAACwF,KAAF;EACA8gB,QAAAA,IAAI,CAACte,OAAL,CAAa,QAAb,EAAuB,CAAC;EAAE,kBAAQ,MAAV;EAAkB,iBAAOsO,IAAzB;EAA+B,uBAAapT;EAA5C,SAAD,CAAvB;EACAgjB,QAAAA,GAAG,CAAC3G,GAAJ,CAAQ6H,eAAR,CAAwBlkB,GAAxB;EACAkjB,QAAAA,IAAI,CAACpJ,KAAL;EACH,OAtBD,EAsBGqK,IAtBH,CAsBQ,YAAM;EACVjB,QAAAA,IAAI,CAACkB,qBAAL,CAA2B,kCAAkCriB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB,CAAlC,GAAyE,OAAzE,GAAmFoiB,QAAnF,GAA8F,QAAzH;EACAjB,QAAAA,IAAI,CAACte,OAAL,CAAa,QAAb,EAAuB,CAAC;EAAE,kBAAQ,MAAV;EAAkB,iBAAOsO;EAAzB,SAAD,CAAvB;EACH,OAzBD,EAyBGlC,MAzBH,CAyBU,YAAM;EACZkS,QAAAA,IAAI,CAACte,OAAL,CAAa,QAAb,EAAuB,CAAC;EAAE,kBAAQ,QAAV;EAAoB,iBAAOsO;EAA3B,SAAD,CAAvB;EACH,OA3BD,CADA;EA6BH;EAnCE,KAAP;EAqCH;;EAGM,SAASkR,QAAT,CAAkBhjB,CAAlB,EAAqB;EACxB,MAAI,CAACS,EAAE,CAACwiB,SAAR,EACI;EACJ,MAAI3gB,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EACA6B,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,aAAX,EAA0B1G,IAA1B,CAA+B,YAAY;EACvC,SAAK6oB,GAAL,GAAW,KAAK1a,OAAL,CAAa0a,GAAxB;EACH,GAFD;EAGAlI,EAAAA,SAAS,CAACxX,OAAV,CAAkB,UAAlB,EAPwB;EAQ3B;;EAGM,SAAS2f,sBAAT,GAAkC;EACrC,MAAIC,MAAM,GAAG9qB,CAAC,CAAC,0BAAD,CAAD,CAA8B8I,IAA9B,CAAmC,YAAnC,EAAiD9C,IAAjD,CAAsD,SAAtD,CAAb;;EACA,MAAI8kB,MAAJ,EAAY;EACRA,IAAAA,MAAM,CAACtH,QAAP,CAAgBuH,iBAAhB;;EACAD,IAAAA,MAAM,CAACtH,QAAP,CAAgBwH,eAAhB;EACH;EACJ;;EAGM,SAASC,cAAT,CAAwBvjB,CAAxB,EAA2B;EAC9B,MAAI,CAACS,EAAE,CAAC+iB,YAAR,EACI;EACJ,MAAIlhB,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EACA,MAAI+W,QAAQ,GAAGzR,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkBgI,EAAE,CAACgjB,gBAArB,EAAuC;EAClD9I,IAAAA,KAAK,EAAEla,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB,CAD2C;EAElD+iB,IAAAA,OAAO,EAAEjjB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,iBAAnB,CAFyC;EAGlDgjB,IAAAA,QAAQ,EAAEljB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAHwC;EAIlDW,IAAAA,IAAI,EAAEb,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB,CAJ4C;EAKlD6X,IAAAA,KAAK,EAAE/X,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB,CAL2C;EAMlDijB,IAAAA,QAAQ,EAAEnjB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CANwC;EAOlDkjB,IAAAA,QAAQ,EAAEpjB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB;EAPwC,GAAvC,CAAf;EASArI,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,cAAX,EAA2B1G,IAA3B,CAAgC,YAAW;EACvC,QAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACAoJ,IAAAA,KAAK,CAACoiB,QAAN,CAAe/nB,MAAM,CAACtD,MAAP,CAAc;EAAEsrB,MAAAA,GAAG,EAAEriB,KAAK,CAACpD,IAAN,CAAW,KAAX;EAAP,KAAd,EAA0CkP,QAA1C,CAAf;EACH,GAHD;EAIH;;EAGM,SAASwW,cAAT,CAAwBhkB,CAAxB,EAA2B;EAC9B,MAAI,CAACS,EAAE,CAACwjB,SAAR,EACI;EACJ,MAAI3hB,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EAAA,MACIkG,OAAO,GAAGZ,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkBgI,EAAE,CAACyjB,gBAArB,CADd;EAEA5rB,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMvB,IAAN,CAAW,eAAX,EAA4ByJ,GAA5B,CAAgC,kBAAhC,EAAoDnQ,IAApD,CAAyD,YAAW;EAAE;EAClE,QAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EAAA,QAAqBoG,GAAG,GAAGgD,KAAK,CAACpD,IAAN,CAAW,KAAX,CAA3B;EAAA,QAA8C2U,IAAI,GAAGvR,KAAK,CAACuR,IAAN,EAArD;EACA,QAAIvU,GAAJ,EACIylB,SAAS,CAACC,KAAV,CAAgB1lB,GAAhB,EAAqB,IAArB,EAA2B3C,MAAM,CAACtD,MAAP,CAAckE,OAAd,EAAuB;EAAE0nB,MAAAA,YAAY,EAAEpR;EAAhB,KAAvB,CAA3B;EACP,GAJD;EAKH;;EAGM,SAASqR,YAAT,CAAsBtkB,CAAtB,EAAyB;EAC5B,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EAAA,MAAgDiM,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAvD;EACAI,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,sFAAT,EAAiG1G,IAAjG,CAAsG,YAAW;EAC7G,QAAIqH,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACAoJ,IAAAA,KAAK,CAACyb,OAAN,CAAcphB,MAAM,CAACtD,MAAP,CAAc;EAAEwa,MAAAA,IAAI,EAAE,IAAR;EAAcqK,MAAAA,SAAS,EAAE,QAAzB;EAAmCC,MAAAA,UAAU,EAAE9c,EAAE,CAAC8c;EAAlD,KAAd,EAA8E7b,KAAK,CAACpD,IAAN,EAA9E,CAAd;EACH,GAHD;EAIAoE,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,mBAAT,EAA8B1G,IAA9B,CAAmC8iB,OAAnC,EAN4B;;EAO5Bza,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,aAAT,EAAwBoc,OAAxB,CAAgC;EAAEG,IAAAA,SAAS,EAAE,QAAb;EAAuBC,IAAAA,UAAU,EAAE9c,EAAE,CAAC8c;EAAtC,GAAhC;EACA7a,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,aAAT,EAAwBwjB,OAAxB,CAAgC;EAAEhH,IAAAA,UAAU,EAAE9c,EAAE,CAAC8c;EAAjB,GAAhC;EACH;;EAGM,SAASxM,SAAT,CAAmBzS,IAAnB,EAAyB;EAC5B,MAAIhG,CAAC,CAACyS,QAAF,CAAWzM,IAAX,CAAJ,EAAsB;EAClB,QAAI;EACA,aAAO6Q,IAAI,CAACqV,KAAL,CAAWlmB,IAAX,CAAP;EACH,KAFD,CAEE,OAAM0B,CAAN,EAAS;EACP,aAAO9F,SAAP;EACH;EACJ;;EACD,SAAOoE,IAAP;EACH;;EAGM,SAASmmB,qBAAT,CAA+BniB,EAA/B,EAAmC;EACtC,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EAAA,MACIH,EAAE,GAAGO,GAAG,CAAC9B,OAAJ,CAAY,sBAAZ,CADT;EAAA,MAEI8jB,IAAI,GAAGpiB,EAAE,CAACG,EAAH,CAAMnC,MAAN,CAAa,CAAb,CAFX;EAAA,MAGIqkB,IAAI,GAAGxiB,EAAE,CAACpB,IAAH,CAAQ,kBAAR,CAHX;EAAA,MAII6jB,KAAK,GAAGziB,EAAE,CAACpB,IAAH,CAAQ,mBAAR,CAJZ;EAAA,MAKI8jB,EAAE,GAAGD,KAAK,CAAC7jB,IAAN,CAAW,cAAc2jB,IAAd,GAAqB,eAArB,GAAuCA,IAAvC,GAA8C,MAAzD,CALT;EAAA,MAMII,IAAI,GAAGD,EAAE,CAAChrB,MANd;EAAA,MAOIkrB,KAAK,GAAG5iB,EAAE,CAACpB,IAAH,CAAQ,iBAAR,CAPZ;EAAA,MAQIikB,OAAO,GAAGD,KAAK,CAAClrB,MARpB;EAAA;EASIorB,EAAAA,IAAI,GAAG9iB,EAAE,CAACpB,IAAH,CAAQ,gBAAR,CATX;EAAA,MAUImkB,IAAI,GAAG/iB,EAAE,CAACpB,IAAH,CAAQ,qBAAR,CAVX;EAAA,MAWIokB,GAAG,GAAGD,IAAI,CAACnkB,IAAL,CAAU,cAAc2jB,IAAd,GAAqB,IAA/B,EAAqC5f,GAArC,EAXV;EAAA,MAYIsgB,KAAK,GAAGjjB,EAAE,CAACpB,IAAH,CAAQ,sBAAR,CAZZ;EAAA,MAaIskB,IAAI,GAAGD,KAAK,CAACrkB,IAAN,CAAW,cAAc2jB,IAAd,GAAqB,IAAhC,EAAsC5f,GAAtC,EAbX;EAAA,MAcIwgB,SAAS,GAAGH,GAAG,IAAI,SAdvB;EAAA;EAeII,EAAAA,SAAS,GAAG,CAAC,SAAD,EAAY,aAAZ,EAA2BhlB,QAA3B,CAAoC4kB,GAApC,CAfhB;EAAA,MAgBIK,UAAU,GAAG,CAAC,SAAD,EAAY,aAAZ,EAA2BjlB,QAA3B,CAAoC8kB,IAApC,CAhBjB;EAAA,MAiBII,QAAQ,GAAG,CAACX,IAAD,IAASQ,SAjBxB;EAAA,MAkBII,KAAK,GAAGH,SAlBZ;EAAA,MAmBII,KAAK,GAAG,CAACL,SAAD,KAAe,CAACN,OAAD,IAAYQ,UAA3B,CAnBZ;EAoBAT,EAAAA,KAAK,CAAC1jB,WAAN,CAAkB,QAAlB,EAA4BokB,QAA5B,EAAsC1kB,IAAtC,CAA2C,QAA3C,EAAqDc,IAArD,CAA0D,UAA1D,EAAsE4jB,QAAtE;EACAR,EAAAA,IAAI,CAAC5jB,WAAL,CAAiB,QAAjB,EAA2B,CAACikB,SAA5B;EACAF,EAAAA,KAAK,CAAC/jB,WAAN,CAAkB,QAAlB,EAA4BokB,QAA5B,EAAsC1kB,IAAtC,CAA2C,QAA3C,EAAqDc,IAArD,CAA0D,UAA1D,EAAsE4jB,QAAtE;EACAd,EAAAA,IAAI,CAACtjB,WAAL,CAAiB,QAAjB,EAA2BqkB,KAA3B,EAAkC3kB,IAAlC,CAAuC,QAAvC,EAAiDc,IAAjD,CAAsD,UAAtD,EAAkE6jB,KAAlE;EACAd,EAAAA,KAAK,CAACvjB,WAAN,CAAkB,QAAlB,EAA4BskB,KAA5B,EAAmC5kB,IAAnC,CAAwC,QAAxC,EAAkDc,IAAlD,CAAuD,UAAvD,EAAmE8jB,KAAnE;EACH;;EAGD,SAASC,SAAT,CAAmB5lB,CAAnB,EAAsB;EAClB,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EAAA,MACIiM,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CADX;EAAA,MAEI4W,GAAG,GAAGzY,EAAE,CAACuR,KAAH,CAASkH,GAAT,EAFV;;EAGA,uDAAeA,GAAf,wCAAoB;EAAA,QAAXzW,EAAW;EAChB,QAAIC,GAAG,CAAC3B,IAAJ,CAAS,MAAM0B,EAAf,CAAJ,EACIuP,KAAK,CAACvU,GAAN,CAAUgF,EAAV,EAAcjE,IAAd;EACP;EACJ;;EAGD,SAASqnB,OAAT,CAAiBzU,IAAjB,EAAuB7W,EAAvB,EAA2BgE,KAA3B,EAAkC+T,SAAlC,EAA6C;EACzC,MAAI/T,KAAJ,EAAW;EAAE;EACT,WAAOwhB,IAAI,CAACC,IAAL,mCACAvf,EAAE,CAACwf,kBADH;EAEHhN,MAAAA,IAAI,EAAE7B,IAFH;EAGH7S,MAAAA,KAAK,EAAE,MAHJ;EAIH4hB,MAAAA,iBAAiB,EAAE1f,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,OAAnB,CAJhB;EAKHmlB,MAAAA,gBAAgB,EAAExtB,CAAC,CAACytB,UAAF,CAAaxrB,EAAb,CALf;EAMHyrB,MAAAA,gBAAgB,EAAEvlB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CANf;EAOHslB,MAAAA,cAAc,EAAE3T,SAAS,IAAK,UAACjZ,KAAD,EAAW;EACrC,YAAI,CAACA,KAAL,EACI,OAAOoH,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,YAAnB,CAAP;EACP;EAVE,QAWJsM,IAXI,CAWC,UAAAyC,MAAM,EAAI;EACd,UAAIpX,CAAC,CAACytB,UAAF,CAAaxrB,EAAb,CAAJ,EACIA,EAAE,CAACmV,MAAM,CAACrW,KAAR,CAAF;EACP,KAdM,CAAP;EAeH,GAhBD,MAgBO;EAAE;EACL,WAAO0mB,IAAI,CAACC,IAAL,mCACAvf,EAAE,CAACwf,kBADH;EAEHhN,MAAAA,IAAI,EAAE,UAAU7B,IAAV,GAAiB,QAFpB;EAGH+O,MAAAA,iBAAiB,EAAE1f,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,OAAnB,CAHhB;EAIHmlB,MAAAA,gBAAgB,EAAExtB,CAAC,CAACytB,UAAF,CAAaxrB,EAAb,CAJf;EAKHyrB,MAAAA,gBAAgB,EAAEvlB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB;EALf,QAMJsM,IANI,CAMC,UAAAyC,MAAM,EAAI;EACd,UAAIpX,CAAC,CAACytB,UAAF,CAAaxrB,EAAb,CAAJ,EACIA,EAAE,CAACmV,MAAM,CAACrW,KAAR,CAAF;EACP,KATM,CAAP;EAUH;EACJ;;EAKM,SAAS6sB,KAAT,CAAevpB,OAAf,EAAwB;EAC3BA,EAAAA,OAAO,GAAGZ,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkBgI,EAAE,CAAC0lB,YAArB,EAAmCxpB,OAAnC,CAAV;EACAqe,EAAAA,SAAS,CAACoL,MAAV,CAAiB,QAAjB,EAA2BzpB,OAA3B;EACA,MAAI0pB,QAAQ,GAAG1pB,OAAO,CAAC0pB,QAAvB;EAAA,MACI1U,UAAU,GAAGrZ,CAAC,CAAC,qBAAqB+tB,QAAQ,CAAC,CAAD,CAAR,CAAYC,WAAZ,EAArB,GAAiDD,QAAQ,CAACE,SAAT,CAAmB,CAAnB,CAAlD,CADlB;EAEA,SAAO5U,UAAU,CAACmI,QAAX,GAAsB0M,KAAtB,EAAP;EACH;EAED;;;;;;;EAMO,SAASC,SAAT,CAAmBrY,GAAnB,EAAwB5U,IAAxB,EAA8B;EACjCA,EAAAA,IAAI,GAAGA,IAAI,IAAI,QAAf;EACA,SAAO0sB,KAAK,CAAC;EACTQ,IAAAA,KAAK,EAAE,iBAAiBltB,IADf;EAETmhB,IAAAA,KAAK,EAAEla,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmBnH,IAAnB,CAFE;EAGTiF,IAAAA,IAAI,EAAE2P,GAHG;EAITuY,IAAAA,QAAQ,EAAGntB,IAAI,IAAI,SAAT,GAAsBiH,EAAE,CAACmmB,sBAAzB,GAAkD,KAJnD;EAI0D;EACnE9P,IAAAA,KAAK,EAAGtd,IAAI,IAAI,SAAT,GAAsBiH,EAAE,CAAComB,2BAAzB,GAAsD;EALpD,GAAD,CAAZ;EAOH;;EAGM,SAAStd,OAAT,CAAiBjH,EAAjB,EAAqB;EACxB,MAAIA,EAAE,YAAYiR,IAAlB,EACI,OAAOjR,EAAE,CAACsG,QAAH,CAAY,CAAZ,CAAP;EACJ,MAAIlG,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EAAA,MAAiBwkB,EAAE,GAAGpkB,GAAG,CAAC9B,OAAJ,CAAY,UAAZ,CAAtB;EACA,MAAI,CAACkmB,EAAE,CAAC,CAAD,CAAP;EACIA,IAAAA,EAAE,GAAGpkB,GAAG,CAAC9B,OAAJ,CAAY,iCAAZ,EAA+CG,IAA/C,CAAoD,UAApD,EAAgEyJ,GAAhE,CAAoE,gBAApE,CAAL;EACJ,SAAOsc,EAAE,CAAC,CAAD,CAAT;EACH;;EAGM,SAAS5V,WAAT,CAAqB/U,IAArB,EAA2B;EAC9B,MAAIgP,QAAQ,GAAG,4DAAf;EAAA,MACI4b,GAAG,GAAGzuB,CAAC,CAAC6D,IAAD,CAAD,CAAQ4E,IAAR,CAAaoK,QAAb,EAAuBjK,MAAvB,CAA8B,UAA9B,EAA0CzD,GAA1C,EADV;;EAEA,OAAK,IAAIjD,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAG8M,GAAG,CAACltB,MAA1B,EAAkCW,CAAC,GAAGyf,GAAtC,EAA2Czf,CAAC,EAA5C,EAAgD;EAC5C,QAAI8H,EAAE,GAAGykB,GAAG,CAACvsB,CAAD,CAAZ;;EACA,QAAI,UAAU8P,IAAV,CAAehI,EAAE,CAACtI,IAAlB,CAAJ,EAA6B;EACzB,UAAI,MAAMsQ,IAAN,CAAWhS,CAAC,CAACgK,EAAD,CAAD,CAAMwC,GAAN,EAAX,CAAJ,EACI,OAAO,IAAP;EACP,KAHD,MAGO,IAAIxC,EAAE,CAAC9I,IAAH,IAAW,UAAX,IAAyB8I,EAAE,CAAC9I,IAAH,IAAW,OAAxC,EAAiD;EACpD,UAAI8I,EAAE,CAACxF,OAAP,EACI,OAAO,IAAP;EACP,KAHM,MAGA,IAAIwF,EAAE,CAAC9I,IAAH,IAAW,YAAX,IAA2B8I,EAAE,CAAC9I,IAAH,IAAW,iBAA1C,EAA6D;EAChE,UAAI,CAAC,CAAClB,CAAC,CAACgK,EAAD,CAAD,CAAMwC,GAAN,EAAN,EACI,OAAO,IAAP;EACP,KAHM,MAGA,IAAIxC,EAAE,CAAC9I,IAAH,IAAW,MAAX,IAAqB8I,EAAE,CAAC9I,IAAH,IAAW,QAAhC,IAA4C8I,EAAE,CAAC9I,IAAH,IAAW,UAA3D,EAAuE;EAC1E,UAAI8I,EAAE,CAACjJ,KAAP,EACI,OAAO,IAAP;EACP;EACJ;;EACD,SAAO,KAAP;EACH;;EAGM,SAAS2tB,aAAT,CAAuB1kB,EAAvB,EAA2BwC,GAA3B,EAAgC;EACnC,MAAIpD,KAAK,GAAGpJ,CAAC,CAACgK,EAAD,CAAb;EAAA,MAAmBzD,KAAK,GAAG6C,KAAK,CAACd,OAAN,CAAc,MAAd,CAA3B;EAAA,MAAkDwQ,IAAI,GAAG,EAAzD;EACAvS,EAAAA,KAAK,CAACkC,IAAN,CAAW,yBAAX,EAAsC+D,GAAtC,CAA0CA,GAAG,IAAI,EAAjD;;EACA,MAAIA,GAAG,IAAI,GAAX,EAAgB;EACZsM,IAAAA,IAAI,GAAG3Q,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,uBAAnB,CAAP;EACH,GAFD,MAEO,IAAImE,GAAG,IAAI,KAAX,EAAkB;EACrBsM,IAAAA,IAAI,GAAG3Q,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,CAAP;EACH,GAFM,MAEA,IAAImE,GAAG,IAAI,IAAX,EAAiB;EACpBsM,IAAAA,IAAI,GAAG3Q,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,CAAP;EACH,GAFM,MAEA;EACHyQ,IAAAA,IAAI,GAAG3Q,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,sBAAnB,CAAP;EACH;;EACD9B,EAAAA,KAAK,CAACkC,IAAN,CAAW,aAAX,EAA0BkS,IAA1B,CAA+B7B,IAAI,IAAKA,IAAD,GAAS,QAAT,GAAoB,EAAxB,CAAnC;EACA1P,EAAAA,KAAK,CAACd,OAAN,CAAc,IAAd,EAAoBG,IAApB,CAAyB,IAAzB,EAA+B2I,WAA/B,CAA2C,QAA3C;EACAhI,EAAAA,KAAK,CAACd,OAAN,CAAc,IAAd,EAAoB4I,QAApB,CAA6B,QAA7B;EACA,SAAO,KAAP;EACH;EAED;;;;;;;;;;EASO,SAASiD,aAAT,CAAuBrM,GAAvB,EAA4B6mB,QAA5B,EAAsCxO,KAAtC,EAA6CpH,MAA7C,EAAqD;EACxD,MAAI4H,CAAC,GAAI,KAAKrQ,QAAN,GAAkB,KAAKA,QAAL,CAAc,CAAd,CAAlB,GAAsC,KAAKzM,IAAN,GAAc,KAAKA,IAAnB,GAA0B,IAAvE,CADwD;;EAExD,MAAI,CAAC8c,CAAL,EACI;EACJ,MAAIiC,GAAG,GAAI,KAAKrS,QAAN,GAAkB,IAAlB,GAAyBmJ,KAAK,CAACvU,GAAN,CAAUwb,CAAC,CAACxW,EAAZ,CAAnC,CAJwD;;EAKxD,MAAI,CAACyY,GAAL,EACI;EACJ,MAAI,KAAK/e,IAAL,IAAa7D,CAAC,CAAC4uB,WAAF,CAAc9mB,GAAd,CAAjB;EACIA,IAAAA,GAAG,GAAG4R,KAAK,CAACvU,GAAN,CAAU,IAAV,EAAgBkN,OAAhB,CAAwB,KAAK3Q,IAA7B,EAAmCmtB,WAAnC,CAA+C/a,KAA/C,EAAN,CADJ;EAAA,OAEK,IAAI9T,CAAC,CAACyS,QAAF,CAAW3K,GAAX,CAAJ,EACDA,GAAG,GAAG8K,WAAW,CAAC9K,GAAD,EAAM6Y,CAAN,CAAjB;EACJ,MAAI,CAAC7Y,GAAD,IAAQ6P,KAAK,CAACC,OAAN,CAAc9P,GAAd,KAAsBA,GAAG,CAACvG,MAAJ,IAAc,CAAhD,EACI;EACJ,MAAIa,IAAI,GAAG,IAAX;EAAA,MAAiB0sB,OAAO,GAAG1a,OAAO,CAACC,OAAR,EAA3B;;EACA,MAAIsD,KAAK,CAACC,OAAN,CAAc9P,GAAd,KAAsB9H,CAAC,CAACyS,QAAF,CAAW3K,GAAG,CAAC,CAAD,CAAd,CAA1B,EAA8C;EAAE;EAC5C,QAAI2mB,GAAG,GAAG,EAAV;;EACA,SAAK,IAAIvsB,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAG7Z,GAAG,CAACvG,MAA1B,EAAkCW,CAAC,GAAGyf,GAAtC,EAA2Czf,CAAC,EAA5C,EAAgD;EAC5C,UAAIqP,EAAE,GAAGzJ,GAAG,CAAC5F,CAAD,CAAH,CAAOoR,KAAP,CAAa,GAAb,CAAT;;EACA,UAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAb,IAAkBa,IAAI,CAACyB,IAA3B,EAAiC;EAAE;EAC/B,YAAIgH,CAAC,GAAGkkB,KAAK,CAAC3sB,IAAD,EAAO,KAAP,CAAL,CAAmBwK,KAAnB,CAAyB,aAAzB,CAAR;EACA,YAAI/B,CAAJ,EACI/C,GAAG,CAAC5F,CAAD,CAAH,GAAS4F,GAAG,CAAC5F,CAAD,CAAH,CAAOJ,OAAP,CAAe,aAAf,EAA8B+I,CAAC,CAAC,CAAD,CAA/B,CAAT;EACP;;EACD,UAAIb,EAAE,GAAG4I,WAAW,CAAC9K,GAAG,CAAC5F,CAAD,CAAJ,EAASye,CAAT,CAApB;EAAA,UAAiCqO,KAAK,GAAG,EAAzC;EACAP,MAAAA,GAAG,CAAC7pB,IAAJ,CAASoF,EAAT;;EACA,UAAIuH,EAAE,CAAChQ,MAAH,IAAa,CAAb,IAAkBoW,KAAK,CAACC,OAAN,CAAc5N,EAAd,CAAtB,EAAyC;EAAE;EACvC,YAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EACAI,QAAAA,GAAG,CAACrI,IAAJ,CAAS,YAAW;EAChB,cAAI,CAACitB,KAAK,CAAC/mB,QAAN,CAAe,KAAKvG,IAApB,CAAL,EAAgC;EAC5BstB,YAAAA,KAAK,CAACpqB,IAAN,CAAW,KAAKlD,IAAhB;EACA,gBAAIutB,IAAI,GAAG7kB,GAAG,CAACxB,MAAJ,CAAW,YAAY,KAAKlH,IAAjB,GAAwB,IAAnC,CAAX;EAAA,gBAAqDwtB,GAAG,GAAGD,IAAI,CAACrkB,IAAL,CAAU,MAAV,CAA3D;EAAA,gBACIukB,GAAG,GAAG,CAAC,OAAD,EAAU,UAAV,EAAsBlnB,QAAtB,CAA+BinB,GAA/B,IAAsCD,IAAI,CAAC9pB,GAAL,EAAtC,GAAmD8pB,IAAI,CAAC,CAAD,CADjE;EAEAH,YAAAA,OAAO,GAAGA,OAAO,CAACna,IAAR,CAAaya,cAAc,CAACvvB,IAAf,CAAoBuC,IAApB,EAA0B+sB,GAA1B,EAA+BR,QAA/B,EAAyCxO,KAAzC,EAAgDpH,MAAhD,CAAb,CAAV;EACH;EACJ,SAPD;EAQH,OAVD,MAUO;EACH+V,QAAAA,OAAO,GAAGA,OAAO,CAACna,IAAR,CAAaya,cAAc,CAACvvB,IAAf,CAAoBuC,IAApB,EAA0B4H,EAA1B,EAA8B2kB,QAA9B,EAAwCxO,KAAxC,EAA+CpH,MAA/C,CAAb,CAAV;EACH;EACJ;;EACDjR,IAAAA,GAAG,GAAG2mB,GAAN;EACA,QAAIlc,IAAI,GAAGmH,KAAK,CAACvU,GAAN,CAAU/C,IAAV,EAAgBiQ,OAAhB,CAAwBjQ,IAAI,CAACV,IAA7B,CAAX;EACA,QAAI6Q,IAAI,IAAIoF,KAAK,CAACC,OAAN,CAAcrF,IAAI,CAAC8c,oBAAnB,CAAR,IAAoD9c,IAAI,CAAC8c,oBAAL,CAA0B,CAA1B,CAAxD;EACIP,MAAAA,OAAO,GAAGA,OAAO,CAACna,IAAR,CAAa2a,QAAQ,CAACzvB,IAAT,CAAc,IAAd,EAAoBuC,IAApB,CAAb,CAAV;EACP,GA7BD,MA6BO;EACH0sB,IAAAA,OAAO,GAAGA,OAAO,CAACna,IAAR,CAAaya,cAAc,CAACvvB,IAAf,CAAoBuC,IAApB,EAA0B0F,GAA1B,EAA+B6mB,QAA/B,EAAyCxO,KAAzC,EAAgDpH,MAAhD,CAAb,CAAV;EACH;;EACD,SAAO+V,OAAO,CAACna,IAAR,CAAa,YAAW;EAC3B+N,IAAAA,SAAS,CAACxX,OAAV,CAAkB,YAAlB,EAAgC,CAAC;EAAE0J,MAAAA,MAAM,EAAExS,IAAV;EAAgBuI,MAAAA,MAAM,EAAE7C;EAAxB,KAAD,CAAhC,EAD2B;EAE9B,GAFM,CAAP;EAGH;EAED;;;;;;;;;;EASA,SAASsnB,cAAT,CAAwBtnB,GAAxB,EAA6B6mB,QAA7B,EAAuCxO,KAAvC,EAA8CpH,MAA9C,EAAsD;EAClD,MAAI5O,EAAE,GAAG4kB,KAAK,CAACjnB,GAAD,EAAM,KAAN,CAAd;EACA,MAAI,CAACqC,EAAL,EACI;EACJ,MAAIolB,EAAE,GAAGte,OAAO,CAACnJ,GAAD,CAAhB,CAJkD;;EAKlD,MAAI,CAACynB,EAAD,IAAO,CAACA,EAAE,CAACplB,EAAf,EACI;EACJ,MAAIqlB,IAAI,GAAG9V,KAAK,CAACvU,GAAN,CAAUoqB,EAAE,CAACplB,EAAb,CAAX;EACA,MAAI,CAACqlB,IAAL,EACI;EACJ,MAAIptB,IAAI,GAAG,IAAX;EAAA,MACIf,IAAI,GAAGsW,KAAK,CAACoD,IAAN,CAAWtW,SAAX,CADX;EAAA,MAEI8M,EAAE,GAAG2C,eAAe,CAACpM,GAAD,CAFxB;EAAA,MAGI+C,CAAC,GAAGV,EAAE,CAACyC,KAAH,CAAS,eAAT,CAHR;EAAA,MAII2G,MAAM,GAAG1I,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,EAJxB;EAAA,MAKIkI,QAAQ,GAAGlI,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,EAL1B;EAAA,MAMI+R,GAAG,GAAG,EANV;EAAA,MAOIrK,IAAI,GAAGid,IAAI,CAACnd,OAAL,CAAalI,EAAb,CAPX;EAAA,MAQIslB,IAAI,GAAGzvB,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,CAAY,UAAZ,EAAwB,IAAxB,CARX;;EASA,MAAIhG,CAAC,CAAC4uB,WAAF,CAAcD,QAAd,CAAJ,EAA6B;EAAE;EAC3BA,IAAAA,QAAQ,GAAGpc,IAAI,CAACsB,YAAL,CAAkBC,KAAlB,EAAX,CADyB;;EAEzB,QAAIf,QAAQ,IAAI,EAAhB,EAAoB;EAChB,WAAK,IAAI7Q,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGgN,QAAQ,CAACptB,MAA/B,EAAuCW,CAAC,GAAGyf,GAA3C,EAAgDzf,CAAC,EAAjD,EAAqD;EACjD,YAAIF,GAAG,GAAG2sB,QAAQ,CAACzsB,CAAD,CAAR,CAAYoR,KAAZ,CAAkB,GAAlB,CAAV;EACA,YAAItR,GAAG,CAACT,MAAJ,IAAc,CAAlB;EACIotB,UAAAA,QAAQ,CAACzsB,CAAD,CAAR,GAAcysB,QAAQ,CAACzsB,CAAD,CAAR,CAAYJ,OAAZ,CAAoB,KAApB,EAA2B,MAAMiR,QAAN,GAAiB,GAA5C,CAAd;EACP;EACJ;EACJ;;EACD,MAAI4E,KAAK,CAACC,OAAN,CAAc+W,QAAd,KAA2BA,QAAQ,CAACptB,MAAT,GAAkB,CAAjD,EAAoD;EAChD,QAAIoW,KAAK,CAACC,OAAN,CAAc+W,QAAQ,CAAC,CAAD,CAAtB,CAAJ,EAAgC;EAAE;EAC9B/R,MAAAA,GAAG,GAAG+R,QAAN;EACH,KAFD,MAEO,IAAI3uB,CAAC,CAACyS,QAAF,CAAWkc,QAAQ,CAAC,CAAD,CAAnB,CAAJ,EAA6B;EAAE;EAClC,WAAK,IAAIzsB,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGgN,QAAQ,CAACptB,MAA/B,EAAuCW,CAAC,GAAGyf,GAA3C,EAAgDzf,CAAC,EAAjD;EACI0a,QAAAA,GAAG,CAAChY,IAAJ,CAASsP,eAAe,CAACya,QAAQ,CAACzsB,CAAD,CAAT,EAAcqtB,EAAd,CAAxB;EADJ;EAEH;EACJ;;EACD,MAAI,CAAClT,aAAa,CAACvU,GAAD,CAAlB;EACI4nB,IAAAA,YAAY,CAAC5nB,GAAD,CAAZ;;EACJ,MAAI6nB,MAAM,GAAG,SAATA,MAAS,CAASjS,OAAT,EAAkB;EAC3B,QAAIhc,IAAI,GAAGqtB,KAAK,CAACjnB,GAAD,CAAhB;EACA4V,IAAAA,OAAO,CAAC3Y,OAAR,CAAgB,UAASqS,MAAT,EAAiB;EAC7B,UAAI/V,IAAI,GAAG;EAAC,gBAAQ+V,MAAT;EAAiB,mBAAWwF,GAA5B;EAAiC,iBAAS,IAA1C;EAAgD,gBAAQlb,IAAxD;EAA8D,gBAAQ6tB;EAAtE,OAAX;EACA7M,MAAAA,SAAS,CAACxX,OAAV,CAAkB,WAAlB,EAA+B,CAAC7J,IAAD,CAA/B;EACA,UAAIA,IAAI,CAACuuB,KAAT,EACIC,SAAS,CAAC/nB,GAAD,EAAMsP,MAAN,EAAcmY,EAAd,CAAT;EACP,KALD;EAMA,QAAIznB,GAAG,CAACyK,IAAR,EACIzK,GAAG,CAACyC,MAAJ;EACJulB,IAAAA,YAAY,CAAChoB,GAAD,EAAMyJ,EAAN,CAAZ;;EACA,QAAIwH,MAAM,KAAK,KAAf,EAAsB;EAClB,UAAI,CAACjR,GAAG,CAACzD,OAAL,IAAgByD,GAAG,CAACvG,MAAxB,EACIkuB,IAAI,CAACvB,KAAL,GAAahI,cAAb,CAA4B,OAA5B,EADJ,KAGIuJ,IAAI,CAACvB,KAAL,GAAanV,MAAb;EACP;EACJ,GAjBD;;EAkBA,MAAI/Y,CAAC,CAAC4uB,WAAF,CAAczO,KAAd,CAAJ;EACIA,IAAAA,KAAK,GAAG5N,IAAI,CAACwB,IAAb;;EACJ,MAAIgc,cAAc,GAAG,SAAjBA,cAAiB,GAAW;EAAE;EAC9B,QAAI,aAAa/d,IAAb,CAAkBud,EAAE,CAACplB,EAArB,KAA4BoJ,MAAM,IAAI,GAA1C,EAA+C;EAAE;EAC7ClS,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU8I,EAAE,CAACrI,OAAH,CAAW,KAAX,EAAkB,IAAlB,CAAV;EACAqS,MAAAA,aAAa,CAACzP,KAAd,CAAoBtC,IAApB,EAA0Bf,IAA1B,EAF2C;EAG9C;EACJ,GALD;;EAMA,MAAI,CAACrB,CAAC,CAACgU,SAAF,CAAYmM,KAAZ,CAAD,IAAuBxI,KAAK,CAACC,OAAN,CAAcrF,IAAI,CAACyd,aAAnB,KAAqCzd,IAAI,CAACyd,aAAL,CAAmBzuB,MAAnB,GAA4B,CAA5F,EAA+F;EAAE;EAC7F,QAAI0uB,EAAE,GAAG1d,IAAI,CAACyd,aAAd;EACAL,IAAAA,MAAM,CAACM,EAAD,CAAN;;EACAF,IAAAA,cAAc;;EACd,WAAOE,EAAP;EACH,GALD,MAKO;EAAE;EACL,QAAIvuB,IAAI,GAAGqtB,KAAK,CAACjnB,GAAD,CAAhB;EAAA,QAAuB9B,IAAI,GAAGvC,MAAM,CAACtD,MAAP,CAAc;EACxCsc,MAAAA,IAAI,EAAElK,IAAI,CAACkK,IAD6B;EAExCnB,MAAAA,KAAK,EAAE/I,IAAI,CAAC+I,KAF4B;EAGxCvH,MAAAA,IAAI,EAAE,cAHkC;EAIxC3L,MAAAA,QAAQ,EAAED,EAAE,CAACuU,WAJ2B;EAKxChb,MAAAA,IAAI,EAAEA,IALkC;;EAAA,KAAd,EAM3Bib,aAAa,CAAC,QAAQxS,EAAT,EAAaolB,EAAb,CANc,CAA9B,CADG;;EAQH,QAAIlT,aAAa,CAACvU,GAAD,CAAb,IAAsB1F,IAAI,CAACmO,QAA/B;EACIvK,MAAAA,IAAI,CAAC,IAAD,CAAJ,GAAauL,EAAE,CAAC,CAAD,CAAF,IAAS7L,MAAM,EAA5B,CADJ;EAAA,SAEK,IAAIwqB,aAAa,CAACpoB,GAAD,CAAjB;EACD9B,QAAAA,IAAI,CAAC,IAAD,CAAJ,GAAauL,EAAE,CAAC,CAAD,CAAF,GAASzJ,GAAG,CAACuL,QAAJ,GAAe9B,EAAE,CAACkC,IAAH,CAAQtL,EAAE,CAAC0U,yBAAX,CAAf,GAAuDtL,EAAE,CAAC,CAAD,CAAlE,GAAyE7L,MAAM,EAA5F,CAXD;;EAYH,SAAK,IAAIxD,CAAC,GAAG,CAAR,EAAWqL,GAAG,GAAGqP,GAAG,CAACrb,MAA1B,EAAkCW,CAAC,GAAGqL,GAAtC,EAA2CrL,CAAC,EAA5C;EAAgD;EAC5C8D,MAAAA,IAAI,CAAC,OAAO9D,CAAC,GAAG,CAAX,CAAD,CAAJ,GAAsB0a,GAAG,CAAC1a,CAAD,CAAH,CAAOuR,IAAP,CAAYtL,EAAE,CAAC0U,yBAAf,CAAtB;EADJ;;EAEA,WAAO7c,CAAC,CAAC+T,IAAF,CAAOuJ,SAAS,CAACnV,EAAE,CAACoV,iBAAJ,CAAhB,EAAwC;EACvC,cAAQ,MAD+B;EACvB,kBAAY,MADW;EACH,cAAQvX,IADL;EACW,eAASma;EADpB,KAAxC,EAEAhJ,IAFA,CAEK,UAACC,MAAD,EAAY;EAChB,UAAI6Y,EAAE,GAAG7Y,MAAM,CAACwG,OAAP,IAAkB,EAA3B;EACA+R,MAAAA,MAAM,CAACM,EAAD,CAAN;;EACAF,MAAAA,cAAc;;EACdN,MAAAA,IAAI,CAACvB,KAAL,GAAahjB,OAAb,CAAqB,SAArB,EAAgC,CAACzH,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkBiX,MAAlB,EAA0B;EAAEzM,QAAAA,MAAM,EAAE7C;EAAV,OAA1B,CAAD,CAAhC,EAJgB;;EAKhB,aAAOmoB,EAAP;EACH,KARE,EAQA3Y,MARA,CAQO;EAAA,aAAMmY,IAAI,CAACzpB,IAAL,CAAU,UAAV,EAAsB,KAAtB,CAAN;EAAA,KARP,CAAP;EASH;EACJ;;EAGM,SAAS2W,aAAT,CAAuBxS,EAAvB,EAA2BgmB,IAA3B,EAAiC;EACpC,MAAIhmB,EAAE,GAAGA,EAAE,CAACrI,OAAH,CAAW,OAAX,EAAoB,EAApB,CAAT;EAAA,MAAkC2P,CAAC,GAAG,EAAtC;EACA,MAAI0e,IAAI,GAAG,CAACnwB,CAAC,CAACyS,QAAF,CAAW0d,IAAX,CAAD,GAAoBA,IAApB,GAA2B,KAAKne,IAAL,CAAUme,IAAV,IAAkBA,IAAlB,GAAyB,MAAMA,IAArE;EACA,MAAIle,IAAI,GAAIke,IAAD,GAASnwB,CAAC,CAACmwB,IAAD,CAAD,CAAQ1nB,IAAR,CAAa0B,EAAb,CAAT,GAA4BnK,CAAC,CAACmK,EAAD,CAAxC;EACA,MAAIqC,GAAG,GAAGyF,IAAI,CAACzF,GAAL,EAAV;;EACA,MAAIA,GAAJ,EAAS;EACL,QAAIyQ,MAAM,GAAG,IAAIC,eAAJ,CAAoB1Q,GAApB,CAAb;EACAyQ,IAAAA,MAAM,CAAClY,OAAP,CAAe,UAAShE,KAAT,EAAgBqvB,GAAhB,EAAqB;EAChC3e,MAAAA,CAAC,CAAC2e,GAAD,CAAD,GAASrvB,KAAT;EACH,KAFD;EAGH;;EACD,SAAO0Q,CAAP;EACH;;EAGM,SAAS4e,aAAT,CAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,OAAtC,EAA+CC,UAA/C,EAA2DzqB,IAA3D,EAAiE;EAAE;EACtE,MAAI3E,IAAI,GAAG;EAAC,YAAQ2E,IAAI,IAAI,EAAjB;EAAqB,UAAMsqB,KAA3B;EAAkC,gBAAYC,MAA9C;EAAsD,aAASC,OAA/D;EAAwE,cAAUC,UAAlF;EAA8F,eAAW;EAAzG,GAAX;EACA/N,EAAAA,SAAS,CAACxX,OAAV,CAAkB,gBAAlB,EAAoC,CAAC7J,IAAD,CAApC;;EACA,MAAIA,IAAI,CAACqvB,OAAT,EAAkB;EACd,QAAIle,QAAQ,GAAGrU,QAAQ,CAACuN,cAAT,CAAwB6kB,MAAxB,EAAgCpI,OAA/C;EACA3V,IAAAA,QAAQ,CAACme,gBAAT,CAA0B,UAA1B,EAAsC5rB,OAAtC,CAA8C,UAAAiF,EAAE,EAAI;EAChD,UAAI4mB,OAAO,GAAGzyB,QAAQ,CAACuN,cAAT,CAAwB1B,EAAE,CAACtI,IAAH,IAAWsI,EAAE,CAACG,EAAtC,CAAd;;EACA,UAAIymB,OAAO,IAAIA,OAAO,CAACzI,OAAvB,EAAgC;EAC5B,YAAIne,EAAE,CAACkG,OAAH,CAAW2gB,OAAX,GAAqB,CAAzB,EACIlZ,KAAK,CAAC/W,SAAN,CAAgBkT,KAAhB,CAAsB5O,IAAtB,CAA2B0rB,OAAO,CAACzI,OAAR,CAAgB2I,UAA3C,EAAuD/rB,OAAvD,CAA+D,UAAAgsB,IAAI;EAAA,iBAAIA,IAAI,CAACC,OAAL,GAAehnB,EAAE,CAACkG,OAAH,CAAW2gB,OAA9B;EAAA,SAAnE;EACJ7mB,QAAAA,EAAE,CAACinB,WAAH,CAAeL,OAAO,CAACzI,OAAvB;EACH,OAJD,MAIO;EACHne,QAAAA,EAAE,CAACyN,MAAH;EACH;EACJ,KATD;;EAUA,QAAIzX,CAAC,CAACkxB,KAAN,EAAa;EACT,UAAI7I,WAAW,GAAG7V,QAAQ,CAAC6V,WAA3B;;EACA,UAAIA,WAAW,CAACpgB,QAAZ,CAAqB,IAArB,KAA8BogB,WAAW,CAACpgB,QAAZ,CAAqB,IAArB,CAAlC,EAA8D;EAAE;EAC5D,YAAIkpB,OAAO,GAAGxZ,KAAK,CAAC/W,SAAN,CAAgBkT,KAAhB,CAAsB5O,IAAtB,CAA2BsN,QAAQ,CAACme,gBAAT,CAA0B,QAA1B,CAA3B,CAAd,CAD0D;;EAE1DQ,QAAAA,OAAO,CAACpsB,OAAR,CAAgB,UAAAwT,IAAI;EAAA,iBAAIA,IAAI,CAACd,MAAL,EAAJ;EAAA,SAApB;EACA,YAAI2Z,GAAG,GAAGjzB,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAV;EACA+yB,QAAAA,GAAG,CAAC/G,WAAJ,CAAgB7X,QAAhB;EACA,YAAImI,IAAI,GAAGyW,GAAG,CAACC,SAAf;EAAA,YAA0BC,IAAI,GAAGtxB,CAAC,CAAC0S,SAAF,CAAYiI,IAAZ,CAAjC;EACAxc,QAAAA,QAAQ,CAACuN,cAAT,CAAwB4kB,KAAxB,EAA+Be,SAA/B,GAA2CC,IAAI,CAAC/mB,MAAL,CAAYlJ,IAAI,CAAC2E,IAAjB,EAAuBmC,EAAE,CAACmU,eAA1B,CAA3C;EACA6U,QAAAA,OAAO,CAACpsB,OAAR,CAAgB,UAAAwT,IAAI;EAAA,iBAAIpa,QAAQ,CAACgI,IAAT,CAAckkB,WAAd,CAA0B9R,IAA1B,CAAJ;EAAA,SAApB,EAP0D;EAQ7D,OARD,MAQO;EACHpa,QAAAA,QAAQ,CAACuN,cAAT,CAAwB4kB,KAAxB,EAA+BjG,WAA/B,CAA2C7X,QAA3C;EACH;EACJ,KAbD,MAaO;EACHrU,MAAAA,QAAQ,CAACuN,cAAT,CAAwB4kB,KAAxB,EAA+BjG,WAA/B,CAA2C7X,QAA3C;EACH;EACJ;;EACD,MAAIie,UAAU,IAAIA,UAAU,IAAI,OAAhC,EAAyC;EAAE;EACvCzwB,IAAAA,CAAC,CAAC,YAAW;EACT,UAAIuxB,KAAK,GAAGvxB,CAAC,CAAC,iCAAD,CAAb;EAAA,UACI2a,IAAI,GAAG,cADX;EAAA,UAEI6W,IAAI,GAAGxxB,CAAC,CAAC,MAAMswB,KAAP,CAFZ;EAGA,UAAIkB,IAAI,CAAChQ,QAAL,CAAc,CAAd,EAAiB/X,EAAjB,CAAoB,cAApB,CAAJ;EACI+nB,QAAAA,IAAI,GAAGA,IAAI,CAAChQ,QAAL,CAAc,CAAd,CAAP;EACJ,UAAI+P,KAAK,CAAC,CAAD,CAAT,EACI5W,IAAI,IAAI,8CAA8C4W,KAAK,CAAC3mB,IAAN,CAAW,SAAX,CAA9C,GAAsE,IAA9E;;EACJ,UAAI6lB,UAAU,IAAI,KAAlB,EAAyB;EACrB9V,QAAAA,IAAI,IAAI,kDAAkDxS,EAAE,CAACspB,uBAArD,GAA+E,IAAvF;EACH,OAFD,MAEO;EACH9W,QAAAA,IAAI,IAAI,YAAY3a,CAAC,CAAC+T,IAAF,CAAO;EAACoM,UAAAA,KAAK,EAAE,KAAR;EAAejf,UAAAA,IAAI,EAAE,KAArB;EAA4BkF,UAAAA,GAAG,EAAE+B,EAAE,CAACupB;EAApC,SAAP,EAAyEC,YAArF,GAAoG,UAA5G;EACH;;EACDhX,MAAAA,IAAI,IAAI,OAAO,aAAf;EACA3a,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmB+B,IAAnB,CAAwB,YAAW;EAC/B4Y,QAAAA,IAAI,IAAI3a,CAAC,CAAC,IAAD,CAAD,CAAQ2a,IAAR,EAAR;EACH,OAFD;EAGAA,MAAAA,IAAI,IAAI6W,IAAI,CAAC7W,IAAL,EAAR;EACA3a,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB+B,IAAtB,CAA2B,YAAW;EAClC4Y,QAAAA,IAAI,IAAI3a,CAAC,CAAC,IAAD,CAAD,CAAQ2a,IAAR,EAAR;EACH,OAFD;EAGAA,MAAAA,IAAI,IAAI,gBAAR;EACA,UAAIvU,GAAG,GAAG6Q,WAAW,EAArB;EAAA,UACIjR,IAAI,GAAG;EAAE,wBAAgByqB,UAAlB;EAA8B,gBAAQ9V,IAAtC;EAA4C,oBAAYtZ,IAAI,CAAC+sB;EAA7D,OADX;EAEApoB,MAAAA,IAAI,CAACmC,EAAE,CAAC8P,UAAJ,CAAJ,GAAsB9P,EAAE,CAACgQ,iBAAzB;;EACA,UAAIsY,UAAU,IAAI,OAAlB,EAA2B;EACvB,YAAImB,GAAG,GAAGpP,UAAU,CAACqP,YAAX,CAAwBluB,QAAxB,KAAqC,GAArC,GAA2C3D,CAAC,CAAC8xB,KAAF,CAAQ9rB,IAAR,CAArD,CADuB;;EAEvBhG,QAAAA,CAAC,CAAC+xB,IAAF,CAAO3rB,GAAP,EAAYwrB,GAAZ,EAAiB,UAASxa,MAAT,EAAiB;EAC9B4a,UAAAA,WAAW,CAAC5a,MAAD,CAAX;EACH,SAFD;EAGH,OALD,MAKO;EACH4R,QAAAA,YAAY,CAAC5iB,GAAD,EAAMJ,IAAN,CAAZ;EACH;;EACD7D,MAAAA,MAAM,CAAC0G,MAAP,CAAc6R,MAAd,CAAqB,MAArB,EAA6B1D,GAA7B,CAAiC,QAAjC,EAA2C,SAA3C,EAjCS;EAkCZ,KAlCA,CAAD;EAmCH;EACJ;;EAGM,SAASib,WAAT,CAAqBjoB,EAArB,EAAyB;EAC5B,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EAAA,MAAiBkoB,GAAG,GAAG9nB,GAAG,CAAC9B,OAAJ,CAAY,IAAZ,CAAvB;EAAA,MAA0CuK,QAAQ,GAAG,IAArD;EAAA,MAA2DtH,KAA3D;;EACA,OAAK,IAAIrJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;EACzB,QAAIiwB,GAAG,GAAIjwB,CAAC,IAAI,CAAN,GAAW,EAAX,GAAgB,MAAMA,CAAhC;EACA,QAAI8D,IAAI,GAAGksB,GAAG,CAAClsB,IAAJ,CAAS,UAAUmsB,GAAnB,CAAX;;EACA,QAAInyB,CAAC,CAACoyB,OAAF,CAAUpsB,IAAV,CAAJ,EAAqB;EACjBuF,MAAAA,KAAK,GAAGrJ,CAAR;EACA,UAAI8D,IAAI,IAAI,EAAZ,EACI6M,QAAQ,IAAI,gBAAgBsf,GAAhB,GAAsB,IAAtB,GAA6BxwB,MAAM,CAACqE,IAAD,CAAN,CAAalE,OAAb,CAAqB,IAArB,EAA2B,KAA3B,CAA7B,GAAiE,IAA7E;EACP;EACJ;;EACD,MAAIsI,GAAG,CAACf,QAAJ,CAAa,eAAb,CAAJ,EAAmC;EAAE;EACjCrJ,IAAAA,CAAC,CAAC6S,QAAD,CAAD,CAAYiB,KAAZ,CAAkB,CAAlB,EAAqB5C,QAArB,CAA8B,qBAAqB3F,KAAnD;EACAnB,IAAAA,GAAG,CAACrB,WAAJ,CAAgB,2BAAhB;EACH,GAHD,MAGO;EACH/I,IAAAA,CAAC,CAAC6S,QAAD,CAAD,CAAYiB,KAAZ,CAAkB,CAAlB,EAAqB1C,WAArB,CAAiC,qBAAqB7F,KAAtD;EACAnB,IAAAA,GAAG,CAACrB,WAAJ,CAAgB,2BAAhB;EACH;EACJ;;EAGM,SAASspB,aAAT,CAAuBtxB,KAAvB,EAA8B;EACjC,SAAOA,KAAK,IAAI,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,MAAhB,EAAwBkH,QAAxB,CAAiClH,KAAK,CAAC+E,WAAN,EAAjC,CAAhB;EACH;;EAGM,SAASwsB,YAAT,CAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;EACjD,MAAIC,IAAI,GAAG/f,WAAW,CAAC,MAAM4f,KAAN,GAAc,GAAd,GAAoBC,GAArB,EAA0BF,IAA1B,CAAtB;EACA,MAAIK,IAAI,GAAGjgB,UAAU,CAAC,MAAM6f,KAAN,GAAc,GAAd,GAAoBC,GAArB,EAA0BF,IAA1B,CAArB,CAFiD;;EAGjD,MAAIM,KAAK,GAAGlgB,UAAU,CAAC,SAAS6f,KAAT,GAAiB,GAAjB,GAAuBC,GAAxB,EAA6BF,IAA7B,CAAtB,CAHiD;;EAIjD,MAAI,CAACK,IAAD,KAAU,CAACD,IAAD,IAAShb,KAAK,CAACC,OAAN,CAAc+a,IAAd,KAAuBA,IAAI,CAACpxB,MAAL,IAAe,CAAzD,CAAJ,EACI,OAAO,KAAP;;EACJ,MAAI6L,QAAQ,GAAG,SAAXA,QAAW,CAACtF,GAAD;EAAA,WAASoM,eAAe,CAACpM,GAAD,CAAf,CAAqB2L,IAArB,EAAT;EAAA,GAAf;;EACA,MAAImf,IAAI,IAAID,IAAZ,EAAkB;EACd,QAAID,IAAJ,EAAU;EACN,UAAIL,aAAa,CAACjlB,QAAQ,CAACwlB,IAAD,CAAT,CAAb,KAAkCP,aAAa,CAACjlB,QAAQ,CAACulB,IAAD,CAAT,CAAnD,EACI,OAAO,KAAP;EACP,KAHD,MAGO;EACH,UAAIG,QAAQ,GAAG1lB,QAAQ,CAACwlB,IAAD,CAAvB;EACA,UAAIG,QAAQ,GAAIF,KAAD,GAAUzlB,QAAQ,CAACylB,KAAD,CAAlB,GAA4BzlB,QAAQ,CAACulB,IAAD,CAAnD;EACA,UAAIG,QAAQ,IAAIC,QAAhB,EACI,OAAO,KAAP;EACP;EACJ;;EACD,SAAO,IAAP;EACH;;EAGM,SAASC,WAAT,CAAqBhpB,EAArB,EAAyB;EAC5B,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EAAA,MAAiBwC,GAAG,GAAGpC,GAAG,CAACoC,GAAJ,MAAapC,GAAG,CAACpE,IAAJ,CAAS,UAAT,CAApC;EACA,MAAI,CAACwG,GAAL,EACI;EACJ,MAAIyQ,MAAM,GAAG,IAAIC,eAAJ,EAAb;EACAsF,EAAAA,UAAU,CAACqP,YAAX,CAAwB9sB,OAAxB,CAAgC,UAAShE,KAAT,EAAgBqvB,GAAhB,EAAqB;EACjDnT,IAAAA,MAAM,CAAC7Y,MAAP,CAAcgsB,GAAd,EAAmBjoB,EAAE,CAAC8qB,QAAH,CAAYlyB,KAAZ,CAAnB;EACH,GAFD;EAGAkc,EAAAA,MAAM,CAAC5X,GAAP,CAAW,UAAX,EAAuB8C,EAAE,CAAC8qB,QAAH,CAAYzmB,GAAZ,CAAvB;EACAgW,EAAAA,UAAU,CAAC0Q,MAAX,GAAoBjW,MAAM,CAACtZ,QAAP,EAApB;EACAxB,EAAAA,MAAM,CAACsX,QAAP,GAAkB+I,UAAU,CAAC7e,QAAX,EAAlB;EACH;EAED;;;;;;;;;;;;;;;;;EAgBO,SAASwvB,YAAT,CAAsBzrB,CAAtB,EAAyBrG,IAAzB,EAA+B;EAClC,MAAI2I,EAAE,GAAGtC,CAAC,CAACiD,MAAF,IAAYjD,CAAC,CAAC0rB,UAAvB;EAAA,MAAmChpB,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAA1C;EAAA,MACI2W,CAAC,GAAGtf,IAAI,CAACsf,CAAL,IAAUvW,GAAG,CAAC9B,OAAJ,CAAY,MAAZ,EAAoB,CAApB,CAAV,IAAoC+qB,WAD5C;EAAA,MACyD7E,EAAE,GAAGxuB,CAAC,CAAC2gB,CAAD,CAD/D;EAAA,MAEIyP,GAAG,GAAG/uB,IAAI,CAAC+uB,GAFf;EAAA,MAEoBhe,MAAM,GAAG/Q,IAAI,CAAC+Q,MAFlC;EAAA,MAE0ChM,GAAG,GAAG/E,IAAI,CAAC+E,GAAL,IAAY6Q,WAAW,EAFvE;EAAA,MAGInB,GAAG,GAAGzU,IAAI,CAACyU,GAHf;EAAA,MAGoB9P,IAAI,GAAG3E,IAAI,CAAC2E,IAHhC;EAAA,MAGsCqR,OAAO,GAAGhW,IAAI,CAACgW,OAHrD;EAAA,MAIIic,MAAM,GAAG,CAACjyB,IAAI,CAAC0W,MAAN,IAAgBnM,QAAQ,CAACvK,IAAI,CAAC0W,MAAL,CAAY,CAAZ,CAAD,EAAiB,GAAjB,CAJrC;EAAA,MAKIwb,UAAU,GAAG,CAAClyB,IAAI,CAACypB,MAAN,IAAgB,CAACzpB,IAAI,CAAC+uB,GAAtB,IAA6B/uB,IAAI,CAACypB,MAAL,IAAelf,QAAQ,CAACvK,IAAI,CAACypB,MAAL,CAAY,CAAZ,CAAD,EAAiB,GAAjB,CALrE;EAMA,MAAIyI,UAAU,IAAI,CAAC/E,EAAE,CAAC,CAAD,CAArB,EACI,OAAO,KAAP;;EACJ,MAAI+E,UAAU,IAAI,CAACC,WAAW,CAAChF,EAAE,CAAC,CAAD,CAAH,CAA9B,EAAuC;EACnCjB,IAAAA,OAAO,CAAC,8BAA8BplB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAA9B,GAAuE,MAAxE,CAAP;;EACA,WAAO,KAAP;EACH;;EACD,MAAIorB,QAAQ,GAAG,SAAXA,QAAW,CAASrc,MAAT,EAAiB;EAC5B4a,IAAAA,WAAW,CAAC5a,MAAD,CAAX;EACH,GAFD;;EAGA,MAAIsc,OAAO,GAAG,SAAVA,OAAU,GAAW;EACrB,QAAIJ,MAAJ,EAAY;EAAE;EACV,UAAIlhB,MAAJ;EACIpS,QAAAA,CAAC,CAAC,SAAD,CAAD,CAAa4K,IAAb,CAAkB;EAAC1J,UAAAA,IAAI,EAAE,QAAP;EAAiBQ,UAAAA,IAAI,EAAE,YAAvB;EAAqCX,UAAAA,KAAK,EAAEqR;EAA5C,SAAlB,EAAuEV,QAAvE,CAAgF8c,EAAhF;;EACJ,UAAIxuB,CAAC,CAAC6H,QAAF,CAAW7B,IAAX,CAAJ,EAAsB;EAAE;EACpB,aAAK,IAAI2tB,CAAT,IAAc3tB,IAAd,EAAoB;EAChB,cAAIiY,MAAM,GAAGuQ,EAAE,CAAC/lB,IAAH,CAAQ,8BAA8BkrB,CAA9B,GAAkC,IAA1C,CAAb;EACA,cAAI1V,MAAM,CAAC,CAAD,CAAV,EACIA,MAAM,CAACzR,GAAP,CAAWxG,IAAI,CAAC2tB,CAAD,CAAf,EADJ,KAGI3zB,CAAC,CAAC,SAAD,CAAD,CAAa4K,IAAb,CAAkB;EAAC1J,YAAAA,IAAI,EAAE,QAAP;EAAiBQ,YAAAA,IAAI,EAAEiyB,CAAvB;EAA0B5yB,YAAAA,KAAK,EAAEiF,IAAI,CAAC2tB,CAAD;EAArC,WAAlB,EAA6DjiB,QAA7D,CAAsE8c,EAAtE;EACP;EACJ;;EACD,UAAI,CAAC+E,UAAD,IAAevzB,CAAC,CAAC6H,QAAF,CAAWuoB,GAAX,CAAnB,EAAoC;EAAE;EAClC,aAAK,IAAIuD,CAAT,IAAcvD,GAAd;EACIpwB,UAAAA,CAAC,CAAC,SAAD,CAAD,CAAa4K,IAAb,CAAkB;EAAC1J,YAAAA,IAAI,EAAE,QAAP;EAAiBQ,YAAAA,IAAI,EAAEiyB,CAAvB;EAA0B5yB,YAAAA,KAAK,EAAEqvB,GAAG,CAACuD,CAAD;EAApC,WAAlB,EAA4DjiB,QAA5D,CAAqE8c,EAArE;EADJ;EAEH;;EACDA,MAAAA,EAAE,CAACjlB,IAAH,CAAQ,QAAR,EAAkBnD,GAAlB,EAAuB+L,MAAvB;EACA,UAAIC,MAAJ;EACIoc,QAAAA,EAAE,CAAC/lB,IAAH,CAAQ,qCAAR,EAA+CgP,MAA/C,GAlBI;EAmBX,KAnBD,MAmBO;EAAE;EACLzR,MAAAA,IAAI,GAAGhG,CAAC,CAAC6H,QAAF,CAAW7B,IAAX,IAAmBhG,CAAC,CAAC8xB,KAAF,CAAQ9rB,IAAR,CAAnB,GAAmChG,CAAC,CAACyS,QAAF,CAAWzM,IAAX,IAAmBA,IAAnB,GAA0B,EAApE,CADG;;EAEH,UAAIoM,MAAJ,EACIpM,IAAI,IAAI,iBAAiBoM,MAAjB,GAA0B,QAA1B,GAAqCA,MAA7C,CAHD;;EAIH,UAAImhB,UAAJ;EACIvtB,QAAAA,IAAI,IAAI,MAAMwoB,EAAE,CAAC/lB,IAAH,CAAQ,+BAAR,EAAyCmrB,SAAzC,EAAd,CADJ;EAAA,WAEK,IAAIxD,GAAJ;EACDpqB,UAAAA,IAAI,IAAI,OAAOhG,CAAC,CAAC6H,QAAF,CAAWuoB,GAAX,IAAkBpwB,CAAC,CAAC8xB,KAAF,CAAQ1B,GAAR,CAAlB,GAAiCA,GAAxC,CAAR,CAPD;;EAQH,UAAI/Y,OAAO,IAAIrX,CAAC,CAACyS,QAAF,CAAW4E,OAAX,CAAf,EACIA,OAAO,GAAGlV,MAAM,CAACkV,OAAD,CAAhB;;EACJ,UAAIrX,CAAC,CAACytB,UAAF,CAAapW,OAAb,CAAJ,EAA2B;EACvBrX,QAAAA,CAAC,CAAC+xB,IAAF,CAAO3rB,GAAP,EAAYJ,IAAZ,EAAkBqR,OAAlB;EACH,OAFD,MAEO,IAAIrX,CAAC,CAAC6H,QAAF,CAAWwP,OAAX,CAAJ,EAAyB;EAAE;EAC9BA,QAAAA,OAAO,CAACrR,IAAR,GAAeA,IAAf;EACAqR,QAAAA,OAAO,CAACU,MAAR,GAAiBV,OAAO,CAACU,MAAR,IAAkB,MAAnC;EACAV,QAAAA,OAAO,CAACA,OAAR,GAAkBA,OAAO,CAACA,OAAR,IAAmBoc,QAArC;EACAzzB,QAAAA,CAAC,CAAC+T,IAAF,CAAO3N,GAAP,EAAYiR,OAAZ;EACH,OALM,MAKA;EACHrX,QAAAA,CAAC,CAAC+xB,IAAF,CAAO3rB,GAAP,EAAYJ,IAAZ,EAAkBytB,QAAlB;EACH;EACJ;EACJ,GAzCD;;EA0CA,MAAI3d,GAAJ,EAAS;EACLyX,IAAAA,OAAO,CAACzX,GAAD,EAAM,UAACsB,MAAD,EAAY;EACrB,UAAIA,MAAJ,EACIsc,OAAO;EACd,KAHM,CAAP;EAIH,GALD,MAKO;EACHA,IAAAA,OAAO;EACV;;EACD,SAAO,KAAP;EACH;EAED;;;;;;;;;;;;EAWA,SAASG,SAAT,CAAiBlT,CAAjB,EAAoBva,GAApB,EAAyBlF,IAAzB,EAA+B2O,MAA/B,EAAuCikB,GAAvC,EAA4CvB,IAA5C,EAAkD;EAC9C,MAAI,CAAC5R,CAAL,EACI,OAAO,KAAP;EACJ,MAAI6N,EAAE,GAAGxuB,CAAC,CAAC2gB,CAAD,CAAV;EAAA,MACIhW,MAAM,GAAG6jB,EAAE,CAAC5jB,IAAH,CAAQ,QAAR,CADb;EAAA,MAEIwH,MAAM,GAAGoc,EAAE,CAAC5jB,IAAH,CAAQ,QAAR,CAFb;EAAA,MAGI3I,EAAE,GAAG6xB,GAAG,IAAItF,EAAE,CAAC/lB,IAAH,CAAQ,sCAAR,EAAgD,CAAhD,CAHhB;;EAIA,MAAIxG,EAAE,IAAI,CAACuxB,WAAW,CAAC7S,CAAD,CAAtB,EAA2B;EACvBoT,IAAAA,MAAM,CAAC5rB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAAD,CAAN;;EACA,WAAO,KAAP;EACH;;EACD,MAAIwH,MAAJ,EAAY;EAAE;EACV7P,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsByX,MAAtB;EACA,QAAIvW,IAAI,IAAI,OAAZ,EACIkF,GAAG,IAAI,CAAC,MAAMpG,CAAC,CAACuyB,IAAD,CAAD,CAAQqB,SAAR,EAAP,EAA4B9xB,OAA5B,CAAoC,gBAApC,EAAsD,EAAtD,CAAP,CAHI;;EAIR,QAAIG,EAAJ,EAAQ;EACJjC,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAc4K,IAAd,CAAmB,MAAnB,EAA2B,iBAA3B,EAA8CsG,QAA9C,CAAuD,kBAAvD,EAA2EQ,QAA3E,CAAoFqF,KAApF;;EACA,UAAI;EACAyX,QAAAA,EAAE,CAACpqB,MAAH,CAAUpE,CAAC,CAAC,uBAAD,CAAD,CAA2B4K,IAA3B,CAAgC;EAAClJ,UAAAA,IAAI,EAAE,QAAP;EAAiBX,UAAAA,KAAK,EAAE;EAAxB,SAAhC,CAAV,EACK6J,IADL,CACU;EAAE,oBAAUxE,GAAZ;EAAiB,oBAAU;EAA3B,SADV,EAC0DqC,IAD1D,CAC+D,wBAD/D,EACyF+D,GADzF,CAC6FtL,IAD7F,EACmG8yB,GADnG,GACyG7hB,MADzG;EAEH,OAHD,SAGU;EAAE;EACRqc,QAAAA,EAAE,CAAC5jB,IAAH,CAAQ;EAAE,oBAAUD,MAAM,IAAI,EAAtB;EAA0B,oBAAUyH;EAApC,SAAR,EAAsD3J,IAAtD,CAA2D,oBAA3D,EAAiFgP,MAAjF;EACH;EACJ,KARD,MAQO;EACHzX,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAc4K,IAAd,CAAmB;EAAElJ,QAAAA,IAAI,EAAE,iBAAR;EAA2BkpB,QAAAA,GAAG,EAAExkB;EAAhC,OAAnB,EAA0D8K,QAA1D,CAAmE,kBAAnE,EAAuFQ,QAAvF,CAAgGqF,KAAhG;EACH;EACJ,GAfD,MAeO;EAAE;EACLyX,IAAAA,EAAE,CAAC/lB,IAAH,CAAQ,wBAAR,EAAkC+D,GAAlC,CAAsCtL,IAAtC;EACA,QAAI,CAAC,KAAD,EAAQ,OAAR,EAAiB+G,QAAjB,CAA0B/G,IAA1B,CAAJ,EACIstB,EAAE,CAACrc,MAAH,GADJ;EAAA,SAGI6W,YAAY,CAAC5W,MAAD,EAASoc,EAAE,CAACoF,SAAH,EAAT,CAAZ;EACP;;EACD,SAAO,KAAP;EACH;EAID;;;;;;EAKO,SAASK,YAAT,CAAsBlzB,KAAtB,EAA6B;EAChC,SAAQ,qCAAqCiR,IAArC,CAA0CjR,KAAK,CAACe,OAAN,CAAc,KAAd,EAAqB,EAArB,CAA1C,CAAD,GAAwE,EAAxE,GAA6Ef,KAApF;EACH;EAED;;;;;;EAKO,SAASmzB,gBAAT,CAA0BlqB,EAA1B,EAA8B;EACjC,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EACA,SAAOI,GAAG,CAACX,EAAJ,CAAO,SAAP,KAAqBW,GAAG,CAACpE,IAAJ,CAAS,QAAT,CAA5B;EACH;EAED;;;;;;EAKO,SAASkqB,aAAT,CAAuBlmB,EAAvB,EAA2B;EAC9B,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EACA,SAAOI,GAAG,CAACX,EAAJ,CAAO,SAAP,KAAqBW,GAAG,CAACpE,IAAJ,CAAS,QAAT,CAA5B;EACH;EAED;;;;;;EAKO,SAASqW,aAAT,CAAuBrS,EAAvB,EAA2B;EAC9B,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EACA,SAAOI,GAAG,CAACX,EAAJ,CAAO,SAAP,KAAqBW,GAAG,CAACpE,IAAJ,CAAS,aAAT,CAA5B;EACH;EAED;;;;;;;;EAOA,SAAS+tB,MAAT,CAAgBje,GAAhB,EAAqB7T,EAArB,EAAyBf,IAAzB,EAA+B;EAC3B,SAAOumB,IAAI,CAACC,IAAL,mCACAvf,EAAE,CAACwf,kBADH;EAEHhN,IAAAA,IAAI,EAAE,qBAAqBzZ,IAAI,IAAI,QAA7B,IAAyC,IAAzC,GAAgD4U,GAAhD,GAAsD,MAFzD;EAGH+R,IAAAA,iBAAiB,EAAE1f,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,OAAnB;EAHhB,MAIJsM,IAJI,CAIC,UAAAyC,MAAM,EAAI;EACd,QAAIpX,CAAC,CAACytB,UAAF,CAAaxrB,EAAb,CAAJ,EACIA,EAAE,CAACmV,MAAM,CAACrW,KAAR,CAAF;EACP,GAPM,CAAP;EAQH;EAID;;;;;EAIO,SAASozB,UAAT,CAAoBnqB,EAApB,EAAwB;EAC3B,MAAIA,EAAE,CAACoqB,MAAP,EAAe;EAAE;EACb,QAAIlF,GAAG,GAAGllB,EAAE,CAACY,IAAH,CAAQ,MAAR,CAAV;EACAZ,IAAAA,EAAE,GAAIklB,GAAG,IAAI,UAAP,IAAqBA,GAAG,IAAI,OAA7B,GAAwCllB,EAAE,CAAC7E,GAAH,EAAxC,GAAmD6E,EAAE,CAAC,CAAD,CAA1D;EACH;;EACDhK,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAM1B,OAAN,CAAc,wBAAd,EAAwCG,IAAxC,CAA6C,mBAA7C,EAAkEkS,IAAlE,CAAuE,EAAvE;EACH;EAED;;;;;;;;EAOO,SAAS9E,OAAT,CAAiB+M,GAAjB,EAAsB5Y,EAAtB,EAA0B8L,GAA1B,EAA+B+E,KAA/B,EAAsC;EACzC,MAAI7Q,EAAE,CAACoqB,MAAP,EAAe;EAAE;EACb,QAAIlF,GAAG,GAAGllB,EAAE,CAACY,IAAH,CAAQ,MAAR,CAAV;EACAZ,IAAAA,EAAE,GAAIklB,GAAG,IAAI,UAAP,IAAqBA,GAAG,IAAI,OAA7B,GAAwCllB,EAAE,CAAC7E,GAAH,EAAxC,GAAmD6E,EAAE,CAAC,CAAD,CAA1D;EACH,GAHD,MAGO,IAAIA,EAAE,YAAY4P,KAAlB,EAAyB;EAAE;EAC9B5P,IAAAA,EAAE,GAAGA,EAAE,CAACyR,OAAR;EACH;;EACDzb,EAAAA,CAAC,CAACgK,EAAD,CAAD,CAAM1B,OAAN,CAAc,wBAAd,EAAwCG,IAAxC,CAA6C,mBAA7C,EAAkErE,MAAlE,CAAyE,QAAQ0R,GAAR,GAAc,MAAvF;EACA,MAAI+E,KAAJ,EACIC,QAAQ,CAAC9Q,EAAD,CAAR;EACJ4Y,EAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEpH,WAAL,CAAiBxR,EAAjB;EACA,SAAO,KAAP;EACH;EAED;;;;;EAIO,SAAS8Q,QAAT,CAAkBhT,GAAlB,EAAuB;EAC1B,MAAI,CAACA,GAAL,EACI;EACJ,MAAI2nB,IAAI,GAAGzvB,CAAC,CAAC8H,GAAD,CAAZ;EACA,MAAIusB,QAAQ,CAAC5E,IAAD,CAAZ,EACI;;EACJ,MAAIyE,gBAAgB,CAACpsB,GAAD,CAApB,EAA2B;EAAE;EACzB,WAAO2nB,IAAI,CAACzpB,IAAL,CAAU,QAAV,EAAoB6U,KAApB,EAAP;EACH,GAFD,MAEO,IAAIqV,aAAa,CAACpoB,GAAD,CAAjB,EAAwB;EAAE;EAC7B,WAAO2nB,IAAI,CAAC5mB,MAAL,GAAcJ,IAAd,CAAmB,iBAAnB,EAAsCoS,KAAtC,EAAP;EACH,GAFM,MAEA,IAAI,CAAC/S,GAAG,CAACzD,OAAL,IAAgByD,GAAG,CAACvG,MAAxB,EAAgC;EAAE;EACrCuG,IAAAA,GAAG,GAAG2nB,IAAI,CAAC,CAAD,CAAV;EACH,GAFM,MAEA,IAAIpT,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EAAE;EAC7BA,IAAAA,GAAG,GAAGA,GAAG,CAAC7B,KAAV;EACH;;EACDjG,EAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAO+S,KAAP,GAf0B;EAgB7B;EAED;;;;;EAIO,SAASD,UAAT,CAAoB9S,GAApB,EAAyB;EAC5B,MAAI,CAACA,GAAL,EACI;EACJ,MAAI2nB,IAAI,GAAGzvB,CAAC,CAAC8H,GAAD,CAAZ;EACA,MAAIusB,QAAQ,CAAC5E,IAAD,CAAZ,EACI;EACJ,MAAI,CAAC3nB,GAAG,CAACzD,OAAL,IAAgByD,GAAG,CAACvG,MAAxB;EACIuG,IAAAA,GAAG,GAAG2nB,IAAI,CAAC,CAAD,CAAV;EACJ,MAAI5lB,EAAE,GAAG4lB,IAAI,CAACnnB,OAAL,CAAa,yBAAb,CAAT;;EACA,MAAI+T,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EACpB+B,IAAAA,EAAE,CAACpB,IAAH,CAAQ,kBAAR,EAA4ByI,QAA5B,CAAqC,YAArC,EAAmDmP,GAAnD,CAAuD,eAAvD,EAAwE,YAAW;EAC/ExW,MAAAA,EAAE,CAACpB,IAAH,CAAQ,aAAR,EAAuB2I,WAAvB,CAAmC,YAAnC;EACH,KAFD;EAGH,GAJD,MAIO,IAAI8e,aAAa,CAACpoB,GAAD,CAAjB,EAAwB;EAC3B+B,IAAAA,EAAE,CAACpB,IAAH,CAAQ,cAAR,EAAwByI,QAAxB,CAAiC,YAAjC,EAA+CmP,GAA/C,CAAmD,eAAnD,EAAoE,YAAW;EAC3ExW,MAAAA,EAAE,CAACpB,IAAH,CAAQ,aAAR,EAAuB2I,WAAvB,CAAmC,YAAnC;EACH,KAFD;EAGH,GAJM,MAIA;EACH,QAAItJ,GAAG,CAAC5G,IAAJ,IAAY,UAAZ,IAA0B4G,GAAG,CAAC5G,IAAJ,IAAY,OAA1C,EAAmD;EAC/CuuB,MAAAA,IAAI,CAACve,QAAL,CAAc,YAAd,EAA4BmP,GAA5B,CAAgC,eAAhC,EAAiD,YAAW;EACxDxW,QAAAA,EAAE,CAACpB,IAAH,CAAQ,aAAR,EAAuB2I,WAAvB,CAAmC,YAAnC;EACH,OAFD;EAGH,KAJD,MAIO;EACHqe,MAAAA,IAAI,CAACve,QAAL,CAAc,YAAd,EAA4BrI,MAA5B,GAAqCwX,GAArC,CAAyC,eAAzC,EAA0D,YAAW;EACjExW,QAAAA,EAAE,CAACpB,IAAH,CAAQ,aAAR,EAAuB2I,WAAvB,CAAmC,YAAnC;EACH,OAFD;EAGAqe,MAAAA,IAAI,CAACnnB,OAAL,CAAa,cAAb,EAA6B4I,QAA7B,CAAsC,YAAtC;EACH;EACJ;EACJ;;EAGM,SAASnF,QAAT,CAAkBjE,GAAlB,EAAuB;EAC1B,SAAOoM,eAAe,CAACpM,GAAD,CAAf,CAAqB2L,IAArB,CAA0B,EAA1B,KAAiC,EAAxC;EACH;;EAGM,SAAShJ,IAAT,CAAc/C,CAAd,EAAiBtB,GAAjB,EAAsBlF,IAAtB,EAA4B;EAC/B,MAAIwG,CAAC,CAAC4sB,QAAF,IAAc,CAAC5sB,CAAC,CAAC6sB,OAArB,EACInuB,GAAG,GAAGA,GAAG,CAACkN,KAAJ,CAAU,GAAV,EAAe,CAAf,IAAoB,gBAA1B,CADJ,KAEK,IAAIpS,IAAI,IAAI,CAAR,IAAawG,CAAC,CAAC6sB,OAAnB,EACDnuB,GAAG,IAAI,SAAP;EACJqT,EAAAA,QAAQ,GAAGrT,GAAX;EACA,SAAO,IAAP;EACH;;EAGM,SAASouB,aAAT,CAAuBxqB,EAAvB,EAA2B;EAC9ByqB,EAAAA,WAAW,CAACzqB,EAAD,CAAX;;EACAujB,EAAAA,OAAO,CAACplB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAAD,EAAyC,UAAC+O,MAAD,EAAY;EACvDA,IAAAA,MAAM,IAAIpN,EAAE,CAACwP,IAAd,GAAsBrX,MAAM,CAACsX,QAAP,GAAkBzP,EAAE,CAACwP,IAA3C,GAAkDkb,WAAW,CAAC1qB,EAAD,CAA7D;EACH,GAFM,CAAP;;EAGA,SAAO,KAAP;EACH;;EAGM,SAASwpB,WAAT,CAAqB7S,CAArB,EAAwB;EAC3B,SAAO3gB,CAAC,CAAC2gB,CAAD,CAAD,CAAKlY,IAAL,CAAU,8CAAV,EAA0DkY,CAA1D,EAA6Dpf,MAA7D,GAAsE,CAA7E;EACH;;EAGM,SAASozB,YAAT,CAAsB1yB,EAAtB,EAA0B;EAC7B2yB,EAAAA,SAAS,CAAC3yB,EAAD,CAAT;EACA,MAAI4yB,GAAG,GAAG70B,CAAC,CAACiC,EAAD,CAAD,CAAMqG,OAAN,CAAc,WAAd,EAA2B,CAA3B,CAAV;EACA,MAAI,CAACusB,GAAL,EACI;EACJ70B,EAAAA,CAAC,CAAC60B,GAAG,CAACC,OAAL,CAAD,CAAe/yB,IAAf,CAAoB,YAAW;EAC3B/B,IAAAA,CAAC,CAAC,KAAK+0B,IAAN,CAAD,CAAahzB,IAAb,CAAkB,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EAC7B,UAAIC,EAAE,GAAGj1B,CAAC,CAACg1B,CAAD,CAAV;;EACA,UAAIC,EAAE,CAACxrB,EAAH,CAAM,+CAAN,CAAJ,EAA4D;EACxDwrB,QAAAA,EAAE,CAACjvB,IAAH,CAAQ;EAAEzB,UAAAA,QAAQ,EAAEtC,EAAE,CAACuC,OAAf;EAAwBA,UAAAA,OAAO,EAAEvC,EAAE,CAACuC;EAApC,SAAR;EACA0wB,QAAAA,QAAQ,CAAChzB,CAAD,EAAI8yB,CAAJ,CAAR;EACH;EACJ,KAND;EAOH,GARD;EASH;;EAGM,SAASJ,SAAT,CAAmB3yB,EAAnB,EAAuB;EAC1B,MAAI,CAACA,EAAD,IAAO,CAACA,EAAE,CAAC4B,IAAf,EACI;EACJ7D,EAAAA,CAAC,CAACiC,EAAE,CAAC4B,IAAH,CAAQE,QAAT,CAAD,CAAoB6E,MAApB,CAA2B,gCAAgC3G,EAAE,CAACP,IAAnC,GAA0C,2BAA1C,GAAwEO,EAAE,CAACP,IAA3E,GAAkF,GAA7G,EAAkHwQ,GAAlH,CAAsHjQ,EAAtH,EAA0HiQ,GAA1H,CAA8H,WAA9H,EAA2I3I,IAA3I,CAAgJ,SAAhJ,EAA2JtH,EAAE,CAACuC,OAA9J;EACH;;EAGM,SAAS2wB,cAAT,CAAwBxU,CAAxB,EAA2B;EAC9B,SAAO3gB,CAAC,CAAC2gB,CAAD,CAAD,CAAKlY,IAAL,CAAU,wEAAV,EAAoFlH,MAApF,GAA6F,CAApG;EACH;;EAGM,SAAS2zB,QAAT,CAAkB1qB,KAAlB,EAAyBqR,GAAzB,EAA8B;EACjC,MAAI+F,IAAI,GAAG5hB,CAAC,CAAC6b,GAAD,CAAZ;EAAA,MAAmBuZ,IAAI,GAAGxT,IAAI,CAACtZ,OAAL,CAAa,WAAb,CAA1B;EACA,MAAI,CAAC8sB,IAAI,CAAC,CAAD,CAAT,EACI;;EACJ,MAAIxT,IAAI,CAAC5b,IAAL,CAAU,UAAV,CAAJ,EAA2B;EACvB4b,IAAAA,IAAI,CAACxQ,WAAL,CAAiBgkB,IAAI,CAACpvB,IAAL,CAAU,mBAAV,KAAkC,wBAAnD,EACKoL,WADL,CACiBgkB,IAAI,CAACpvB,IAAL,CAAU,cAAV,KAA6B,mBAD9C,EAEKkL,QAFL,CAEckkB,IAAI,CAACpvB,IAAL,CAAU,gBAAV,KAA+B,qBAF7C;EAGH,GAJD,MAIO,IAAI,CAACmC,EAAE,CAACktB,WAAJ,EAAiBltB,EAAE,CAACmtB,YAApB,EAAkCrtB,QAAlC,CAA2C2Z,IAAI,CAAC5b,IAAL,CAAU,SAAV,CAA3C,CAAJ,EAAsE;EACzE4b,IAAAA,IAAI,CAACxQ,WAAL,CAAiBgkB,IAAI,CAACpvB,IAAL,CAAU,gBAAV,KAA+B,qBAAhD,EACKoL,WADL,CACiBgkB,IAAI,CAACpvB,IAAL,CAAU,mBAAV,KAAkC,wBADnD,EAEKkL,QAFL,CAEckkB,IAAI,CAACpvB,IAAL,CAAU,cAAV,KAA6B,mBAF3C;EAGH,GAJM,MAIA;EACH4b,IAAAA,IAAI,CAACxQ,WAAL,CAAiBgkB,IAAI,CAACpvB,IAAL,CAAU,gBAAV,KAA+B,qBAAhD,EACKoL,WADL,CACiBgkB,IAAI,CAACpvB,IAAL,CAAU,cAAV,KAA6B,mBAD9C,EAEKoL,WAFL,CAEiBgkB,IAAI,CAACpvB,IAAL,CAAU,mBAAV,KAAkC,wBAFnD;EAGH;EACJ;;EAGM,SAASuvB,aAAT,CAAuBV,GAAvB,EAA4B;EAC/B70B,EAAAA,CAAC,CAAC60B,GAAG,CAACE,IAAL,CAAD,CAAYhzB,IAAZ,CAAiB,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EAC5B,QAAIC,EAAE,GAAGj1B,CAAC,CAACg1B,CAAD,CAAV;;EACA,QAAI,CAACC,EAAE,CAACjvB,IAAH,CAAQ,SAAR,CAAD,IAAuBivB,EAAE,CAACjvB,IAAH,CAAQ,UAAR,CAA3B,EAAgD;EAC5CivB,MAAAA,EAAE,CAACjvB,IAAH,CAAQ,UAAR,EAAoB,KAApB;EACAkvB,MAAAA,QAAQ,CAAChzB,CAAD,EAAI8yB,CAAJ,CAAR;EACH;EACJ,GAND;EAOH;;EAGM,SAASN,WAAT,CAAqB1qB,EAArB,EAAyB;EAC5B,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EAAA,MAAiB6qB,GAAG,GAAGzqB,GAAG,CAAC9B,OAAJ,CAAY,WAAZ,EAAyB,CAAzB,CAAvB;EACA,MAAI,CAACusB,GAAL,EACI;EACJ,MAAI3C,GAAG,GAAG9nB,GAAG,CAAC9B,OAAJ,CAAY,wBAAZ,CAAV;EACA4pB,EAAAA,GAAG,CAACsD,QAAJ,CAAa,qBAAqBtD,GAAG,CAAClsB,IAAJ,CAAS,UAAT,CAArB,GAA4C,IAAzD,EAA+DyvB,OAA/D,GAAyE1zB,IAAzE,CAA8E,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EACzF,QAAIC,EAAE,GAAGj1B,CAAC,CAACg1B,CAAD,CAAV;EACAC,IAAAA,EAAE,CAACjvB,IAAH,CAAQ,UAAR,EAAoBivB,EAAE,CAACjvB,IAAH,CAAQ,SAAR,CAApB;EACH,GAHD;EAIH;;EAGM,SAASyuB,WAAT,CAAqBzqB,EAArB,EAAyB;EAC5B,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EAAA,MAAiB6qB,GAAG,GAAGzqB,GAAG,CAAC9B,OAAJ,CAAY,WAAZ,EAAyB,CAAzB,CAAvB;EACA,MAAI,CAACusB,GAAL,EACI;EACJU,EAAAA,aAAa,CAACV,GAAD,CAAb;EACA,MAAI3C,GAAG,GAAG9nB,GAAG,CAAC9B,OAAJ,CAAY,wBAAZ,CAAV;EACA4pB,EAAAA,GAAG,CAACsD,QAAJ,CAAa,qBAAqBtD,GAAG,CAAClsB,IAAJ,CAAS,UAAT,CAArB,GAA4C,IAAzD,EAA+DyvB,OAA/D,GAAyE1zB,IAAzE,CAA8E,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EACzFh1B,IAAAA,CAAC,CAACg1B,CAAD,CAAD,CAAKhvB,IAAL,CAAU,UAAV,EAAsB,IAAtB;EACAkvB,IAAAA,QAAQ,CAAChzB,CAAD,EAAI8yB,CAAJ,CAAR;EACH,GAHD;EAIH;;EAGM,SAASU,kBAAT,CAA4BhuB,CAA5B,EAA+B;EAClC,MAAIzF,EAAE,GAAGyF,CAAC,CAACiD,MAAF,IAAYjD,CAAC,CAAC0rB,UAAvB;EAAA,MAAmCuC,GAAG,GAAG31B,CAAC,CAACiC,EAAD,CAA1C;EAAA,MAAgD4yB,GAAG,GAAGc,GAAG,CAACrtB,OAAJ,CAAY,WAAZ,EAAyB,CAAzB,CAAtD;EACA,MAAI,CAACusB,GAAL,EACI;EACJU,EAAAA,aAAa,CAACV,GAAD,CAAb;EACA,MAAI3C,GAAG,GAAGyD,GAAG,CAACrtB,OAAJ,CAAY,wBAAZ,CAAV;EACA4pB,EAAAA,GAAG,CAACsD,QAAJ,CAAa,qBAAqBtD,GAAG,CAAClsB,IAAJ,CAAS,UAAT,CAArB,GAA4C,IAAzD,EAA+DyvB,OAA/D,GAAyE1zB,IAAzE,CAA8E,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EACzFh1B,IAAAA,CAAC,CAACg1B,CAAD,CAAD,CAAKhvB,IAAL,CAAU,SAAV,EAAqB/D,EAAE,CAACuC,OAAxB,EAAiCwB,IAAjC,CAAsC,UAAtC,EAAkD/D,EAAE,CAACuC,OAArD,EAA8DiE,IAA9D,CAAmE,sCAAnE,EAA2G1G,IAA3G,CAAgH,YAAW;EACvH,UAAI,QAAQE,EAAZ,EAAgB,KAAKuC,OAAL,GAAevC,EAAE,CAACuC,OAAlB;EACnB,KAFD;EAGA0wB,IAAAA,QAAQ,CAAChzB,CAAD,EAAI8yB,CAAJ,CAAR;EACH,GALD;EAMAttB,EAAAA,CAAC,CAAC4Y,eAAF;EACH;;EAGM,SAASsV,UAAT,CAAoBprB,KAApB,EAA2BqqB,GAA3B,EAAgCgB,KAAhC,EAAuC;EAC1C,MAAIT,IAAI,GAAGp1B,CAAC,CAAC60B,GAAD,CAAZ;EAAA,MAAmBiB,KAAK,GAAG91B,CAAC,CAAC60B,GAAG,CAACE,IAAL,CAA5B;EACA,MAAI,CAACF,GAAD,IAAQ,CAACA,GAAG,CAACE,IAAb,IAAqB,CAACc,KAAD,IAAUT,IAAI,CAACpvB,IAAL,CAAU,OAAV,CAA/B,IAAqD6uB,GAAG,CAACC,OAAJ,CAAYvzB,MAAZ,IAAsB,CAA/E,EACI,OAHsC;;EAM1C,MAAIw0B,SAAS,GAAG,SAAZA,SAAY,CAASruB,CAAT,EAAY;EACxB,QAAI0B,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;;EACA,QAAI,CAACoJ,KAAK,CAACpD,IAAN,CAAW,UAAX,CAAD,IAA2B,CAAC,CAACmC,EAAE,CAACktB,WAAJ,EAAiBltB,EAAE,CAACmtB,YAApB,EAAkCrtB,QAAlC,CAA2CmB,KAAK,CAACpD,IAAN,CAAW,SAAX,CAA3C,CAAhC,EAAmG;EAC/F,UAAIovB,IAAI,GAAGhsB,KAAK,CAACd,OAAN,CAAc,WAAd,CAAX;EACA,UAAI,CAAC8sB,IAAI,CAAC,CAAD,CAAT,EACI;EACJhsB,MAAAA,KAAK,CAACosB,QAAN,CAAe,qBAAqBpsB,KAAK,CAACpD,IAAN,CAAW,UAAX,CAArB,GAA8C,IAA7D,EAAmEyvB,OAAnE,GAA6E1zB,IAA7E,CAAkF,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EAC7Fh1B,QAAAA,CAAC,CAACg1B,CAAD,CAAD,CAAK9jB,QAAL,CAAckkB,IAAI,CAACpvB,IAAL,CAAU,mBAAV,KAAkC,wBAAhD;EACH,OAFD;EAGH;EACJ,GAVD,CAN0C;;EAmB1C,MAAIgwB,QAAQ,GAAG,SAAXA,QAAW,CAAStuB,CAAT,EAAY;EACvB,QAAI0B,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EACA,QAAI,CAACoJ,KAAK,CAACpD,IAAN,CAAW,UAAX,CAAD,IAA2B,CAAC,CAACmC,EAAE,CAACktB,WAAJ,EAAiBltB,EAAE,CAACmtB,YAApB,EAAkCrtB,QAAlC,CAA2CmB,KAAK,CAACpD,IAAN,CAAW,SAAX,CAA3C,CAAhC,EACIoD,KAAK,CAACosB,QAAN,CAAe,qBAAqBpsB,KAAK,CAACpD,IAAN,CAAW,UAAX,CAArB,GAA8C,IAA7D,EAAmEyvB,OAAnE,GAA6E1zB,IAA7E,CAAkFmzB,QAAlF;EACP,GAJD,CAnB0C;;EA0B1C,MAAIxsB,KAAK,GAAG,SAARA,KAAQ,CAAShB,CAAT,EAAY;EACpB,QAAI0B,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EAAA,QAAqB60B,GAAG,GAAGzrB,KAAK,CAACd,OAAN,CAAc,WAAd,EAA2B,CAA3B,CAA3B;EAAA,QACI2tB,OAAO,GAAGj2B,CAAC,CAAC0H,CAAC,CAACiD,MAAH,CADf;EAEA,QAAI,CAACkqB,GAAD,IAAQoB,OAAO,CAAC5sB,QAAR,CAAiB,KAAjB,CAAR,IAAmC4sB,OAAO,CAAC5sB,QAAR,CAAiB,oBAAjB,CAAnC,IAA6E4sB,OAAO,CAACxsB,EAAR,CAAW,QAAX,CAAjF,EACI;;EACJ,QAAI,CAACL,KAAK,CAACpD,IAAN,CAAW,SAAX,CAAL,EAA4B;EACxB,UAAIzB,QAAQ,GAAG6E,KAAK,CAACpD,IAAN,CAAW,UAAX,CAAf;EACAuvB,MAAAA,aAAa,CAACV,GAAD,CAAb,CAFwB;;EAGxBzrB,MAAAA,KAAK,CAACosB,QAAN,CAAe,qBAAqBpsB,KAAK,CAACpD,IAAN,CAAW,UAAX,CAArB,GAA8C,IAA7D,EAAmEyvB,OAAnE,GAA6E1zB,IAA7E,CAAkF,UAASG,CAAT,EAAY8yB,CAAZ,EAAe;EAC7Fh1B,QAAAA,CAAC,CAACg1B,CAAD,CAAD,CAAKhvB,IAAL,CAAU,UAAV,EAAsB,CAACzB,QAAvB,EAD6F;;EAE7F2wB,QAAAA,QAAQ,CAAChzB,CAAD,EAAI8yB,CAAJ,CAAR;EACH,OAHD;EAIH;EACJ,GAbD;;EAeA,MAAI5X,CAAC,GAAG0Y,KAAK,CAACltB,MAAN,CAAa,mBAAb,EAAkCrH,MAAlC,IAA4Cu0B,KAAK,CAACltB,MAAN,CAAa,mBAAb,EAAkCrH,MAA9E,IAAwF,CAAhG,CAzC0C;;EA0C1C,MAAIwzB,IAAI,GAAGe,KAAK,CACXltB,MADM,CACC,oBADD,EAEN7G,IAFM,CAED,YAAW;EACb/B,IAAAA,CAAC,CAAC,KAAKk2B,KAAN,CAAD,CAAc9kB,WAAd,CAA0B,mBAA1B,EAA+CyQ,IAA/C,GAAsD3Q,QAAtD,CAA+D,mBAA/D,EADa;EAEhB,GAJM,EAIJ/L,GAJI,EAAX;EAKA,MAAIisB,GAAG,GAAGgE,IAAI,CAACe,YAAL,CAAkB,UAAlB,EAA8B,MAAMhuB,EAAE,CAACiuB,sBAAvC,EAA+D,CAA/D,CAAV;;EACA,MAAIrB,IAAI,CAACxzB,MAAT,EAAiB;EACb,SAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIkb,CAArB,EAAwBlb,CAAC,EAAzB,EAA6B;EACzB,UAAI8yB,CAAC,GAAGD,IAAI,CAACA,IAAI,CAACxzB,MAAL,GAAcW,CAAf,CAAZ,CADyB;;EAEzBlC,MAAAA,CAAC,CAACg1B,CAAC,CAACkB,KAAH,CAAD,CAAWn0B,IAAX,CAAgB,YAAW;EACvB,YAAI,KAAKivB,OAAL,IAAgB9uB,CAApB;EACIlC,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQkR,QAAR,CAAiB,mBAAjB,EACKnI,WADL,CACiB,wBADjB,EAC2C,CAAC,CAACqoB,GAAF,IAASA,GAAG,CAACiF,YAAJ,GAAmBxB,GAAG,CAACyB,YAD3E;EAEP,OAJD;EAKH;EACJ;;EACD,MAAIzyB,IAAI,GAAGuxB,IAAI,CAAC9sB,OAAL,CAAa,MAAb,EAAqB,CAArB,CAAX;EACA,MAAIiuB,MAAM,GAAG1yB,IAAI,IAAI7D,CAAC,CAAC6D,IAAI,CAACE,QAAN,CAAD,CAAiB6E,MAAjB,CAAwB,iCAAxB,EAA2DrH,MAA3D,GAAoE,CAAzF;EACAvB,EAAAA,CAAC,CAAC60B,GAAG,CAACC,OAAJ,CAAYD,GAAG,CAACC,OAAJ,CAAYvzB,MAAZ,GAAqB,CAAjC,EAAoCwzB,IAArC,CAAD;EAAA,GACKnsB,MADL,CACY,+CADZ,EAEK7G,IAFL,CAEU,UAASG,CAAT,EAAY;EACd,QAAI+yB,EAAE,GAAGj1B,CAAC,CAAC,IAAD,CAAV;;EACA,QAAIu2B,MAAM,IAAI,CAACtB,EAAE,CAACjvB,IAAH,CAAQ,OAAR,CAAf,EAAiC;EAC7B,UAAI,CAACmC,EAAE,CAACktB,WAAJ,EAAiBltB,EAAE,CAACmtB,YAApB,EAAkCrtB,QAAlC,CAA2CgtB,EAAE,CAACjvB,IAAH,CAAQ,SAAR,CAA3C,CAAJ;EACIivB,QAAAA,EAAE,CAAC9rB,EAAH,CAAM,WAAN,EAAmB,YAAW;EAAC,eAAKqtB,IAAL,GAAY,IAAZ;EAAkB,SAAjD,EAAmDtlB,QAAnD,CAA4D,mBAA5D;EACJ+jB,MAAAA,EAAE,CAAC9rB,EAAH,CAAM,WAAN,EAAmB4sB,SAAnB,EAA8B5sB,EAA9B,CAAiC,UAAjC,EAA6C6sB,QAA7C,EAAuD7sB,EAAvD,CAA0D,OAA1D,EAAmET,KAAnE;EACAusB,MAAAA,EAAE,CAACjvB,IAAH,CAAQ,OAAR,EAAiB,IAAjB;EACH;;EACD,QAAIywB,EAAE,GAAGv0B,CAAC,IAAI,IAAIkb,CAAR,CAAD,GAAcA,CAAvB;EACA6X,IAAAA,EAAE,CAAClsB,WAAH,CAAe,cAAf,EAA+B0tB,EAA/B,EAAmC1tB,WAAnC,CAA+C,kBAA/C,EAAmE,CAAC0tB,EAApE;EACH,GAZL;EAaAC,EAAAA,SAAS,CAAClsB,KAAD,EAAQ4qB,IAAI,CAAC9sB,OAAL,CAAa,UAAb,EAAyB,CAAzB,CAAR,EAAqCutB,KAArC,CAAT;EACAT,EAAAA,IAAI,CAACpvB,IAAL,CAAU,OAAV,EAAmB,IAAnB;EACH;;EAGM,SAAS0wB,SAAT,CAAmBlsB,KAAnB,EAA0BmsB,IAA1B,EAAgCd,KAAhC,EAAuC;EAC1C,MAAIe,KAAK,GAAG52B,CAAC,CAAC22B,IAAD,CAAb;EACA,MAAI,CAACA,IAAD,IAAS,CAACd,KAAD,IAAUe,KAAK,CAAC5wB,IAAN,CAAW,OAAX,CAAvB,EACI;EACJ,MAAI6wB,KAAK,GAAGD,KAAK,CAACnuB,IAAN,CAAW,6BAAX,EAA0ClH,MAAtD;EAAA,MAA8Du1B,MAA9D;;EACA,MAAID,KAAJ,EAAW;EACPC,IAAAA,MAAM,GAAGF,KAAK,CAACnuB,IAAN,CAAW,mBAAX,EAAgClH,MAAzC;EACH,GAFD,MAEO;EACHu1B,IAAAA,MAAM,GAAGF,KAAK,CAACnuB,IAAN,CAAW,wBAAX,EAAqCylB,KAArC,GAA6C1M,QAA7C,CAAsD,6CAAtD,EAAqGjgB,MAA9G;EACH;;EACD,MAAIu1B,MAAM,IAAI,CAAV,IAAe,CAACF,KAAK,CAACnuB,IAAN,CAAW,4CAAX,EAAyD,CAAzD,CAApB,EACImuB,KAAK,CAAC3tB,IAAN,GAXsC;EAa1C;EACA;EACA;;EACA,MAAI2tB,KAAK,CAACnuB,IAAN,CAAW,+BAAX,EAA4CY,QAA5C,CAAqDlB,EAAE,CAACiuB,sBAAxD,KAAmFQ,KAAK,CAACtd,KAAN,KAAgBtZ,CAAC,CAAC,UAAD,CAAD,CAAcsZ,KAAd,EAAvG,EAA8H;EAC1Hsd,IAAAA,KAAK,CAAC1lB,QAAN,CAAe,QAAf;EACA0lB,IAAAA,KAAK,CAACtuB,OAAN,CAAc,kBAAd,EAAkC4I,QAAlC,CAA2C,SAA3C;EACA0lB,IAAAA,KAAK,CAACtuB,OAAN,CAAc,UAAd,EAA0B4I,QAA1B,CAAmC,OAAnC;EACA,QAAI/I,EAAE,CAAC4uB,sBAAP,EACIH,KAAK,CAACnuB,IAAN,CAAW,qDAAX,EAAkEuuB,iBAAlE,CAAoF7uB,EAAE,CAAC8uB,wBAAvF;EACP;;EACDL,EAAAA,KAAK,CAAC5wB,IAAN,CAAW,OAAX,EAAoB,IAApB;EACH;;EAGM,SAASkxB,UAAT,CAAoBltB,EAApB,EAAwB;EAC3B,MAAI4sB,KAAK,GAAG52B,CAAC,CAACgK,EAAD,CAAD,CAAM1B,OAAN,CAAc,UAAd,CAAZ;EAAA,MACI8sB,IAAI,GAAGwB,KAAK,CAACnuB,IAAN,CAAW,gBAAX,EAA6BoZ,IAA7B,EADX;EAAA,MACgDhY,EAAE,GAAGurB,IAAI,CAACvsB,MAAL,CAAY,KAAZ,CADrD;EAAA,MAEIsuB,IAAI,GAAG/B,IAAI,CAAC3sB,IAAL,CAAU,gBAAV,CAFX;EAGA,MAAI,CAACuB,EAAD,IAAO,CAAC4sB,KAAK,CAAC,CAAD,CAAb,IAAoB,CAACxB,IAAI,CAAC,CAAD,CAAzB,IAAgC,CAAC+B,IAAI,CAAC,CAAD,CAAzC,EACI,OAAO,KAAP;EACJ,MAAIC,QAAQ,GAAGp3B,CAAC,CAACo1B,IAAI,CAAC,CAAD,CAAJ,CAAQL,IAAT,CAAD,CAAgBlT,IAAhB,EAAf;EACAuT,EAAAA,IAAI,CAAC3sB,IAAL,CAAU,sBAAV,EAAkC2I,WAAlC,CAA8C,mBAA9C;EACA,MAAIwQ,IAAI,GAAGuV,IAAI,CAACE,KAAL,CAAW,IAAX,EAAiB,IAAjB,EAAuBjmB,WAAvB,CAAmC,aAAnC,CAAX;EACA,MAAI7K,KAAK,GAAGqwB,KAAK,CAACnuB,IAAN,CAAW,8BAAX,CAAZ;EACA,MAAI,CAAClC,KAAK,CAAC,CAAD,CAAV,EACIA,KAAK,GAAGqwB,KAAK,CAACnuB,IAAN,CAAW,+BAAX,CAAR;EACJ,MAAI6uB,MAAM,GAAI/wB,KAAK,CAACkD,EAAN,CAAS,KAAT,CAAD,GAAoB,MAAMlD,KAAK,CAACqE,IAAN,CAAW,IAAX,CAA1B,GAA6C,EAA1D;EACA,MAAI2sB,SAAS,GAAGhxB,KAAK,CAACkC,IAAN,CAAW,eAAe6uB,MAA1B,CAAhB;EACA,MAAIE,MAAM,GAAGvtB,QAAQ,CAACstB,SAAS,CAAC/qB,GAAV,EAAD,EAAkB,EAAlB,CAAR,GAAgC,CAA7C;EACAoV,EAAAA,IAAI,CAAChX,IAAL,CAAU;EAAE,UAAM,MAAM4sB,MAAN,GAAe5V,IAAI,CAAChX,IAAL,CAAU,IAAV,EAAgBqjB,SAAhB,CAA0B,CAA1B,CAAvB;EAAqD,qBAAiBuJ;EAAtE,GAAV;EACA,MAAIvlB,IAAI,GAAGklB,IAAI,CAAC1uB,IAAL,CAAU,+BAAV,CAAX,CAhB2B;;EAiB3BmZ,EAAAA,IAAI,CAACJ,QAAL,CAAc,IAAd,EAAoBzf,IAApB,CAAyB,YAAW;EAChC/B,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyI,IAAR,CAAa,GAAb,EAAkB1G,IAAlB,CAAuB,YAAW;EAC9B/B,MAAAA,CAAC,CAAC+B,IAAF,CAAO,KAAK01B,UAAZ,EAAwB,UAASv1B,CAAT,EAAY0I,IAAZ,EAAkB;EACtCA,QAAAA,IAAI,CAAC7J,KAAL,GAAa6J,IAAI,CAAC7J,KAAL,CAAWe,OAAX,CAAmB,eAAnB,EAAoC01B,MAApC,CAAb,CADsC;EAEzC,OAFD;EAGH,KAJD;EAKH,GAND;EAOA5V,EAAAA,IAAI,CAACnZ,IAAL,CAAU,UAAV,EAAsBH,OAAtB,CAA8B,WAA9B,EAA2CovB,UAA3C,CAAsD,YAAtD,EAAoE7S,OAApE,CAA4E;EAAEC,IAAAA,SAAS,EAAE,MAAb;EAAqBE,IAAAA,SAAS,EAAE,QAAhC;EAA0C9Z,IAAAA,OAAO,EAAE,OAAnD;EAA4D+Z,IAAAA,UAAU,EAAE9c,EAAE,CAAC8c;EAA3E,GAA5E;EACAsS,EAAAA,SAAS,CAAC/qB,GAAV,CAAcgrB,MAAd,EAAsBhvB,KAAtB,CAA4BxI,CAAC,CAAC,SAAD,CAAD,CAAa4K,IAAb,CAAkB;EAC1C1J,IAAAA,IAAI,EAAE,QADoC;EAE1CiJ,IAAAA,EAAE,EAAE,MAAMqtB,MAAN,GAAe,SAAf,GAA2BF,MAFW;EAG1C51B,IAAAA,IAAI,EAAE,MAAM81B,MAAN,GAAe,SAAf,GAA2BF,MAHS;EAI1Cv2B,IAAAA,KAAK,EAAE;EAJmC,GAAlB,CAA5B;EAMAq2B,EAAAA,QAAQ,CAAC5uB,KAAT,CAAeoZ,IAAf;EACA3P,EAAAA,IAAI,CAAClQ,IAAL,CAAU,YAAW;EACjB41B,IAAAA,SAAS,CAAC,KAAK7e,IAAL,CAAUhX,OAAV,CAAkB,eAAlB,EAAmC01B,MAAnC,CAAD,CAAT;EACH,GAFD;EAGA,MAAI5U,GAAG,GAAGrc,KAAK,CAACP,IAAN,CAAW,MAAX,CAAV;;EACA,MAAI4c,GAAJ,EAAS;EACLA,IAAAA,GAAG,CAACrN,WAAJ;EACAqN,IAAAA,GAAG,CAAC7M,UAAJ;EACH;;EACD6f,EAAAA,UAAU,CAAC,CAAC,CAAF,EAAKR,IAAI,CAAC,CAAD,CAAT,EAAc,IAAd,CAAV;EACAvrB,EAAAA,EAAE,CAAC6V,SAAH,CAAa7V,EAAE,CAAC,CAAD,CAAF,CAAM+tB,YAAnB;EACA,SAAO,KAAP;EACH;;EAGM,SAASC,aAAT,CAAuB7tB,EAAvB,EAA2BwoB,KAA3B,EAAkC;EACrC,MAAIpoB,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAD,CAAM6a,OAAN,CAAc,MAAd,EAAsB6S,UAAtB,CAAiC,YAAjC,CAAV;EAAA,MACId,KAAK,GAAGxsB,GAAG,CAAC9B,OAAJ,CAAY,iCAAZ,CADZ;EAAA,MAEIsZ,IAAI,GAAGxX,GAAG,CAAC9B,OAAJ,CAAY,wBAAZ,CAFX;EAAA,MAGI8sB,IAAI,GAAGxT,IAAI,CAACtZ,OAAL,CAAa,WAAb,CAHX;EAIA,MAAI,CAAC0B,EAAD,IAAO,CAAC4sB,KAAK,CAAC,CAAD,CAAb,IAAoB,CAAChV,IAAI,CAAC,CAAD,CAA7B,EACI,OAAO,KAAP;EACJ,MAAIkW,MAAM,GAAG7tB,QAAQ,CAAC2X,IAAI,CAAC5b,IAAL,CAAU,UAAV,CAAD,EAAwB,EAAxB,CAArB;EACA,MAAIO,KAAK,GAAGqwB,KAAK,CAACnuB,IAAN,CAAW,8BAAX,CAAZ;EACA,MAAI,CAAClC,KAAK,CAAC,CAAD,CAAV,EACIA,KAAK,GAAGqwB,KAAK,CAACnuB,IAAN,CAAW,+BAAX,CAAR;EACJ,MAAIma,GAAG,GAAGrc,KAAK,CAACP,IAAN,CAAW,MAAX,CAAV;EACA,MAAI,CAACO,KAAK,CAAC,CAAD,CAAN,IAAa,CAACqc,GAAlB,EACI,OAAO,KAAP;EACJ,MAAI0U,MAAM,GAAI/wB,KAAK,CAACkD,EAAN,CAAS,KAAT,CAAD,GAAoB,MAAMlD,KAAK,CAACqE,IAAN,CAAW,IAAX,CAA1B,GAA6C,EAA1D;EACA,MAAImtB,UAAU,GAAG,eAAeT,MAAhC;;EACA,MAAIU,OAAO,GAAG,SAAVA,OAAU,GAAW;EACrBpW,IAAAA,IAAI,CAACnK,MAAL;EACA,QAAImf,KAAK,CAACntB,EAAN,CAAS,UAAT,CAAJ,EACImsB,UAAU,CAAC,CAAC,CAAF,EAAKR,IAAI,CAAC,CAAD,CAAT,EAAc,IAAd,CAAV;;EACJ,QAAI0C,MAAM,GAAG,CAAb,EAAgB;EACZ,UAAIG,OAAO,GAAG1xB,KAAK,CAACkC,IAAN,CAAW,OAAOqvB,MAAP,GAAgB,SAAhB,GAA4BR,MAAvC,CAAd;;EACA,UAAIW,OAAO,CAAC,CAAD,CAAX,EAAgB;EACZA,QAAAA,OAAO,CAACzrB,GAAR,CAAayrB,OAAO,CAACzrB,GAAR,MAAiB,QAAlB,GAA8B,cAA9B,GAA+C,QAA3D;EACH,OAFD,MAEO;EACHjG,QAAAA,KAAK,CAACkC,IAAN,CAAWsvB,UAAX,EAAuBvvB,KAAvB,CAA6BxI,CAAC,CAAC,SAAD,CAAD,CAAa4K,IAAb,CAAkB;EAC3C1J,UAAAA,IAAI,EAAE,QADqC;EAE3CiJ,UAAAA,EAAE,EAAE,MAAM2tB,MAAN,GAAe,SAAf,GAA2BR,MAFY;EAG3C51B,UAAAA,IAAI,EAAE,MAAMo2B,MAAN,GAAe,SAAf,GAA2BR,MAHU;EAI3Cv2B,UAAAA,KAAK,EAAE;EAJoC,SAAlB,CAA7B;EAMH;EACJ;EACJ,GAjBD;;EAkBA,MAAIf,CAAC,CAACytB,UAAF,CAAa7K,GAAG,CAAChS,QAAjB,KAA8BgS,GAAG,CAAChS,QAAJ,CAAa4hB,KAAb,CAAlC,EAAuD;EAAE;EACrDwF,IAAAA,OAAO;EACV,GAFD,MAEO;EAAE;EACLzK,IAAAA,OAAO,CAACplB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAAD,EAAyC,UAAC+O,MAAD,EAAY;EACxD,UAAIA,MAAJ,EACI4gB,OAAO;EACd,KAHM,CAAP;EAIH;;EACD,SAAO,KAAP;EACH;;EAGM,SAASE,UAAT,CAAoBpf,IAApB,EAA0B;EAC7B,MAAI8Y,GAAG,GAAGjwB,MAAM,CAACmX,IAAD,CAAhB;EACA,SAAO8Y,GAAG,CAAC9vB,OAAJ,CAAY,IAAZ,EAAkB,OAAlB,EAA2BA,OAA3B,CAAmC,KAAnC,EAA0C,QAA1C,EAAoDA,OAApD,CAA4D,IAA5D,EAAkE,MAAlE,EAA0EA,OAA1E,CAAkF,IAAlF,EAAwF,MAAxF,CAAP;EACH;;EAGM,SAAS8Q,WAAT,CAAqB5I,EAArB,EAAyBmmB,IAAzB,EAA+B;EAClC,MAAItd,QAAJ;;EACA,MAAI7S,CAAC,CAAC6H,QAAF,CAAWmC,EAAX,KAAkBA,EAAE,CAACkG,OAAzB,EAAkC;EAAE;EAChC2C,IAAAA,QAAQ,GAAG,kBAAkB7I,EAAE,CAACkG,OAAH,CAAWioB,KAA7B,GAAqC,iBAArC,GAAyDnuB,EAAE,CAACkG,OAAH,CAAWoL,KAApE,GAA4E,qCAAvF;EACH,GAFD,MAEO,IAAItb,CAAC,CAACyS,QAAF,CAAWzI,EAAX,CAAJ,EAAoB;EACvB6I,IAAAA,QAAQ,GAAG,YAAY7I,EAAZ,GAAiB,IAA5B;EACA,QAAIuH,EAAE,GAAGvH,EAAE,CAACsJ,KAAH,CAAS,GAAT,CAAT,CAFuB;;EAGvB,QAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAjB,EACIsR,QAAQ,GAAG,kBAAkBtB,EAAE,CAAC,CAAD,CAApB,GAA0B,iBAA1B,GAA8Cwd,KAAK,CAACxd,EAAE,CAAC,CAAD,CAAH,CAAnD,GAA6D,qCAAxE,CAJmB;EAK1B;;EACD,MAAI4e,IAAI,GAAG,CAACnwB,CAAC,CAACyS,QAAF,CAAW0d,IAAX,CAAD,GAAoBA,IAApB,GAA2B,KAAKne,IAAL,CAAUme,IAAV,IAAkBA,IAAlB,GAAyB,MAAMA,IAArE;EACAtd,EAAAA,QAAQ,GAAG,UAAUA,QAAV,GAAqB,SAArB,GAAiCA,QAAjC,GAA4C,WAA5C,GAA0DA,QAA1D,GAAqE,SAArE,GAAiFA,QAA5F;EACA,MAAIZ,IAAI,GAAIke,IAAD,GAASnwB,CAAC,CAACmwB,IAAD,CAAD,CAAQ1nB,IAAR,CAAaoK,QAAb,CAAT,GAAkC7S,CAAC,CAAC6S,QAAD,CAA9C;EACA,MAAIZ,IAAI,CAAC1Q,MAAL,IAAe,CAAf,IAAoB0Q,IAAI,CAACxI,EAAL,CAAQ,yCAAR,CAAxB,EACI,OAAOwI,IAAI,CAAC,CAAD,CAAX;EACJ,SAAOA,IAAI,CAAC9M,GAAL,EAAP;EACH;;EAGM,SAASwN,UAAT,CAAoBjR,IAApB,EAA0ByuB,IAA1B,EAAgC;EACnC,MAAIA,IAAI,GAAGnwB,CAAC,CAACyS,QAAF,CAAW0d,IAAX,IAAmB,MAAMA,IAAzB,GAAgCA,IAA3C;EAAA,MACItd,QAAQ,GAAG,MAAMnR,IAAI,CAACI,OAAL,CAAa,aAAb,EAA4B,MAA5B,CAAN,GAA4C,UAA5C,GAAyDJ,IAAzD,GAAgE,IAD/E;EAEA,SAAQyuB,IAAD,GAASnwB,CAAC,CAACmwB,IAAD,CAAD,CAAQ1nB,IAAR,CAAaoK,QAAb,EAAuB,CAAvB,CAAT,GAAqC7S,CAAC,CAAC6S,QAAD,CAAD,CAAYqb,KAAZ,GAAoB,CAApB,CAA5C;EACH;;EAGM,SAASkK,aAAT,CAAuBrH,IAAvB,EAA6BnjB,EAA7B,EAAiC;EACpC,SAAOmjB,IAAI,GAAGA,IAAI,CAACsH,UAAnB,EAA+B;EAC3B,QAAItH,IAAI,IAAIA,IAAI,CAACuH,QAAL,IAAiB,CAAzB,KAA+B,CAAC1qB,EAAD,IAAOA,EAAE,CAACmjB,IAAD,CAAxC,CAAJ,EACI,OAAOA,IAAP;EACP;;EACD,SAAO,IAAP;EACH;;EAGM,SAASsD,QAAT,CAAkBrqB,EAAlB,EAAsB;EACzB,MAAII,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAAX;EACA,SAAOI,GAAG,CAAC4M,GAAJ,CAAQ,SAAR,KAAsB,MAAtB,IAAgC,CAAC5M,GAAG,CAAC9B,OAAJ,CAAY,gBAAZ,EAA8B,CAA9B,CAAjC,IAAqE,CAAC4nB,aAAa,CAAClmB,EAAD,CAAnF,IAA2F,CAACqS,aAAa,CAACrS,EAAD,CAAzG,IAAiH,CAACkqB,gBAAgB,CAAClqB,EAAD,CAAlI,IACHouB,aAAa,CAACpuB,EAAD,EAAK,UAAC+mB,IAAD;EAAA,WAAUA,IAAI,CAAC5G,KAAL,CAAW1L,OAAX,IAAsB,MAAtB,IAAgC,CAACsS,IAAI,CAACwH,SAAL,CAAeC,QAAf,CAAwB,UAAxB,CAAjC,IAAwE,CAACzH,IAAI,CAACwH,SAAL,CAAeC,QAAf,CAAwB,UAAxB,CAAnF;EAAA,GAAL,CAAb,IAA6I,IADjJ;EAEH;;EAGM,SAAS5sB,QAAT,CAAkB6sB,EAAlB,EAAsBC,EAAtB,EAA0B;EAC7B,SAAQ/2B,MAAM,CAAC82B,EAAD,CAAN,CAAW3yB,WAAX,MAA4BnE,MAAM,CAAC+2B,EAAD,CAAN,CAAW5yB,WAAX,EAApC;EACH;;EAGM,SAAS6yB,UAAT,CAAoBF,EAApB,EAAwBC,EAAxB,EAA4B;EAC/B,SAAQ/2B,MAAM,CAAC82B,EAAD,CAAN,IAAc92B,MAAM,CAAC+2B,EAAD,CAA5B;EACH;;EAGM,SAAStrB,QAAT,CAAkBpD,EAAlB,EAAsBnG,IAAtB,EAA4B;EAC/B,MAAI,CAACmG,EAAL,EACI,OAAO,EAAP;EACJ,MAAIlC,GAAJ;;EACA,MAAI9H,CAAC,CAACyS,QAAF,CAAWzI,EAAX,CAAJ,EAAoB;EAChB,QAAIuH,EAAE,GAAGvH,EAAE,CAACsJ,KAAH,CAAS,GAAT,CAAT;;EACA,QAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAjB,EAAoB;EAAE;EAClBuG,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,CAAjB;EACH,KAFD,MAEO;EACHlC,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,EAAKnG,IAAL,CAAjB;EACH;EACJ,GAPD,MAOO,IAAImG,EAAE,CAAC9I,IAAH,IAAW,OAAX,IAAsB8I,EAAE,CAAC9I,IAAH,IAAW,UAArC,EAAiD;EAAE;EACtD4G,IAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,CAAjB;EACH,GAFM,MAEA;EACHlC,IAAAA,GAAG,GAAGkC,EAAN;EACH;;EACD,MAAIlC,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACf,QAAIyD,GAAG,CAACyK,IAAR,EAAc;EACV,UAAI/F,GAAG,GAAG1E,GAAG,CAACxC,MAAd;EACA,aAAOwC,GAAG,CAACuL,QAAJ,GAAe7G,GAAf,GAAsBA,GAAG,CAAC,CAAD,CAAH,IAAU,EAAvC;EACH,KAHD,MAGO;EACH,UAAIA,IAAG,GAAGmL,KAAK,CAAC/W,SAAN,CAAgBgI,MAAhB,CAAuB1D,IAAvB,CAA4B4C,GAAG,CAACzD,OAAhC,EAAyC,UAAA0a,MAAM;EAAA,eAAIA,MAAM,CAACxa,QAAP,IAAmBwa,MAAM,CAAChe,KAAP,KAAiB,EAAxC;EAAA,OAA/C,EAA2F4D,GAA3F,CAA+F,UAAAoa,MAAM;EAAA,eAAIA,MAAM,CAAChe,KAAX;EAAA,OAArG,CAAV;;EACA,aAAQ+G,GAAG,CAAC5G,IAAJ,IAAY,iBAAb,GAAkCsL,IAAlC,GAAyCA,IAAG,CAAC,CAAD,CAAH,IAAU,EAA1D;EACH;EACJ,GARD,MAQO,IAAIxM,CAAC,CAACgT,QAAF,CAAWlL,GAAG,CAACvG,MAAf,CAAJ,EAA4B;EAAE;EACjC,QAAIiL,KAAG,GAAGxM,CAAC,CAAC8H,GAAD,CAAD,CAAOc,MAAP,CAAc,UAAd,EAA0BjE,GAA1B,CAA8B,YAAW;EAC/C,aAAO,KAAK5D,KAAZ;EACH,KAFS,EAEPoE,GAFO,EAAV;;EAGA,WAAQ2C,GAAG,CAACvG,MAAJ,IAAc,CAAf,GAAoBiL,KAAG,CAAC,CAAD,CAAvB,GAA6BA,KAApC;EACH,GALM,MAKA,IAAIrE,EAAE,CAAC+rB,gBAAH,CAAoBpsB,GAApB,CAAJ,EAA8B;EACjC9H,IAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,CAAY,QAAZ,EAAsB0P,IAAtB;EACA,WAAO5N,GAAG,CAAC/G,KAAX;EACH,GAHM,MAGA;EAAE;EACL,QAAIiF,IAAI,GAAGhG,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,EAAX;EACA,QAAIA,IAAI,CAACie,MAAL,IAAeje,IAAI,CAACqN,QAAxB;EACI,aAAOvL,GAAG,CAAC/G,KAAJ,CAAUuS,KAAV,CAAgBnL,EAAE,CAAC0U,yBAAnB,CAAP,CADJ,KAGI,OAAO/U,GAAG,CAAC/G,KAAX;EACP;EACJ;;EAGM,SAASmT,eAAT,CAAyBlK,EAAzB,EAA6BnG,IAA7B,EAAmC;EACtC,MAAIiE,GAAJ;;EACA,MAAI9H,CAAC,CAACyS,QAAF,CAAWzI,EAAX,CAAJ,EAAoB;EAChB,QAAIuH,EAAE,GAAGvH,EAAE,CAACsJ,KAAH,CAAS,GAAT,CAAT;;EACA,QAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAjB,EAAoB;EAAE;EAClBuG,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,CAAjB;EACH,KAFD,MAEO;EACHlC,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,EAAKnG,IAAL,CAAjB;EACH;EACJ,GAPD,MAOO,IAAImG,EAAE,CAAC9I,IAAH,IAAW,OAAX,IAAsB8I,EAAE,CAAC9I,IAAH,IAAW,UAArC,EAAiD;EAAE;EACtD4G,IAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,CAAjB;EACH,GAFM,MAEA;EACHlC,IAAAA,GAAG,GAAGkC,EAAN;EACH;;EACD,MAAIlC,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACf,QAAIyD,GAAG,CAACyK,IAAR,EACI,OAAOzK,GAAG,CAACxC,MAAX,CADJ,KAGI,OAAOqS,KAAK,CAAC/W,SAAN,CAAgBgI,MAAhB,CAAuB1D,IAAvB,CAA4B4C,GAAG,CAACzD,OAAhC,EAAyC,UAAA0a,MAAM;EAAA,aAAIA,MAAM,CAACxa,QAAP,IAAmBwa,MAAM,CAAChe,KAAP,KAAiB,EAAxC;EAAA,KAA/C,EAA2F4D,GAA3F,CAA+F,UAAAoa,MAAM;EAAA,aAAIA,MAAM,CAAChe,KAAX;EAAA,KAArG,CAAP;EACP,GALD,MAKO,IAAIf,CAAC,CAACgT,QAAF,CAAWlL,GAAG,CAACvG,MAAf,CAAJ,EAA4B;EAAE;EACjC,WAAOvB,CAAC,CAAC8H,GAAD,CAAD,CAAOc,MAAP,CAAc,UAAd,EAA0BjE,GAA1B,CAA8B,YAAW;EAC5C,aAAO,KAAK5D,KAAZ;EACH,KAFM,EAEJoE,GAFI,EAAP;EAGH,GAJM,MAIA,IAAIgD,EAAE,CAAC+rB,gBAAH,CAAoBpsB,GAApB,CAAJ,EAA8B;EACjC9H,IAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,CAAY,QAAZ,EAAsB0P,IAAtB;EACA,WAAO,CAAC5N,GAAG,CAAC/G,KAAL,CAAP;EACH,GAHM,MAGA;EAAE;EACL,QAAIiF,IAAI,GAAGhG,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,EAAX;EACA,QAAIA,IAAI,CAACie,MAAL,IAAeje,IAAI,CAACqN,QAAxB;EACI,aAAOvL,GAAG,CAAC/G,KAAJ,CAAUuS,KAAV,CAAgBnL,EAAE,CAAC0U,yBAAnB,CAAP,CADJ,KAGI,OAAO,CAAC/U,GAAG,CAAC/G,KAAL,CAAP;EACP;EACJ;;EAGM,SAAS63B,cAAT,CAAwB5uB,EAAxB,EAA4BnG,IAA5B,EAAkC;EACrC,MAAIiE,GAAJ;;EACA,MAAI9H,CAAC,CAACyS,QAAF,CAAWzI,EAAX,CAAJ,EAAoB;EAChB,QAAIuH,EAAE,GAAGvH,EAAE,CAACsJ,KAAH,CAAS,GAAT,CAAT;;EACA,QAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAjB,EAAoB;EAAE;EAClBuG,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,CAAjB;EACH,KAFD,MAEO;EACHlC,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,EAAKnG,IAAL,CAAjB;EACH;EACJ,GAPD,MAOO;EACHiE,IAAAA,GAAG,GAAGkC,EAAN;EACH;;EACD,MAAIqS,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EAAE;EACtB,WAAO,CAACA,GAAG,CAAC7B,KAAJ,CAAUlF,KAAX,CAAP;EACH,GAFD,MAEO,IAAImvB,aAAa,CAACpoB,GAAD,CAAjB,EAAwB;EAAE;EAC7B,QAAI2nB,IAAI,GAAGzvB,CAAC,CAAC8H,GAAD,CAAZ;EACA,WAAO2nB,IAAI,CAAC5mB,MAAL,GAAcJ,IAAd,CAAmB,4BAAnB,EAAiD9D,GAAjD,CAAqD,YAAW;EACnE,aAAO3E,CAAC,CAAC,IAAD,CAAD,CAAQ8Y,IAAR,GAAenN,IAAf,EAAP;EACH,KAFM,EAEJxG,GAFI,EAAP;EAGH,GALM,MAKA,IAAI2C,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACtB,WAAOsT,KAAK,CAAC/W,SAAN,CAAgBgI,MAAhB,CAAuB1D,IAAvB,CAA4B4C,GAAG,CAACzD,OAAhC,EAAyC,UAAA0a,MAAM;EAAA,aAAIA,MAAM,CAACxa,QAAP,IAAmBwa,MAAM,CAAChe,KAAP,KAAiB,EAAxC;EAAA,KAA/C,EAA2F4D,GAA3F,CAA+F,UAAAoa,MAAM;EAAA,aAAIA,MAAM,CAACjG,IAAX;EAAA,KAArG,CAAP;EACH,GAFM,MAEA,IAAI9Y,CAAC,CAACgT,QAAF,CAAWlL,GAAG,CAACvG,MAAf,CAAJ,EAA4B;EAAE;EACjC,WAAOvB,CAAC,CAAC8H,GAAD,CAAD,CAAOc,MAAP,CAAc,UAAd,EAA0BjE,GAA1B,CAA8B,YAAW;EAC5C,aAAO3E,CAAC,CAAC,IAAD,CAAD,CAAQ6I,MAAR,GAAiBiQ,IAAjB,EAAP;EACH,KAFM,EAEJ3T,GAFI,EAAP;EAGH,GAJM,MAIA,IAAIgD,EAAE,CAAC+rB,gBAAH,CAAoBpsB,GAApB,CAAJ,EAA8B;EACjC9H,IAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,CAAY,QAAZ,EAAsB0P,IAAtB;EACA,WAAO,CAAC5N,GAAG,CAAC/G,KAAL,CAAP;EACH,GAHM,MAGA;EACH,WAAO,CAAC+G,GAAG,CAAC/G,KAAL,CAAP;EACH;EACJ;;EAGM,SAAS2uB,YAAT,CAAsB5nB,GAAtB,EAA2B;EAC9B,MAAIA,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACf,QAAIw0B,EAAE,GAAI/wB,GAAG,CAAC5G,IAAJ,IAAY,iBAAZ;EACN4G,IAAAA,GAAG,CAACgxB,YAAJ,CAAiB,eAAjB,CADM;EAENzG,IAAAA,aAAa,CAACvqB,GAAG,CAACqR,YAAJ,CAAiB,mBAAjB,CAAD,CAAb,KAAyD,KAFnD;EAGNrR,IAAAA,GAAG,CAACvG,MAAJ,GAAa,CAAb,IAAkBuG,GAAG,CAACzD,OAAJ,CAAY,CAAZ,EAAetD,KAAf,IAAwB,EAHrC;EAIH,KAJG,GAIC,CAJV;;EAKA,QAAI+G,GAAG,CAACyK,IAAR,EAAc;EACVzK,MAAAA,GAAG,CAACixB,SAAJ;EACH,KAFD,MAEO;EACH,WAAK,IAAI72B,CAAC,GAAG4F,GAAG,CAACvG,MAAJ,GAAa,CAA1B,EAA6BW,CAAC,IAAI22B,EAAlC,EAAsC32B,CAAC,EAAvC;EACI4F,QAAAA,GAAG,CAAC2P,MAAJ,CAAWvV,CAAX;EADJ;EAEH;;EACD,QAAIma,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EACpBA,MAAAA,GAAG,CAAC7B,KAAJ,CAAUlF,KAAV,GAAkB,EAAlB;EACA+G,MAAAA,GAAG,CAAC/G,KAAJ,GAAY,EAAZ;EACH;EACJ;EACJ;EAED;;;;;;;;EAOO,SAASguB,KAAT,CAAe/kB,EAAf,EAAmByN,MAAnB,EAA2B;EAC9B,MAAItN,EAAE,GAAInK,CAAC,CAACyS,QAAF,CAAWzI,EAAX,CAAD,GAAmBA,EAAnB,GAAyBhK,CAAC,CAACgK,EAAD,CAAD,CAAMY,IAAN,CAAW,MAAX,KAAsB5K,CAAC,CAACgK,EAAD,CAAD,CAAMY,IAAN,CAAW,IAAX,CAAxD,CAD8B;;EAE9B,SAAQ6M,MAAM,KAAK,KAAZ,GAAqBtN,EAAE,CAACrI,OAAH,CAAW,OAAX,EAAoB,EAApB,CAArB,GAA+CqI,EAAtD;EACH;;EAGM,SAAS6uB,cAAT,CAAwBxuB,KAAxB,EAA+B1C,GAA/B,EAAoC;EACvC,MAAImxB,GAAG,GAAGj5B,CAAC,CAAC8H,GAAD,CAAD,CAAO9B,IAAP,CAAY,iBAAZ,CAAV;EACA,SAAQ2R,KAAK,CAACC,OAAN,CAAcqhB,GAAd,CAAD,GAAuBA,GAAG,CAACzuB,KAAK,GAAG,CAAT,CAA1B,GAAyCyuB,GAAG,IAAI,IAAvD;EACH;EAED;;;;;;;;EAOO,SAAS1c,YAAT,CAAsBjY,GAAtB,EAA2BwD,GAA3B,EAAgC;EACnC,MAAIgR,IAAI,GAAGxU,GAAG,CAAC+f,EAAf;;EACA,OAAK,IAAIniB,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;EACzB,QAAIoC,GAAG,CAAC,OAAOpC,CAAR,CAAH,IAAiBoC,GAAG,CAAC,OAAOpC,CAAR,CAAH,IAAiB,EAAtC,EAA0C;EACtC,UAAI+2B,GAAG,GAAGD,cAAc,CAAC92B,CAAC,GAAG,CAAL,EAAQ4F,GAAR,CAAxB;EACA,UAAI9H,CAAC,CAAC4uB,WAAF,CAAcqK,GAAd,CAAJ,EACI;EACJ,UAAIj5B,CAAC,CAACoyB,OAAF,CAAUtZ,IAAV,CAAJ,EACIA,IAAI,IAAImgB,GAAR;EACJngB,MAAAA,IAAI,IAAIxU,GAAG,CAAC,OAAOpC,CAAR,CAAX;EACH;EACJ;;EACD,SAAO4W,IAAP;EACH;EAED;;;;;;;EAMO,SAASogB,UAAT,CAAoB1sB,GAApB,EAAyB;EAC5B,SAAOrE,EAAE,CAACgxB,oBAAH,CAAwBr3B,OAAxB,CAAgC,YAAhC,EAA8C0K,GAA9C,CAAP;EACH;EAED;;;;;;;;EAOO,SAAS4sB,WAAT,CAAqB/0B,OAArB,EAA8BwK,GAA9B,EAAmC;EACtC,MAAIxK,OAAO,CAAC9C,MAAR,IAAkBsN,GAAG,IAAI1G,EAAE,CAACkxB,gBAA5B,CAAJ,EAAmD;EAAE;EACjD,WAAOlxB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB,EAAoCvG,OAApC,CAA4C,IAA5C,EAAkDuC,OAAO,CAAC9C,MAA1D,CAAP;EACH,GAFD,MAEO,IAAI8C,OAAO,CAAC9C,MAAZ,EAAoB;EAAE;EACzB,QAAIoZ,IAAI,GAAG,EAAX;;EACA,SAAK,IAAIzY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmC,OAAO,CAAC9C,MAA5B,EAAoCW,CAAC,EAArC;EACIyY,MAAAA,IAAI,IAAIue,UAAU,CAAC70B,OAAO,CAACnC,CAAD,CAAR,CAAlB;EADJ;;EAEA,WAAOyY,IAAP;EACH,GALM,MAKA;EAAE;EACL,WAAOxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB,CAAP;EACH;EACJ;EAED;;;;;;;;;EAQO,SAASwnB,SAAT,CAAmB/nB,GAAnB,EAAwBxD,GAAxB,EAA6Bqc,CAA7B,EAAgC;EACnC,MAAIiC,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAUwb,CAAC,CAACxW,EAAZ,CAAV;EAAA,MACIA,EAAE,GAAG4kB,KAAK,CAACjnB,GAAD,CADd;EAAA,MAEIyK,IAAI,GAAGqQ,GAAG,CAACvQ,OAAJ,CAAYlI,EAAZ,CAFX;EAAA,MAGIpJ,KAAK,GAAGuD,GAAG,CAAC8f,EAHhB;EAAA,MAII7L,IAAI,GAAG;EAAE6L,IAAAA,EAAE,EAAE9f,GAAG,CAAC8f,EAAV;EAAckV,IAAAA,GAAG,EAAEh1B,GAAG,CAAC+f,EAAvB;EAA2BC,IAAAA,GAAG,EAAEhgB,GAAG,CAACggB,GAApC;EAAyCC,IAAAA,GAAG,EAAEjgB,GAAG,CAACigB,GAAlD;EAAuDC,IAAAA,GAAG,EAAElgB,GAAG,CAACkgB;EAAhE,GAJX;EAAA,MAKI1L,IALJ;;EAMA,MAAIvG,IAAI,CAACC,QAAL,IAAiB,CAAC6J,aAAa,CAACvU,GAAD,CAAnC,EAA0C;EACtCgR,IAAAA,IAAI,GAAGvG,IAAI,CAACC,QAAL,CAAcjI,MAAd,CAAqBgO,IAArB,EAA2BpQ,EAAE,CAACmU,eAA9B,CAAP;EACH,GAFD,MAEO;EACHxD,IAAAA,IAAI,GAAGyD,YAAY,CAACjY,GAAD,EAAMwD,GAAN,CAAZ,IAA0B/G,KAAjC;EACH;;EACD,MAAIM,IAAI,GAAG;EAAE,YAAQkX,IAAV;EAAgB,YAAQpO,EAAxB;EAA4B,YAAQwW,CAAC,CAACrQ,QAAtC;EAAgD,aAASvP,KAAzD;EAAgE,YAAQ+X;EAAxE,GAAX;;EACA,MAAIhR,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACf,QAAI0a,MAAJ;;EACA,QAAIjX,GAAG,CAACyK,IAAR,EAAc;EACVwM,MAAAA,MAAM,GAAG,IAAIjB,mBAAJ,CAAwBzc,IAAI,CAACN,KAA7B,EAAoCM,IAAI,CAACyX,IAAzC,CAAT;EACH,KAFD,MAEO;EACHiG,MAAAA,MAAM,GAAG5gB,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAT;EACA0gB,MAAAA,MAAM,CAAChe,KAAP,GAAeM,IAAI,CAACN,KAApB;EACAge,MAAAA,MAAM,CAACsS,SAAP,GAAmBhwB,IAAI,CAACyX,IAAxB;EACH;;EACDzX,IAAAA,IAAI,qCAAQA,IAAR;EAAc0d,MAAAA,MAAM,EAANA;EAAd,MAAJ;EACA2D,IAAAA,SAAS,CAACxX,OAAV,CAAkB,WAAlB,EAA+B,CAAC7J,IAAD,CAA/B,EAVa;;EAWb,QAAIyG,GAAG,CAACyK,IAAR,EAAc;EACVzK,MAAAA,GAAG,CAAC6R,GAAJ,CAAQtY,IAAI,CAAC0d,MAAL,CAAYhe,KAApB,EAA2BM,IAAI,CAAC0d,MAAL,CAAYjG,IAAvC;EACH,KAFD,MAEO;EACHhR,MAAAA,GAAG,CAAC6R,GAAJ,CAAQtY,IAAI,CAAC0d,MAAb;EACH;EACJ;;EACD,SAAO1d,IAAI,CAACyX,IAAZ;EACH;;EAGM,SAASgX,YAAT,CAAsBhoB,GAAtB,EAA2BxC,MAA3B,EAAmC;EACtC,MAAI,CAACwC,GAAD,IAAQ,CAACxC,MAAb,EACI;EACJ,MAAImqB,IAAI,GAAGzvB,CAAC,CAAC8H,GAAD,CAAZ;;EACA,MAAI6P,KAAK,CAACC,OAAN,CAActS,MAAd,CAAJ,EAA2B;EACvB,QAAIwC,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACf,UAAIyD,GAAG,CAACyK,IAAR,EAAc;EACVzK,QAAAA,GAAG,CAAC/G,KAAJ,GAAYuE,MAAZ;EACH,OAFD,MAEO;EACHmqB,QAAAA,IAAI,CAACjjB,GAAL,CAASlH,MAAT;EACA,YAAIwC,GAAG,CAAC5G,IAAJ,IAAY,YAAZ,IAA4B4G,GAAG,CAACyxB,aAAJ,IAAqB,CAAC,CAAtD,EACIzxB,GAAG,CAACyxB,aAAJ,GAAoB,CAApB,CAHD;EAIN;;EACD,UAAIld,aAAa,CAACvU,GAAD,CAAb,IAAsBxC,MAAM,CAAC/D,MAAP,IAAiB,CAA3C,EAA8C;EAC1C,YAAI0hB,IAAI,GAAGnb,GAAG,CAACzD,OAAJ,IAAe,EAA1B;;EACA,8DAAgB4e,IAAhB,2CAAsB;EAAA,cAAb3e,GAAa;;EAClB,cAAIA,GAAG,CAACvD,KAAJ,IAAauE,MAAM,CAAC,CAAD,CAAvB,EAA4B;EACxBwC,YAAAA,GAAG,CAAC/G,KAAJ,GAAYuD,GAAG,CAACvD,KAAhB;EACA+G,YAAAA,GAAG,CAAC7B,KAAJ,CAAUlF,KAAV,GAAkBuD,GAAG,CAACwU,IAAtB;EACA;EACH;EACJ;EACJ,OATD,MASO,IAAIoX,aAAa,CAACpoB,GAAD,CAAjB,EAAwB;EAC3B,YAAI0xB,IAAI,GAAG,EAAX;EAAA,YACI7e,IAAI,GAAG,EADX;EAAA,YAEIsI,KAAI,GAAGnb,GAAG,CAACzD,OAAJ,IAAe,EAF1B;;EAGA,8DAAkBiB,MAAlB,2CAA0B;EAAA,cAAjBvE,KAAiB;;EACtB,gEAAgBkiB,KAAhB,2CAAsB;EAAA,gBAAb3e,IAAa;;EAClB,gBAAIvD,KAAK,IAAIuD,IAAG,CAACvD,KAAjB,EAAwB;EACpBy4B,cAAAA,IAAI,CAAC50B,IAAL,CAAUN,IAAG,CAACvD,KAAd;EACA4Z,cAAAA,IAAI,CAAC/V,IAAL,CAAUs0B,UAAU,CAAC50B,IAAG,CAACwU,IAAL,CAApB;EACA;EACH;EACJ;EACJ;;EACD2W,QAAAA,IAAI,CAACjjB,GAAL,CAASgtB,IAAI,CAAC/lB,IAAL,CAAUtL,EAAE,CAAC0U,yBAAb,CAAT;EACA4S,QAAAA,IAAI,CAAC5mB,MAAL,GAAcJ,IAAd,CAAmB,iBAAnB,EAAsCkS,IAAtC,CAA2Cye,WAAW,CAACze,IAAD,EAAO8U,IAAI,CAACzpB,IAAL,CAAU,UAAV,CAAP,CAAtD;EACH;EACJ,KAjCD,MAiCO,IAAI8B,GAAG,CAAC5G,IAAR,EAAc;EACjB4G,MAAAA,GAAG,CAAC/G,KAAJ,GAAYuE,MAAM,CAACmO,IAAP,CAAYtL,EAAE,CAAC0U,yBAAf,CAAZ;EACH;EACJ,GAzCqC;;EA2CtC,WAAS4c,YAAT,CAAsBzvB,EAAtB,EAA0B;EACtB,QAAI,CAAChK,CAAC,CAACgK,EAAD,CAAD,CAAMhE,IAAN,CAAW,YAAX,CAAL;EACI,aAAO,KAAP;EACJ,QAAInC,IAAI,GAAGoN,OAAO,CAACjH,EAAD,CAAlB;;EACA,QAAInG,IAAJ,EAAU;EACN,UAAI,aAAamO,IAAb,CAAkBnO,IAAI,CAACsG,EAAvB,CAAJ;EACI,eAAO,KAAP;EACJ,UAAIoI,IAAI,GAAGmH,KAAK,CAACvU,GAAN,CAAUtB,IAAI,CAACsG,EAAf,EAAmBkI,OAAnB,CAA2BrI,EAAE,CAACG,EAA9B,CAAX;EACA,UAAIoI,IAAI,IAAIA,IAAI,CAACsB,YAAL,CAAkBtS,MAAlB,IAA4B,CAAxC;EACI,eAAO,KAAP;EACJ,aAAO,IAAP;EACH;;EACD,WAAO,KAAP;EACH;;EACD,MAAI,CAACk4B,YAAY,CAAC3xB,GAAD,CAAjB,EACI;;EACJ,MAAIA,GAAG,CAACzD,OAAR,EAAiB;EAAE;EACf,QAAI,CAACyD,GAAG,CAACyK,IAAL,IAAazK,GAAG,CAAC5G,IAAJ,IAAY,YAAzB,IAAyC4G,GAAG,CAACzD,OAAJ,CAAY9C,MAAZ,IAAsB,CAA/D,IAAoE,CAACuG,GAAG,CAACzD,OAAJ,CAAY,CAAZ,EAAeE,QAAxF,EAAkG;EAC9FuD,MAAAA,GAAG,CAACzD,OAAJ,CAAY,CAAZ,EAAeE,QAAf,GAA0B,IAA1B;EACH,KAFD,MAEO,IAAIuD,GAAG,CAACzD,OAAJ,CAAY9C,MAAZ,IAAsB,CAAtB,IAA2B,CAACuG,GAAG,CAACzD,OAAJ,CAAY,CAAZ,EAAeE,QAA/C,EAAyD;EAC5DuD,MAAAA,GAAG,CAACzD,OAAJ,CAAY,CAAZ,EAAeE,QAAf,GAA0B,IAA1B;EACH;;EACD,QAAIuD,GAAG,CAACyK,IAAR,EACIzK,GAAG,CAACyC,MAAJ;;EACJ,QAAI8R,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EACpB,UAAImb,MAAI,GAAGnb,GAAG,CAACzD,OAAJ,IAAe,EAA1B;;EACA,UAAI4e,MAAI,CAAC1hB,MAAL,IAAe,CAAnB,EAAsB;EAClBuG,QAAAA,GAAG,CAAC/G,KAAJ,GAAYkiB,MAAI,CAAC,CAAD,CAAJ,CAAQliB,KAApB;EACA+G,QAAAA,GAAG,CAAC7B,KAAJ,CAAUlF,KAAV,GAAkBkiB,MAAI,CAAC,CAAD,CAAJ,CAAQnK,IAA1B;EACH;EACJ;EACJ;EACJ;;EAGD4J,SAAS,CAACgX,QAAV,CAAmB,UAASzuB,KAAT,EAAgB0uB,KAAhB,EAAuBzkB,QAAvB,EAAiC;EAChD,MAAI9O,GAAG,GAAG8O,QAAQ,CAAC9O,GAAnB;EACA,MAAIA,GAAG,CAACwG,KAAJ,CAAU,2BAAV,CAAJ;EACI+V,IAAAA,cAAc,GAH8B;;EAIhD,MAAIiX,MAAM,GAAGtc,SAAS,EAAtB;EAAA,MAA0Buc,KAAK,GAAGzzB,GAAG,CAAC+F,UAAJ,CAAeytB,MAAf,CAAlC;EAAA;EACIE,EAAAA,OAAO,GAAGD,KAAK,IAAIzzB,GAAG,CAAC+F,UAAJ,CAAe8K,WAAW,EAA1B,CADvB;;EAEA,MAAI,CAAC6iB,OAAD,IAAY1zB,GAAG,CAACwG,KAAJ,CAAU,QAAV,CAAhB,EAAqC;EACjC,QAAImtB,MAAM,GAAG,IAAItX,GAAJ,CAAQrc,GAAR,CAAb;EACA0zB,IAAAA,OAAO,GAAGC,MAAM,CAACC,QAAP,IAAmBxX,UAAU,CAACwX,QAAxC,CAFiC;EAGpC;;EACD,MAAIF,OAAJ,EAAa;EACT,QAAID,KAAK,IAAI1xB,EAAE,CAAC8xB,aAAZ,IAA6B,CAAC9xB,EAAE,CAAC+xB,yBAArC;EACIP,MAAAA,KAAK,CAAC9zB,gBAAN,CAAuBsC,EAAE,CAACgyB,4BAA1B,EAAwD,YAAYhyB,EAAE,CAAC8xB,aAAvE;;EACJ,QAAI/kB,QAAQ,CAAChU,IAAT,IAAiB,KAArB,EAA4B;EAAE;EAC1B,UAAIqQ,EAAE,GAAG2D,QAAQ,CAAC9O,GAAT,CAAakN,KAAb,CAAmB,GAAnB,CAAT;EAAA,UAAkC2J,MAAM,GAAG,IAAIC,eAAJ,CAAoB3L,EAAE,CAAC,CAAD,CAAtB,CAA3C;EACA0L,MAAAA,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAAC6P,cAAd,EAA8B7P,EAAE,CAAC8P,UAAjC,EAFwB;;EAGxBgF,MAAAA,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAAC+P,qBAAd,EAAqC/P,EAAE,CAACgQ,iBAAxC,EAHwB;;EAIxB5G,MAAAA,EAAE,CAAC,CAAD,CAAF,GAAQ0L,MAAM,CAACtZ,QAAP,EAAR;EACAuR,MAAAA,QAAQ,CAAC9O,GAAT,GAAemL,EAAE,CAAC,CAAD,CAAF,IAASA,EAAE,CAAC,CAAD,CAAF,GAAQ,MAAMA,EAAE,CAAC,CAAD,CAAhB,GAAsB,EAA/B,CAAf;EACH,KAND,MAMO;EAAE;EACL,UAAI2D,QAAQ,CAAClP,IAAT,YAAyBrF,QAA7B,EAAuC;EAAE;EACrCuU,QAAAA,QAAQ,CAAClP,IAAT,CAAcX,GAAd,CAAkB8C,EAAE,CAAC6P,cAArB,EAAqC7P,EAAE,CAAC8P,UAAxC,EADmC;;EAEnC/C,QAAAA,QAAQ,CAAClP,IAAT,CAAcX,GAAd,CAAkB8C,EAAE,CAAC+P,qBAArB,EAA4C/P,EAAE,CAACgQ,iBAA/C,EAFmC;EAGtC,OAHD,MAGO;EACH,YAAI8E,MAAM,GAAG,IAAIC,eAAJ,CAAoBhI,QAAQ,CAAClP,IAA7B,CAAb;EACAiX,QAAAA,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAAC6P,cAAd,EAA8B7P,EAAE,CAAC8P,UAAjC,EAFG;;EAGHgF,QAAAA,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAAC+P,qBAAd,EAAqC/P,EAAE,CAACgQ,iBAAxC,EAHG;;EAIHjD,QAAAA,QAAQ,CAAClP,IAAT,GAAgBiX,MAAM,CAACtZ,QAAP,EAAhB;EACH;EACJ;EACJ;EACJ,CA/BD;;EAkCA+e,SAAS,CAAC0X,SAAV,CAAoB,YAAW;EAC3B1X,EAAAA,SAAS,CAAC1c,IAAV,CAAe,OAAf,EAAwB,IAAxB;EACAmC,EAAAA,EAAE,CAACkyB,UAAH;EACAr6B,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBkR,QAAlB,CAA2B,SAA3B,EAAsCnP,IAAtC,CAA2C,YAAW;EAClD,QAAI6gB,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAU,KAAKgF,EAAf,CAAV;;EACA,QAAIyY,GAAJ,EAAS;EACL,UAAI,CAACA,GAAG,CAAC/R,SAAL,IAAkB,CAAC+R,GAAG,CAAC/R,SAAJ,CAAc5J,cAArC,EACI2b,GAAG,CAAC5R,WAAJ;EACP;EACJ,GAND;EAOH,CAVD;;EAaA,SAASspB,SAAT,GAAqB;EACjBt6B,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BoR,WAA1B,CAAsC,SAAtC,EAAiDrP,IAAjD,CAAsD,YAAW;EAC7D,QAAI6gB,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAU,KAAKgF,EAAf,CAAV;;EACA,QAAIyY,GAAJ,EAAS;EACL,UAAI,CAACA,GAAG,CAAC/R,SAAL,IAAkB,CAAC+R,GAAG,CAAC/R,SAAJ,CAAc5J,cAArC,EAAqD;EACjD2b,QAAAA,GAAG,CAACzR,UAAJ;EACH;EACJ;EACJ,GAPD;EAQAhJ,EAAAA,EAAE,CAACgL,aAAH;EACAuP,EAAAA,SAAS,CAAC1c,IAAV,CAAe,OAAf,EAAwB,KAAxB;EACH;;EAGD0c,SAAS,CAAC6X,QAAV,CAAmBD,SAAnB,EAA8BE,SAA9B,CAAwCF,SAAxC;;EAGO,SAASG,aAAT,CAAuB9f,IAAvB,EAA6BxQ,EAA7B,EAAiC;EACpC,MAAI6X,OAAO,GAAGrH,IAAI,CAAC7Y,OAAL,CAAa,uBAAb,EAAsC,EAAtC,EAA0C44B,QAA1C,CAAmD,0CAAnD,CAAd;EACA/iB,EAAAA,KAAK,CAACoD,IAAN,CAAWiH,OAAX,EAAoBjd,OAApB,CAA4B,UAACwM,EAAD,EAAKrP,CAAL,EAAW;EACnC,QAAI4W,IAAI,GAAGvH,EAAE,CAAC,CAAD,CAAb;EACA,QAAI,oEAAoES,IAApE,CAAyET,EAAE,CAAC,CAAD,CAA3E,KAAmFuH,IAAvF,EACI6e,SAAS,CAAC7e,IAAD,EAAO,SAAS3O,EAAT,GAAc,GAAd,GAAoBjI,CAAC,EAA5B,CAAT;EACP,GAJD;EAKH;;EAGM,SAASy4B,WAAT,CAAqBhgB,IAArB,EAA2B;EAC9B,MAAIqH,OAAO,GAAGrH,IAAI,CAAC+f,QAAL,CAAc,0CAAd,CAAd;;EACA,wDAAe1Y,OAAf,2CAAwB;EAAA,QAAfzQ,EAAe;EACpB,QAAIuH,IAAI,GAAGvH,EAAE,CAAC,CAAD,CAAb;EACA,QAAI,oEAAoES,IAApE,CAAyET,EAAE,CAAC,CAAD,CAA3E,CAAJ,EACIoJ,IAAI,GAAGA,IAAI,CAAC7Y,OAAL,CAAagX,IAAb,EAAmB,EAAnB,CAAP;EACP;;EACD,SAAO6B,IAAP;EACH;;EAGM,SAASgd,SAAT,CAAmB7e,IAAnB,EAAyB3O,EAAzB,EAA6B;EAChC,MAAIywB,GAAG,GAAGz8B,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAV;EACA,MAAI8L,EAAJ,EACIywB,GAAG,CAACzwB,EAAJ,GAASA,EAAT;EACJywB,EAAAA,GAAG,CAAC9hB,IAAJ,GAAWA,IAAX;EACA,SAAO3a,QAAQ,CAACgI,IAAT,CAAckkB,WAAd,CAA0BuQ,GAA1B,CAAP,CALgC;EAMnC;;EAGM,SAASC,YAAT,CAAsB1wB,EAAtB,EAA0B;EAC7B,MAAIA,EAAJ,EACInK,CAAC,CAAC,qBAAqBmK,EAArB,GAA0B,KAA3B,CAAD,CAAmCsN,MAAnC;EACP;;EAGM,SAAS2Q,UAAT,CAAoBzN,IAApB,EAA0B;EAC7B,MAAIxU,IAAI,GAAGw0B,WAAW,CAAChgB,IAAD,CAAX,CAAkB/N,KAAlB,CAAwB,+BAAxB,CAAX;EACA,SAAOzG,IAAI,GAAGnG,CAAC,CAACmG,IAAI,CAAC,CAAD,CAAL,CAAD,CAAW+L,GAAX,CAAe,4GAAf,CAAH,GAAkI,EAA7I;EACH;;EAGM,SAAS4oB,UAAT,CAAoBhzB,GAApB,EAAyB;EAC5B,SAAOA,GAAG,CAACzD,OAAJ,GAAcsT,KAAK,CAAC/W,SAAN,CAAgB+D,GAAhB,CAAoBO,IAApB,CAAyB4C,GAAG,CAACzD,OAA7B,EAAsC,UAACC,GAAD;EAAA,WAAS,CAACA,GAAG,CAACvD,KAAL,EAAYuD,GAAG,CAACwU,IAAhB,CAAT;EAAA,GAAtC,CAAd,GAAsF,EAA7F;EACH;EAED;;;;;;;;;;;EAUO,SAASiiB,mBAAT,CAA6B15B,IAA7B,EAAmC;EAEtC;EACA,MAAI25B,KAAK,GAAG,SAARA,KAAQ,GAAW;EACnBH,IAAAA,YAAY,CAACI,IAAI,CAACj1B,IAAL,CAAU,MAAV,EAAkBgE,EAAnB,CAAZ;EACA,QAAI4Y,GAAG,GAAGqY,IAAI,CAACvD,UAAL,CAAgB,MAAhB,EAAwBjvB,IAAxB,CAA6B,kBAA7B,EAAiDzC,IAAjD,CAAsD,MAAtD,CAAV;EACA,QAAI4c,GAAJ,EACIA,GAAG,CAACjN,aAAJ;EACJslB,IAAAA,IAAI,CAACxyB,IAAL,CAAU,aAAV,EAAyBkS,IAAzB,CAA8B,EAA9B;EACAsgB,IAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCyyB,MAAxC;EACAD,IAAAA,IAAI,CAACj1B,IAAL,CAAU,SAAV,EAAqB,KAArB;EACH,GARD;;EAUA,MAAIi1B,IAAI,GAAG9yB,EAAE,CAACgzB,eAAH,IAAsBn7B,CAAC,CAAC,oBAAD,CAAD,CAAwBmJ,EAAxB,CAA2B,iBAA3B,EAA8C6xB,KAA9C,CAAjC;;EACA,MAAI,CAACC,IAAI,CAAC,CAAD,CAAT,EAAc;EACVlH,IAAAA,MAAM,CAAC,mCAAD,CAAN;;EACA;EACH;;EACD,MAAIkH,IAAI,CAACj1B,IAAL,CAAU,SAAV,CAAJ,EACI;EACJi1B,EAAAA,IAAI,CAACj1B,IAAL,CAAU,SAAV,EAAqB,IAArB,EApBsC;;EAuBtC,MAAIo1B,cAAc,GAAG,SAAjBA,cAAiB,CAASp1B,IAAT,EAAe;EAAA;;EAChC,QAAI0X,OAAO,GAAG1X,IAAd;EAAA,QACI3E,IAAI,GAAG45B,IAAI,CAACj1B,IAAL,CAAU,MAAV,CADX;EAAA,QAEI4c,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAU9D,IAAI,CAACg6B,GAAf,CAFV;EAAA;EAGIC,IAAAA,OAAO,GAAGL,IAAI,CAACxyB,IAAL,CAAU,kCAAkCN,EAAE,CAACozB,eAArC,GAAuD,IAAjE,EAAuE/uB,GAAvE,EAHd;EAAA;EAIIxC,IAAAA,EAAE,GAAG3I,IAAI,CAAC2I,EAJd;EAAA;EAKIwxB,IAAAA,EAAE,GAAG,UALT;EAAA,QAMI3wB,CAAC,GAAGb,EAAE,CAAC4C,KAAH,CAAS4uB,EAAT,CANR;EAAA;EAOIjoB,IAAAA,MAAM,GAAG1I,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,IAPxB;EAAA,QAQIL,KAAK,GAAGK,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,CAAC,CARxB;EAAA,QASInJ,IAAI,GAAGsI,EAAE,CAAClI,OAAH,CAAW05B,EAAX,EAAe,IAAf,CATX;EAAA,QAUIjpB,IAAI,GAAGqQ,GAAG,CAACvQ,OAAJ,CAAYrI,EAAZ,CAVX;EAWA,QAAIhK,CAAC,CAACyS,QAAF,CAAWzM,IAAX,CAAJ,EACI0X,OAAO,GAAGjF,SAAS,CAACzS,IAAD,CAAnB;;EACJ,QAAI,aAAA0X,OAAO,UAAP,4CAASrG,OAAT,KAAoBqG,OAAO,CAAC4d,OAAD,CAA/B,EAA0C;EAAE;EACxCL,MAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACA,UAAIrkB,MAAM,GAAGsG,OAAO,CAAC4d,OAAD,CAApB;EAAA,UACIz3B,IAAI,GAAG+e,GAAG,CAACtS,QAAJ,CAAa,CAAb,CADX;EAAA;EAEIxI,MAAAA,GAAG,GAAG8K,WAAW,CAAC5I,EAAD,EAAKnG,IAAL,CAFrB;;EAGA,UAAIiE,GAAJ,EAAS;EACL,YAAIsc,EAAE,GAAG7R,IAAI,CAACmpB,SAAd;EAAA,YACIC,GAAG,GAAGppB,IAAI,CAACqpB,aAAL,CAAmB9nB,KAAnB,EADV;EAAA;EAEI+nB,QAAAA,GAAG,GAAGtpB,IAAI,CAACupB,YAAL,CAAkBhoB,KAAlB,EAFV;EAAA;EAGIioB,QAAAA,GAAG,GAAGxpB,IAAI,CAACsB,YAAL,CAAkBC,KAAlB,EAHV,CADK;;EAKLioB,QAAAA,GAAG,CAACh3B,OAAJ,CAAY,UAACkX,EAAD,EAAK/Z,CAAL,EAAW;EACnB,cAAI+Z,EAAE,CAAC3I,KAAH,CAAS,GAAT,EAAc/R,MAAd,IAAwB,CAA5B;EACIw6B,YAAAA,GAAG,CAAC75B,CAAD,CAAH,GAAS65B,GAAG,CAAC75B,CAAD,CAAH,CAAOJ,OAAP,CAAe,KAAf,EAAsByR,MAAtB,CAAT;EACP,SAHD;EAIA,YAAIyoB,GAAG,GAAI5X,EAAE,IAAI,EAAP,GAAahN,MAAM,CAACgN,EAAD,CAAnB,GAA0B,EAApC;EAAA,YACIvI,GAAG,GAAG;EAAEuI,UAAAA,EAAE,EAAE4X;EAAN,SADV;EAEAL,QAAAA,GAAG,CAAC52B,OAAJ,CAAY,UAACsf,EAAD,EAAKniB,CAAL,EAAW;EACnB,cAAImiB,EAAE,IAAIjN,MAAV,EACIyE,GAAG,CAAC,QAAQ3Z,CAAC,IAAI,EAAb,CAAD,CAAH,GAAwBkV,MAAM,CAACiN,EAAD,CAA9B;EACP,SAHD;EAIAwX,QAAAA,GAAG,CAAC92B,OAAJ,CAAY,UAACk3B,EAAD,EAAK/5B,CAAL,EAAW;EACnB,cAAI+5B,EAAE,IAAI7kB,MAAV,EACIyE,GAAG,CAAC,QAAQ3Z,CAAC,IAAI,EAAb,CAAD,CAAH,GAAwBkV,MAAM,CAAC6kB,EAAD,CAA9B;EACP,SAHD;;EAIA,YAAID,GAAG,IAAIL,GAAG,CAACp6B,MAAJ,GAAa,CAApB,IAAyBsa,GAAG,CAAC,IAAD,CAAhC,EAAwC;EACpC,cAAItJ,IAAI,CAACwB,IAAL,KAAc,IAAlB;EACIxB,YAAAA,IAAI,CAACyd,aAAL,CAAmBprB,IAAnB,CAAwBiX,GAAxB;EACJ,cAAIe,GAAG,GAAGmf,GAAG,CAACp3B,GAAJ,CAAQ,UAAAsX,EAAE;EAAA,mBAAI/H,eAAe,CAAC+H,EAAD,EAAKpY,IAAL,CAAnB;EAAA,WAAV,CAAV;EAAA;EACIxC,UAAAA,IAAI,GAAG;EAAC,oBAAQwa,GAAT;EAAc,uBAAWe,GAAzB;EAA8B,qBAAS,IAAvC;EAA6C,oBAAQmS,KAAK,CAACjnB,GAAD,CAA1D;EAAiE,oBAAQjE;EAAzE,WADX;EAEA6e,UAAAA,SAAS,CAACxX,OAAV,CAAkB,WAAlB,EAA+B,CAAC7J,IAAD,CAA/B;;EACA,cAAIA,IAAI,CAACuuB,KAAT,EAAgB;EAAE;EACd,gBAAIre,EAAE,GAAGupB,UAAU,CAAChzB,GAAD,CAAnB;EAAA,gBACI0xB,IAAI,GAAG,EADX;EAEA,gBAAI0C,GAAG,GAAGrM,SAAS,CAAC/nB,GAAD,EAAM+T,GAAN,EAAWhY,IAAX,CAAnB;;EACA,gBAAIiE,GAAG,CAACzD,OAAR,EAAiB;EACbyD,cAAAA,GAAG,CAACzD,OAAJ,CAAYyD,GAAG,CAACzD,OAAJ,CAAY9C,MAAZ,GAAqB,CAAjC,EAAoCgD,QAApC,GAA+C,IAA/C;;EACA,kBAAIuD,GAAG,CAACyK,IAAR,EAAc;EAAE;EACZzK,gBAAAA,GAAG,CAACyC,MAAJ;EACAvK,gBAAAA,CAAC,CAAC8H,GAAG,CAAC6C,MAAL,CAAD,CAAclC,IAAd,CAAmB,OAAnB,EAA4BoZ,IAA5B,GAAmChH,KAAnC;EACH;;EACD,kBAAIwB,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EACpB9H,gBAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAO0E,GAAP,CAAWwvB,GAAX,EAAgBjjB,MAAhB;EACA/Y,gBAAAA,CAAC,CAAC8H,GAAG,CAAC7B,KAAL,CAAD,CAAauG,GAAb,CAAiB0vB,GAAjB,EAAsBrhB,KAAtB;EACH,eAHD,MAGO,IAAIqV,aAAa,CAACpoB,GAAD,CAAjB,EAAwB;EAC3B,oBAAI2nB,IAAI,GAAGzvB,CAAC,CAAC8H,GAAD,CAAZ;EAAA,oBAAmBq0B,GAAG,GAAGn8B,CAAC,CAAC2S,UAAU,CAAC,QAAQtR,IAAI,CAACK,IAAd,EAAoBmC,IAApB,CAAX,CAA1B;;EACA,oBAAIiE,GAAG,CAACuL,QAAR,EAAkB;EAAE;EAChB,sBAAI7G,GAAG,GAAGxM,CAAC,CAAC8H,GAAD,CAAD,CAAO0E,GAAP,EAAV;EAAA,sBAAwBgtB,IAAI,GAAG,EAA/B;EAAA,sBAAmC4C,EAAE,GAAGz6B,MAAM,CAACq6B,GAAD,CAA9C;EACA,sBAAIxvB,GAAG,KAAK,EAAZ,EACIgtB,IAAI,GAAGhtB,GAAG,CAAC8G,KAAJ,CAAUnL,EAAE,CAAC0U,yBAAb,CAAP;;EACJ,sBAAI,CAAC2c,IAAI,CAACvxB,QAAL,CAAcm0B,EAAd,CAAL,EAAwB;EACpB5C,oBAAAA,IAAI,CAAC50B,IAAL,CAAUw3B,EAAV;EACA3M,oBAAAA,IAAI,CAACjjB,GAAL,CAASgtB,IAAI,CAAC/lB,IAAL,EAAT,EAAsBsF,MAAtB;EACA,wBAAI4B,IAAI,GAAGwhB,GAAG,CAACxhB,IAAJ,EAAX;EAAA,wBAAuB0hB,KAAK,GAAGF,GAAG,CAAC1zB,IAAJ,CAAS,YAAT,EAAuB9D,GAAvB,CAA2B,YAAW;EACjE,6BAAO3E,CAAC,CAAC,IAAD,CAAD,CAAQ2a,IAAR,EAAP;EACH,qBAF8B,EAE5BxV,GAF4B,EAA/B;;EAGA,wBAAIk3B,KAAK,CAAC96B,MAAV,EAAkB;EAAE;EAChB86B,sBAAAA,KAAK,CAACz3B,IAAN,CAAWs3B,GAAX;EACAC,sBAAAA,GAAG,CAACxhB,IAAJ,CAASye,WAAW,CAACiD,KAAD,EAAQ5M,IAAI,CAACzpB,IAAL,CAAU,UAAV,CAAR,CAApB;EACH,qBAHD,MAGO,IAAI2U,IAAI,IAAIxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB,CAAZ,EAAgD;EAAE;EACrD8zB,sBAAAA,GAAG,CAACxhB,IAAJ,CAASue,UAAU,CAACgD,GAAD,CAAnB;EACH,qBAFM,MAEA,IAAIvhB,IAAJ,EAAU;EAAE;EACfwhB,sBAAAA,GAAG,CAACxhB,IAAJ,CAASxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,eAAnB,EAAoCvG,OAApC,CAA4C,IAA5C,EAAkD03B,IAAI,CAACj4B,MAAvD,CAAT;EACH;EACJ;EACJ,iBAnBD,MAmBO;EACHkuB,kBAAAA,IAAI,CAACjjB,GAAL,CAASwvB,GAAT,EAAcjjB,MAAd;EACAojB,kBAAAA,GAAG,CAACxhB,IAAJ,CAASuhB,GAAT;EACH;EACJ,eAzBM,MAyBA;EACHl8B,gBAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAOiR,MAAP,GAAgB8B,KAAhB;EACH;EACJ;;EACD,gBAAItU,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CAAb;EAAA,gBAAqByzB,MAAM,GAAI/wB,KAAK,CAACkD,EAAN,CAAS,KAAT,CAAD,GAAoB,MAAMlD,KAAK,CAACqE,IAAN,CAAW,IAAX,CAA1B,GAA6C,EAA3E;EACA,gBAAI2C,GAAG,GAAGhH,KAAK,CAACkC,IAAN,CAAW,eAAe6uB,MAA1B,EAAkC9qB,GAAlC,EAAV;;EACA,gBAAIe,GAAG,GAAG,CAAV,EAAa;EAAE;EACX,mBAAK,IAAIrL,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIqL,GAArB,EAA0BrL,CAAC,EAA3B,EAA+B;EAC3B,oBAAIA,CAAC,IAAIsI,KAAT,EACI;EACJ,oBAAI8xB,IAAI,GAAG1pB,WAAW,CAAClR,IAAI,CAACI,OAAL,CAAa,IAAb,EAAmB,MAAMI,CAAzB,CAAD,EAA8B2B,IAA9B,CAAtB;EACA,oBAAI04B,GAAG,GAAGzB,UAAU,CAACwB,IAAD,CAApB;EAAA,oBAA4B9C,IAAI,GAAG,EAAnC;EACA,oBAAI3iB,IAAI,CAACC,SAAL,CAAevF,EAAf,KAAsBsF,IAAI,CAACC,SAAL,CAAeylB,GAAf,CAA1B;EACI;EACJ1M,gBAAAA,SAAS,CAACyM,IAAD,EAAOzgB,GAAP,EAAYhY,IAAZ,CAAT;EACA,oBAAIy4B,IAAI,CAACj4B,OAAL,IAAgByD,GAAG,CAACyK,IAAxB;EACI+pB,kBAAAA,IAAI,CAAC/xB,MAAL;EACP;EACJ;EACJ;EACJ;EACJ;EACJ,KA1FD,MA0FO;EAAA;;EAAE;EACL,uBAAImT,OAAJ,8CAAI,UAAS5I,KAAb,EAAoB;EAAA;;EACf,YAAI9U,CAAC,CAACyS,QAAF,CAAWiL,OAAO,CAAC5I,KAAnB,CAAJ,EACGqZ,SAAS,CAACzQ,OAAO,CAAC5I,KAAT,CAAT,CADH,KAEI,IAAI9U,CAAC,CAACyS,QAAF,mBAAWiL,OAAO,CAAC5I,KAAnB,mDAAW,eAAe0nB,WAA1B,CAAJ,EACDrO,SAAS,CAACzQ,OAAO,CAAC5I,KAAR,CAAc0nB,WAAf,CAAT;EACP,OALD,MAKO;EACH,YAAI1mB,GAAJ;EAAA,YACI0b,IAAI,GAAGxxB,CAAC,CAAC,aAAD,CAAD,CAAiB2a,IAAjB,CAAsB3U,IAAtB,EAA4ByC,IAA5B,CAAiC,uBAAjC,CADX;;EAEA,YAAI+oB,IAAI,CAAC,CAAD,CAAR,EAAa;EACT1b,UAAAA,GAAG,GAAG0b,IAAI,CAAC7W,IAAL,EAAN;EACH,SAFD,MAEO;EAAA;;EACH7E,UAAAA,GAAG,GAAG,cAAA4H,OAAO,UAAP,8CAAS+e,cAAT,KAA2Bz2B,IAAjC;EACA,cAAI,CAAC8P,GAAD,IAAQnU,MAAM,CAACmU,GAAD,CAAN,CAAYnK,IAAZ,MAAsB,EAAlC,EACImK,GAAG,GAAG3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB,CAAN;EACP;;EACD8lB,QAAAA,SAAS,CAACrY,GAAD,CAAT;EACH;EACJ;EACJ,GA3HD,CAvBsC;;EAqJtC,MAAI4mB,KAAK,GAAG,SAARA,KAAQ,CAASjrB,CAAT,EAAY;EACpBwpB,IAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;;EACA1H,IAAAA,MAAM,CAAC,kBAAkBtiB,CAAC,CAACkrB,MAApB,GAA6B,IAA7B,GAAoClrB,CAAC,CAACmrB,UAAvC,CAAN;EACH,GAHD,CArJsC;;EA2JtC,MAAIlJ,OAAO,GAAG,SAAVA,OAAU,CAAShsB,CAAT,EAAY;EACtB,QAAIuzB,IAAI,GAAG9yB,EAAE,CAACgzB,eAAd;EAAA,QACIt3B,IAAI,GAAGo3B,IAAI,CAACxyB,IAAL,CAAU,kBAAV,EAA8B,CAA9B,CADX;EAAA,QAEIma,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAUtB,IAAI,CAACsG,EAAf,CAFV;EAAA,QAGI0yB,GAAG,GAAGn1B,CAAC,GAAGA,CAAC,CAACiD,MAAL,GAAc,IAHzB;EAAA,QAIIrB,IAAI,GAAGtJ,CAAC,CAAC68B,GAAD,CAJZ;;EAKA,QAAIja,GAAG,CAACjR,SAAJ,EAAJ,EAAqB;EACjBrI,MAAAA,IAAI,CAACC,IAAL,CAAU,UAAV,EAAsB,KAAtB,EAA6B6H,WAA7B,CAAyC,UAAzC;EACA2F,MAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAhX,MAAAA,CAAC,CAAC+xB,IAAF,CAAOzU,SAAS,CAACnV,EAAE,CAAC20B,cAAJ,CAAhB,EAAqC98B,CAAC,CAAC6D,IAAD,CAAD,CAAQ+vB,SAAR,EAArC,EAA0DwH,cAA1D,EAA0E7Q,IAA1E,CAA+EmS,KAA/E,EAAsFplB,MAAtF,CAA6F,YAAW;EACpGsL,QAAAA,GAAG,CAACzR,UAAJ;EACA7H,QAAAA,IAAI,CAACC,IAAL,CAAU,UAAV,EAAsB,KAAtB,EAA6B6H,WAA7B,CAAyC,UAAzC;EACA2F,QAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,OAJD;EAKH;;EACD,WAAO,KAAP;EACH,GAhBD;;EAkBAikB,EAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACAR,EAAAA,IAAI,CAACj1B,IAAL,CAAU,MAAV,EAAkB3E,IAAlB,EA9KsC;;EAiLtC,MAAIgW,OAAO,GAAG,SAAVA,OAAU,CAASrR,IAAT,EAAe;EACzB,QAAI4c,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAU9D,IAAI,CAACg6B,GAAf,CAAV;EAAA,QACI9nB,MAAM,GAAG,IADb;EAAA,QAEI1I,CAAC,GAAGxJ,IAAI,CAAC2I,EAAL,CAAQ4C,KAAR,CAAc,UAAd,CAFR;EAGA,QAAI/B,CAAJ;EACI0I,MAAAA,MAAM,GAAG1I,CAAC,CAAC,CAAD,CAAV;EACJ,QAAI0H,IAAI,GAAGqQ,GAAG,CAACvQ,OAAJ,CAAYhR,IAAI,CAAC2I,EAAjB,CAAX;EAAA,QACI+xB,GAAG,GAAGxpB,IAAI,CAACsB,YAAL,CAAkBC,KAAlB;EAAA,KACDnP,GADC,CACG,UAAAsX,EAAE;EAAA,aAAKA,EAAE,CAAC3I,KAAH,CAAS,GAAT,EAAc/R,MAAd,IAAwB,CAAzB,GAA8B0a,EAAE,CAACna,OAAH,CAAW,KAAX,EAAkByR,MAAlB,CAA9B,GAA0D0I,EAA9D;EAAA,KADL,CADV;EAAA;EAGIpY,IAAAA,IAAI,GAAG+e,GAAG,CAACrS,QAHf;EAAA,QAIIgB,EAAE,GAAGwqB,GAAG,CAACp3B,GAAJ,CAAQ,UAAAsX,EAAE;EAAA,aAAI/H,eAAe,CAAC+H,EAAD,EAAKpY,IAAL,CAAnB;EAAA,KAAV,CAJT;EAAA,QAKI04B,GAAG,GAAGR,GAAG,CAACp3B,GAAJ,CAAQ,UAAAsX,EAAE;EAAA,aAAI2c,cAAc,CAAC3c,EAAD,EAAKpY,IAAL,CAAlB;EAAA,KAAV,CALV;EAAA,QAMIg4B,GAAG,GAAGtpB,IAAI,CAACwqB,eAAL,CAAqBjpB,KAArB,EANV,CANyB;;EAazBmnB,IAAAA,IAAI,CAACxyB,IAAL,CAAU,cAAV,EAA0BkS,IAA1B,CAA+B3a,CAAC,CAACqB,IAAI,CAACg6B,GAAN,CAAD,CAAY/yB,OAAZ,CAAoB,iBAApB,EAAuCtC,IAAvC,CAA4C,OAA5C,CAA/B;EACAi1B,IAAAA,IAAI,CAACxyB,IAAL,CAAU,aAAV,EAAyBkS,IAAzB,CAA8BggB,WAAW,CAAC30B,IAAD,CAAzC;EACA,QAAInC,IAAI,GAAGo3B,IAAI,CAACxyB,IAAL,CAAU,kBAAV,EAA8B,CAA9B,CAAX;;EACA,QAAI5E,IAAJ,EAAU;EAAE;EACR7D,MAAAA,CAAC,CAAC6D,IAAD,CAAD,CAAQm5B,QAAR,CAAiB,UAASt1B,CAAT,EAAY;EACzB,YAAIA,CAAC,CAACu1B,KAAF,IAAW,EAAX,IAAiBv1B,CAAC,CAACiD,MAAF,CAASuyB,QAAT,IAAqB,UAA1C,EACI,OAAOxJ,OAAO,EAAd;EACP,OAHD;EAIAniB,MAAAA,EAAE,CAACxM,OAAH,CAAW,UAAC8Z,CAAD,EAAI3c,CAAJ,EAAU;EACjB,SAAC,YAAW;EACR,cAAI4F,GAAG,GAAG8K,WAAW,CAACipB,GAAG,CAAC35B,CAAD,CAAJ,EAAS2B,IAAT,CAArB;;EACA,cAAIiE,GAAJ,EAAS;EACL,gBAAIA,GAAG,CAACzD,OAAJ,IAAeyD,GAAG,CAACvG,MAAvB,EAA+B;EAAE;EAC7BvB,cAAAA,CAAC,CAAC8H,GAAD,CAAD,CAAOomB,KAAP,GAAe7N,GAAf,CAAmB,YAAnB,EAAiC;EAAA,uBAAMyP,YAAY,CAAChoB,GAAD,EAAM+W,CAAN,CAAlB;EAAA,eAAjC;EACH,aAFD,MAEO;EACHiR,cAAAA,YAAY,CAAChoB,GAAD,EAAM+W,CAAN,CAAZ;EACH;EACJ;EACJ,SATD;EAUH,OAXD;EAYH;;EACD1W,IAAAA,EAAE,CAACgzB,eAAH,GAAqBF,IAAI,CAACQ,KAAL,CAAW,MAAX,CAArB;EACAR,IAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCC,KAAxC,CAA8CgrB,OAA9C,EAAuD7Y,KAAvD;EACA4f,IAAAA,aAAa,CAACz0B,IAAD,EAAO3E,IAAI,CAAC2I,EAAZ,CAAb;;EACA,QAAInG,IAAJ,EAAU;EAAE;EACR0N,MAAAA,EAAE,CAACxM,OAAH,CAAW,UAAC8Z,CAAD,EAAI3c,CAAJ,EAAU;EACjB,YAAI4F,GAAG,GAAG8K,WAAW,CAACipB,GAAG,CAAC35B,CAAD,CAAJ,EAAS2B,IAAT,CAArB;;EACA,YAAIiE,GAAJ,EAAS;EACL,cAAIuU,aAAa,CAACvU,GAAD,CAAjB,EAAwB;EAAE;EACtBA,YAAAA,GAAG,CAAC/G,KAAJ,GAAY8d,CAAC,CAAC,CAAD,CAAb;EACA/W,YAAAA,GAAG,CAAC7B,KAAJ,CAAUlF,KAAV,GAAkBw7B,GAAG,CAACr6B,CAAD,CAAH,CAAO,CAAP,CAAlB;EACA4F,YAAAA,GAAG,CAAC6R,GAAJ,CAAQkF,CAAC,CAAC,CAAD,CAAT,EAAc0d,GAAG,CAACr6B,CAAD,CAAH,CAAO,CAAP,CAAd,EAAyB,IAAzB;EACH,WAJD,MAIO,IAAIguB,aAAa,CAACpoB,GAAD,CAAjB,EAAwB;EAAE;EAC7BA,YAAAA,GAAG,CAAC/G,KAAJ,GAAY8d,CAAC,CAAC,CAAD,CAAb;EACA1K,YAAAA,aAAa,CAACjP,IAAd,CAAmBwU,KAAK,CAACvU,GAAN,CAAUtB,IAAI,CAACsG,EAAf,CAAnB,EAAuCrC,GAAvC;EACH,WAHM,MAGA,IAAIA,GAAG,CAACzD,OAAJ,IAAeyD,GAAG,CAACvG,MAAvB,EAA+B,CAA/B,MAEA;EAAE;EACLuG,YAAAA,GAAG,CAAC/G,KAAJ,GAAY8d,CAAC,CAAC,CAAD,CAAb;EACH;EACJ;EACJ,OAhBD;EAiBH;;EACDoc,IAAAA,IAAI,CAAC/vB,OAAL,CAAa,SAAb;EACH,GAzDD;;EA0DAlL,EAAAA,CAAC,CAACmF,GAAF,CAAM9D,IAAI,CAAC+E,GAAX,EAAgBiR,OAAhB,EAAyBkT,IAAzB,CAA8BmS,KAA9B;EACH;;EAGM,SAASS,eAAT,CAAyBz1B,CAAzB,EAA4B;EAC/B,MAAIuzB,IAAI,GAAGj7B,CAAC,CAAC,IAAD,CAAZ;EAAA,MAAoBqB,IAAI,GAAG45B,IAAI,CAACj1B,IAAL,CAAU,MAAV,CAA3B;EACA60B,EAAAA,YAAY,CAAC,aAAD,CAAZ;EACA,MAAIjY,GAAG,GAAGqY,IAAI,CAACvD,UAAL,CAAgB,MAAhB,EAAwBjvB,IAAxB,CAA6B,kBAA7B,EAAiDzC,IAAjD,CAAsD,MAAtD,CAAV;EACA,MAAI4c,GAAJ,EACIA,GAAG,CAACjN,aAAJ;EACJ,MAAIynB,GAAG,GAAGnC,IAAI,CAACxyB,IAAL,CAAU,aAAV,EAAyBkS,IAAzB,CAA8B,EAA9B,CAAV;EACA,MAAIyiB,GAAG,CAACC,QAAJ,IAAgBD,GAAG,CAACC,QAAJ,CAAa,UAAb,CAApB,EACID,GAAG,CAACC,QAAJ,CAAa,SAAb;EACJpC,EAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCyyB,MAAxC;EACAD,EAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2B2I,WAA3B,CAAuC,UAAS5G,KAAT,EAAgB+W,SAAhB,EAA2B;EAC9D,QAAI1W,CAAC,GAAG0W,SAAS,CAAC3U,KAAV,CAAgB,YAAhB,CAAR;EACA,WAAQ/B,CAAD,GAAMA,CAAC,CAAC,CAAD,CAAP,GAAa,EAApB;EACH,GAHD;EAIAowB,EAAAA,IAAI,CAACj1B,IAAL,CAAU,SAAV,EAAqB,KAArB;EACAi1B,EAAAA,IAAI,CAACj1B,IAAL,CAAU,KAAV,EAAiB,IAAjB;EACA,MAAI3E,IAAI,IAAIA,IAAI,CAACi8B,MAAjB,EACIn7B,MAAM,CAACsX,QAAP,CAAgB6jB,MAAhB,CAAuB,IAAvB;EACP;EAED;;;;;;;;;;;;;;EAaO,SAASC,eAAT,CAAyBl8B,IAAzB,EAA+B;EAClCrB,EAAAA,CAAC,CAACqB,IAAI,CAACg6B,GAAN,CAAD,CAAYxW,OAAZ,CAAoB,MAApB;EACA,MAAIlE,CAAC,GAAGtf,IAAI,CAACsf,CAAb;;EACA,MAAIA,CAAC,IAAI,CAAC6S,WAAW,CAAC7S,CAAD,CAArB,EAA0B;EACtB4M,IAAAA,OAAO,CAAC,8BAA8BplB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAA9B,GAAuE,MAAxE,CAAP;;EACA,WAAO,KAAP;EACH;;EAED,MAAI4yB,IAAI,GAAG9yB,EAAE,CAACq1B,WAAH,IAAkBx9B,CAAC,CAAC,kBAAD,CAAD,CAAsBmJ,EAAtB,CAAyB,iBAAzB,EAA4Cg0B,eAA5C,CAA7B,CARkC;;EASlC,MAAIlC,IAAI,CAACj1B,IAAL,CAAU,SAAV,KAAwBi1B,IAAI,CAACj1B,IAAL,CAAU,KAAV,KAAoB3E,IAAI,CAAC+E,GAArD,EACI,OAAO,KAAP;EACJ60B,EAAAA,IAAI,CAACj1B,IAAL,CAAU;EAAEy3B,IAAAA,OAAO,EAAE,IAAX;EAAiBr3B,IAAAA,GAAG,EAAE/E,IAAI,CAAC+E;EAA3B,GAAV;EACA/E,EAAAA,IAAI,CAACi8B,MAAL,GAAc,KAAd,CAZkC;;EAelC,MAAIj8B,IAAI,CAACq8B,IAAL,KAAc,UAAlB,EAA8B;EAAE;EAC5BzC,IAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BM,WAA3B,CAAuC,UAAvC,EAAmD,IAAnD,EAAyDA,WAAzD,CAAqE,mBAArE,EAA0F,KAA1F;EACH,GAFD,MAEO,IAAI1H,IAAI,CAACq8B,IAAL,KAAc,EAAlB,EAAsB;EAAE;EAC3BzC,IAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BM,WAA3B,CAAuC,4BAAvC,EAAqE,KAArE;EACH,GAFM,MAEA,IAAI1H,IAAI,CAACq8B,IAAL,KAAc,UAAlB,EAA8B;EAAE;EACnCzC,IAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BM,WAA3B,CAAuC,UAAvC,EAAmD,IAAnD,EAAyDA,WAAzD,CAAqE,mBAArE,EAA0F,KAA1F;EACH,GAFM,MAEA;EAAE;EACLkyB,IAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BM,WAA3B,CAAuC,UAAvC,EAAmD,IAAnD,EAAyDA,WAAzD,CAAqE,mBAArE,EAA0F,KAA1F;EACH,GAvBiC;;EA0BlC,MAAI40B,QAAQ,GAAG,SAAXA,QAAW,GAAW;EACtB,QAAIt8B,IAAI,GAAG45B,IAAI,CAACj1B,IAAL,CAAU,MAAV,CAAX;EACA,QAAI43B,IAAI,GAAG59B,CAAC,CAACqB,IAAI,CAACg6B,GAAN,CAAZ;EACA,WAAOh6B,IAAI,CAACw8B,OAAL,IAAgBD,IAAI,CAAC53B,IAAL,CAAU,SAAV,CAAhB,IAAwC43B,IAAI,CAAC53B,IAAL,CAAU,gBAAV,CAAxC,IAAuE,EAA9E;EACH,GAJD,CA1BkC;;EAiClC,MAAI83B,OAAO,GAAG,SAAVA,OAAU,GAAW;EACrB,QAAIz8B,IAAI,GAAG45B,IAAI,CAACj1B,IAAL,CAAU,MAAV,CAAX;EACA,QAAIhG,CAAC,CAAC+9B,MAAF,CAAS18B,IAAI,CAACw7B,GAAd,CAAJ,EACI,OAAO,EAAP,CADJ,KAEK,IAAIx7B,IAAI,CAACw7B,GAAL,IAAYx7B,IAAI,CAACw7B,GAAL,IAAY,EAA5B,EACD,OAAO10B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmBhH,IAAI,CAACw7B,GAAxB,CAAP,CADC,KAGD,OAAOc,QAAQ,EAAf;EACP,GARD,CAjCkC;;EA4ClC,MAAIjB,KAAK,GAAG,SAARA,KAAQ,CAASjrB,CAAT,EAAY;EACpBwpB,IAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACA,QAAIhqB,CAAC,CAACkrB,MAAN,EACI5I,MAAM,CAAC,kBAAkBtiB,CAAC,CAACkrB,MAApB,GAA6B,IAA7B,GAAoClrB,CAAC,CAACmrB,UAAvC,CAAN;EACP,GAJD,CA5CkC;;EAmDlC,MAAIoB,OAAO,GAAG,SAAVA,OAAU,CAASvsB,CAAT,EAAY;EACtBsF,IAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,GAFD,CAnDkC;;EAwDlC,MAAIinB,QAAQ,GAAG,SAAXA,QAAW,CAAS73B,GAAT,EAAc;EACzB,QAAIlD,CAAC,GAAGlD,CAAC,CAAC,KAAD,EAAQ;EAAEwZ,MAAAA,IAAI,EAAEpT;EAAR,KAAR,CAAD,CAAwB,CAAxB,CAAR;EACA,WAAOjE,MAAM,CAACsX,QAAP,CAAgBykB,QAAhB,CAAyB1qB,QAAzB,CAAkCtQ,CAAC,CAACg7B,QAApC,CAAP;EACH,GAHD,CAxDkC;;EA8DlC,MAAI9C,cAAc,GAAG,SAAjBA,cAAiB,CAASp1B,IAAT,EAAe;EAChC,QAAIoR,MAAM,GAAGqB,SAAS,CAACzS,IAAD,CAAtB;;EACA,QAAIhG,CAAC,CAAC6H,QAAF,CAAWuP,MAAX,CAAJ,EAAwB;EACpB,UAAIpX,CAAC,CAACyS,QAAF,CAAW2E,MAAM,CAACqlB,cAAlB,CAAJ,EAAuC;EACnC1I,QAAAA,MAAM,CAAC3c,MAAM,CAACqlB,cAAR,CAAN;EACH,OAFD,MAEO,IAAIrlB,MAAM,CAACtC,KAAX,EAAkB;EAAA;;EACrB,YAAI9U,CAAC,CAACyS,QAAF,CAAW2E,MAAM,CAACtC,KAAlB,CAAJ,EACIif,MAAM,CAAC3c,MAAM,CAACtC,KAAR,CAAN,CADJ,KAEK,IAAI9U,CAAC,CAACyS,QAAF,kBAAW2E,MAAM,CAACtC,KAAlB,kDAAW,cAAc0nB,WAAzB,CAAJ,EACDzI,MAAM,CAAC3c,MAAM,CAACtC,KAAP,CAAa0nB,WAAd,CAAN;EACP,OALM,MAKA;EACH,YAAIp2B,GAAG,GAAGgR,MAAM,CAAChR,GAAjB;;EACA,YAAIgR,MAAM,CAACqkB,KAAP,IAAgB,CAACwC,QAAQ,CAAC73B,GAAD,CAA7B,EAAoC;EAChC,cAAI/E,IAAI,GAAG45B,IAAI,CAACj1B,IAAL,CAAU,MAAV,CAAX;EACA3E,UAAAA,IAAI,CAACi8B,MAAL,GAAc,IAAd;EACA,cAAIlmB,MAAM,CAACymB,OAAX,EACIx8B,IAAI,CAACw8B,OAAL,GAAezmB,MAAM,CAACymB,OAAtB;EACJx8B,UAAAA,IAAI,CAACw7B,GAAL,GAAWzlB,MAAM,CAAC+mB,IAAP,GAAc,IAAd,GAAqB,EAAhC;EACAlD,UAAAA,IAAI,CAACj1B,IAAL,CAAU,MAAV,EAAkB3E,IAAlB;EACA+E,UAAAA,GAAG,IAAI,CAACA,GAAG,CAACkN,KAAJ,CAAU,GAAV,EAAe/R,MAAf,GAAwB,CAAxB,GAA4B,GAA5B,GAAkC,GAAnC,IAA0C,cAA1C,GAA2DmE,MAAM,EAAxE;EACAqR,UAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAhX,UAAAA,CAAC,CAAC+T,IAAF,CAAO3N,GAAP,EAAY+Q,IAAZ,CAAiBE,OAAjB,EAA0BkT,IAA1B,CAA+BmS,KAA/B,EAAsCplB,MAAtC,CAA6C0mB,OAA7C;EACH,SAVD,MAUO;EACH/C,UAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACAt5B,UAAAA,MAAM,CAACsX,QAAP,GAAkBrT,GAAlB;EACH;EACJ;EACJ,KAzBD,MAyBO;EACH,UAAID,IAAI,GAAGiiB,UAAU,CAACpiB,IAAD,CAArB;EACA,UAAIo3B,GAAG,GAAGnC,IAAI,CAACxyB,IAAL,CAAU,aAAV,EAAyBkS,IAAzB,CAA8BxU,IAA9B,CAAV;EACA,UAAIi4B,MAAM,GAAG,EAAb;EACA,UAAIC,EAAE,GAAGjB,GAAG,CAAC30B,IAAJ,CAAS,UAAT,CAAT;EACA,UAAI61B,EAAE,GAAGlB,GAAG,CAAC30B,IAAJ,CAAS,WAAT,CAAT;;EACA,UAAI61B,EAAE,IAAIA,EAAE,CAAC9xB,GAAH,MAAY,GAAtB,EAA2B;EAAE;EACzB4xB,QAAAA,MAAM,IAAI,mFAAmFj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,cAAnB,CAAnF,GAAwH,WAAlI;EACA+1B,QAAAA,MAAM,IAAI,gFAAgFj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAAhF,GAAkH,WAA5H;EACA+1B,QAAAA,MAAM,IAAI,qFAAqFj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAArF,GAAuH,WAAjI;EACA4yB,QAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BkS,IAA3B,CAAgCyjB,MAAhC;EACAnD,QAAAA,IAAI,CAACxyB,IAAL,CAAU,8BAAV,EAA0CU,EAA1C,CAA6C,OAA7C,EAAsD;EAACiJ,UAAAA,MAAM,EAAE;EAAT,SAAtD,EAA6EshB,OAA7E;EACAuH,QAAAA,IAAI,CAACxyB,IAAL,CAAU,2BAAV,EAAuCU,EAAvC,CAA0C,OAA1C,EAAmD;EAACiJ,UAAAA,MAAM,EAAE;EAAT,SAAnD,EAAqEshB,OAArE;EACH,OAPD,MAOO,IAAI2K,EAAE,IAAIA,EAAE,CAAC7xB,GAAH,MAAY,SAAtB,EAAiC;EAAE;EACtC4xB,QAAAA,MAAM,IAAI,8DAA8Dj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,YAAnB,CAA9D,GAAiG,WAA3G;EACA+1B,QAAAA,MAAM,IAAI,8DAA8Dj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAA9D,GAAgG,WAA1G;EACA4yB,QAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BkS,IAA3B,CAAgCyjB,MAAhC;EACAnD,QAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCC,KAAxC,CAA8CgrB,OAA9C,EAAuD7Y,KAAvD;EACAogB,QAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCU,EAAxC,CAA2C,OAA3C,EAAoD;EAACiJ,UAAAA,MAAM,EAAE;EAAT,SAApD,EAAwEshB,OAAxE;EACH,OANM,MAMA;EAAE;EACL,YAAImJ,GAAG,GAAGiB,OAAO,EAAjB;;EACA,YAAIjB,GAAJ,EACIuB,MAAM,IAAI,8DAA8DvB,GAA9D,GAAoE,WAA9E;EACJuB,QAAAA,MAAM,IAAI,qFAAqFj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAArF,GAAuH,WAAjI;EACA4yB,QAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BkS,IAA3B,CAAgCyjB,MAAhC;EACAnD,QAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCyI,QAAxC,CAAiD,WAAjD,EAA8DxI,KAA9D,CAAoEgrB,OAApE,EAA6E7Y,KAA7E;EACH;;EACD4f,MAAAA,aAAa,CAACz0B,IAAD,EAAO,aAAP,CAAb;EACAi1B,MAAAA,IAAI,CAAC/vB,OAAL,CAAa,SAAb,EA5BG;EA6BN;EACJ,GAzDD,CA9DkC;;EA0HlC,MAAIwoB,OAAO,GAAG,SAAVA,OAAU,CAAShsB,CAAT,EAAY;EACtB,QAAI7D,IAAI,GAAGo3B,IAAI,CAACxyB,IAAL,CAAU,kBAAV,EAA8B,CAA9B,CAAX;EAAA,QACIlC,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CADb;EAAA,QAEI+e,GAAG,GAAGlJ,KAAK,CAACvU,GAAN,CAAUtB,IAAI,CAACsG,EAAf,CAFV;EAAA,QAGIiI,MAAM,GAAG1K,CAAC,IAAIA,CAAC,CAAC1B,IAAP,GAAc0B,CAAC,CAAC1B,IAAF,CAAOoM,MAArB,GAA8B,IAH3C;EAAA,QAIIyqB,GAAG,GAAGn1B,CAAC,GAAGA,CAAC,CAACiD,MAAL,GAAc,IAJzB;;EAKA,QAAIkyB,GAAJ,EAAS;EACL,UAAIA,GAAG,CAACtE,SAAJ,CAAcC,QAAd,CAAuB,UAAvB,CAAJ,EACI,OAAO,KAAP;;EACJ5V,MAAAA,GAAG,CAACzR,UAAJ,GAAiB,YAAW;EACxBnR,QAAAA,CAAC,CAAC68B,GAAD,CAAD,CAAOtzB,IAAP,CAAY,UAAZ,EAAwB,KAAxB,EAA+B6H,WAA/B,CAA2C,UAA3C;EACH,OAFD;;EAGAwR,MAAAA,GAAG,CAAC5R,WAAJ,GAAkB,YAAW;EACzBhR,QAAAA,CAAC,CAAC68B,GAAD,CAAD,CAAOtzB,IAAP,CAAY,UAAZ,EAAwB,IAAxB,EAA8B2H,QAA9B,CAAuC,UAAvC;EACH,OAFD;EAGH;;EACD,QAAIjL,KAAK,GAAGpC,IAAI,CAACE,QAAL,CAAc,QAAd,CAAZ;EACA,QAAIqO,MAAM,IAAInM,KAAd,EACIA,KAAK,CAAClF,KAAN,GAAcqR,MAAd,CAlBkB;;EAmBtB,QAAIA,MAAM,IAAI,QAAd,EAAwB;EAAE;EACtBpS,MAAAA,CAAC,CAAC+xB,IAAF,CAAOxrB,KAAK,CAACqE,IAAN,CAAW,QAAX,CAAP,EAA6BrE,KAAK,CAACqtB,SAAN,EAA7B,EAAgDvc,OAAhD,EAAyDkT,IAAzD,CAA8DmS,KAA9D,EAAqEplB,MAArE,CAA4E0mB,OAA5E;EACH,KAFD,MAEO,IAAIpb,GAAG,CAACjR,SAAJ,EAAJ,EAAqB;EACxBoF,MAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAhX,MAAAA,CAAC,CAAC+xB,IAAF,CAAOxrB,KAAK,CAACqE,IAAN,CAAW,QAAX,CAAP,EAA6BrE,KAAK,CAACqtB,SAAN,EAA7B,EAAgDwH,cAAhD,EAAgE7Q,IAAhE,CAAqEmS,KAArE,EAA4EplB,MAA5E,CAAmF,YAAW;EAC1FsL,QAAAA,GAAG,CAACzR,UAAJ;;EACA6sB,QAAAA,OAAO;EACV,OAHD;EAIH;;EACD,WAAO,KAAP;EACH,GA7BD;;EA+BA/C,EAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACAR,EAAAA,IAAI,CAACj1B,IAAL,CAAU,MAAV,EAAkB3E,IAAlB;;EAEA,MAAIgW,OAAO,GAAG,SAAVA,OAAU,CAASrR,IAAT,EAAe;EACzB,QAAIoR,MAAM,GAAGqB,SAAS,CAACzS,IAAD,CAAtB;;EACA,QAAIhG,CAAC,CAAC6H,QAAF,CAAWuP,MAAX,CAAJ,EAAwB;EACpB,UAAIA,MAAM,CAACtC,KAAX,EACIif,MAAM,CAAC3c,MAAM,CAACtC,KAAR,CAAN;EACP,KAHD,MAGO;EACH,UAAIzT,IAAI,GAAG45B,IAAI,CAACj1B,IAAL,CAAU,MAAV,CAAX;EACA,UAAI43B,IAAI,GAAG59B,CAAC,CAACqB,IAAI,CAACg6B,GAAN,CAAZ;EACAJ,MAAAA,IAAI,CAACxyB,IAAL,CAAU,cAAV,EAA0BkS,IAA1B,CAA+BgjB,QAAQ,EAAvC;EACA,UAAIS,MAAM,GAAG,EAAb;;EACA,UAAIvB,GAAG,GAAGiB,OAAO,EAAjB;;EACA,UAAIjB,GAAJ,EACIuB,MAAM,IAAI,8DAA8DvB,GAA9D,GAAoE,WAA9E;EACJ,UAAIuB,MAAM,IAAI,EAAd,EACIA,MAAM,IAAI,qFAAqFj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAArF,GAAuH,WAAjI,CADJ,KAGI+1B,MAAM,GAAG,qFAAqFj2B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,UAAnB,CAArF,GAAsH,WAA/H;EACJ4yB,MAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BkS,IAA3B,CAAgCyjB,MAAhC;EACA,UAAIj4B,IAAI,GAAGiiB,UAAU,CAACpiB,IAAD,CAArB;EACAi1B,MAAAA,IAAI,CAACxyB,IAAL,CAAU,aAAV,EAAyBkS,IAAzB,CAA8BxU,IAA9B;EACA,UAAIgyB,KAAK,GAAGyF,IAAI,CAAC53B,IAAL,CAAU,OAAV,CAAZ;EACA,UAAImyB,KAAJ,EACI8C,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2ByI,QAA3B,CAAoC,WAAWinB,KAA/C;EACJ,UAAI7uB,IAAI,GAAG2xB,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCyI,QAAxC,CAAiD,WAAjD,EAA8DxI,KAA9D,CAAoEgrB,OAApE,CAAX;EACAuH,MAAAA,IAAI,CAACxyB,IAAL,CAAU,kBAAV,EAA8Bu0B,QAA9B,CAAuC,UAASt1B,CAAT,EAAY;EAC/C,YAAIA,CAAC,CAACu1B,KAAF,IAAW,EAAX,IAAiBv1B,CAAC,CAACiD,MAAF,CAASuyB,QAAT,IAAqB,UAA1C,EACI,OAAO5zB,IAAI,CAACZ,KAAL,EAAP;EACP,OAHD;EAIAP,MAAAA,EAAE,CAACq1B,WAAH,GAAiBvC,IAAI,CAACQ,KAAL,CAAW,MAAX,CAAjB;EACAhB,MAAAA,aAAa,CAACz0B,IAAD,EAAO,aAAP,CAAb;EACAi1B,MAAAA,IAAI,CAAC/vB,OAAL,CAAa,SAAb,EAzBG;;EA0BH5B,MAAAA,IAAI,CAACuR,KAAL;EACH;EACJ,GAjCD;;EAmCA9D,EAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EAEA,MAAI5Q,GAAG,GAAG/E,IAAI,CAAC+E,GAAf;;EACA,MAAIua,CAAJ,EAAO;EAAE;EACL,QAAI6N,EAAE,GAAGxuB,CAAC,CAAC2gB,CAAD,CAAV;EACA,QAAI,CAACA,CAAC,CAAC5c,QAAF,CAAW03B,KAAhB,EACIz7B,CAAC,CAAC,SAAD,CAAD,CAAa4K,IAAb,CAAkB;EAAC1J,MAAAA,IAAI,EAAE,QAAP;EAAiBQ,MAAAA,IAAI,EAAE,OAAvB;EAAgCX,MAAAA,KAAK,EAAE;EAAvC,KAAlB,EAA+D2Q,QAA/D,CAAwE8c,EAAxE;EACJxuB,IAAAA,CAAC,CAAC+xB,IAAF,CAAO3rB,GAAP,EAAYooB,EAAE,CAACoF,SAAH,EAAZ,EAA4Bvc,OAA5B,EAAqCkT,IAArC,CAA0CmS,KAA1C,EAAiDplB,MAAjD,CAAwD0mB,OAAxD;EACH,GALD,MAKO;EACH53B,IAAAA,GAAG,IAAI,CAACA,GAAG,CAACkN,KAAJ,CAAU,GAAV,EAAe/R,MAAf,GAAwB,CAAxB,GAA4B,GAA5B,GAAkC,GAAnC,IAA0C,cAA1C,GAA2DmE,MAAM,EAAxE;EACA1F,IAAAA,CAAC,CAACmF,GAAF,CAAMiB,GAAN,EAAWiR,OAAX,EAAoBkT,IAApB,CAAyBmS,KAAzB,EAAgCplB,MAAhC,CAAuC0mB,OAAvC;EACH;;EAED,SAAO,KAAP;EACH;;EAGM,SAASO,eAAT,CAAyBl9B,IAAzB,EAA+B;EAClC,MAAI2I,EAAE,GAAG3I,IAAI,CAAC2I,EAAd;EAAA,MAAkB2W,CAAC,GAAG1P,OAAO,CAAC5P,IAAI,CAACg6B,GAAN,CAA7B;EACA,MAAI,CAAC1a,CAAD,IAAM,CAAC3W,EAAX,EACI;EAEJ,MAAIixB,IAAI,GAAG9yB,EAAE,CAACq2B,iBAAH,IAAwBx+B,CAAC,CAAC,yBAAD,CAAD,CAA6BmJ,EAA7B,CAAgC,iBAAhC,EAAmDg0B,eAAnD,CAAnC;;EACA,MAAI,CAAClC,IAAI,CAAC,CAAD,CAAT,EAAc;EACVlH,IAAAA,MAAM,CAAC,wCAAD,CAAN;;EACA;EACH;;EACD,MAAIkH,IAAI,CAACj1B,IAAL,CAAU,SAAV,CAAJ,EACI;EACJi1B,EAAAA,IAAI,CAACj1B,IAAL,CAAU,SAAV,EAAqB,IAArB;EAEA,MAAIwoB,EAAE,GAAGxuB,CAAC,CAAC2gB,CAAD,CAAV;EAAA,MACI1C,MAAM,GAAGuQ,EAAE,CAAC/lB,IAAH,CAAQ,UAAUuB,EAAV,GAAe,IAAvB,CADb;EAAA;EAEIozB,EAAAA,GAAG,GAAGnC,IAAI,CAACxyB,IAAL,CAAU,aAAV,CAFV;EAAA,MAGIm1B,IAAI,GAAG59B,CAAC,CAACqB,IAAI,CAACg6B,GAAN,CAHZ;EAAA,MAIIc,GAAG,GAAGyB,IAAI,CAACt1B,OAAL,CAAa,iBAAb,EAAgCG,IAAhC,CAAqC,iBAArC,EAAwDoS,KAAxD,EAJV;EAAA,MAKI4jB,GAAG,GAAG1P,KAAK,CAAC/kB,EAAD,EAAK,KAAL,CALf;EAAA,MAMIa,CAAC,GAAG4zB,GAAG,CAAC7xB,KAAJ,CAAU,eAAV,CANR;EAAA,MAOImG,QAAQ,GAAGlI,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,EAP1B;EAAA,MAQI0H,IAAI,GAAGmH,KAAK,CAACvU,GAAN,CAAUwb,CAAC,CAACxW,EAAZ,EAAgBkI,OAAhB,CAAwBrI,EAAxB,CARX,CAdkC;;EAyBlC,MAAI00B,OAAO,GAAG,SAAVA,OAAU,CAAS14B,IAAT,EAAe;EACzB,QAAIA,IAAI,CAACoR,MAAL,IAAe,IAAf,IAAuBO,KAAK,CAACC,OAAN,CAAc5R,IAAI,CAAC4X,OAAnB,CAA3B,EAAwD;EACpD5X,MAAAA,IAAI,CAAC4X,OAAL,CAAa7Y,OAAb,CAAqB,UAASwM,EAAT,EAAa/G,KAAb,EAAoB;EACrC,YAAI+N,IAAJ;EACA,YAAIZ,KAAK,CAACC,OAAN,CAAcrG,EAAd,CAAJ,EACIgH,IAAI,GAAG;EAAE,gBAAMhH,EAAE,CAAC,CAAD,CAAV;EAAe,iBAAOA,EAAE,CAAC,CAAD,CAAxB;EAA6B,iBAAOA,EAAE,CAAC,CAAD,CAAtC;EAA2C,iBAAOA,EAAE,CAAC,CAAD,CAApD;EAAyD,iBAAOA,EAAE,CAAC,CAAD;EAAlE,SAAP,CADJ,KAEK,IAAIvR,CAAC,CAAC6H,QAAF,CAAW0J,EAAX,CAAJ,EACDgH,IAAI,GAAG;EAAE6L,UAAAA,EAAE,EAAE7S,EAAE,CAAC6S,EAAT;EAAakV,UAAAA,GAAG,EAAE/nB,EAAE,CAAC8S,EAArB;EAAyBC,UAAAA,GAAG,EAAE/S,EAAE,CAAC+S,GAAjC;EAAsCC,UAAAA,GAAG,EAAEhT,EAAE,CAACgT,GAA9C;EAAmDC,UAAAA,GAAG,EAAEjT,EAAE,CAACiT;EAA3D,SAAP;EACJ,YAAI0X,GAAG,GAAG3f,YAAY,CAAChL,EAAD,EAAK0M,MAAL,CAAtB;;EACA,YAAI1L,IAAI,CAACC,QAAT,EAAmB;EACf+F,UAAAA,IAAI,CAAC,IAAD,CAAJ,GAAahG,IAAI,CAACC,QAAL,CAAcjI,MAAd,CAAqBgO,IAArB,EAA2BpQ,EAAE,CAACmU,eAA9B,CAAb;EACH,SAFD,MAEO;EACH/D,UAAAA,IAAI,CAAC,IAAD,CAAJ,GAAa2jB,GAAb;EACH;;EACD3jB,QAAAA,IAAI,CAAC,KAAD,CAAJ,GAAc2jB,GAAd;EACAl2B,QAAAA,IAAI,CAAC4X,OAAL,CAAapT,KAAb,IAAsB+N,IAAtB;EACH,OAdD;EAeH;;EACD,WAAOvS,IAAP;EACH,GAnBD,CAzBkC;;EA+ClC,MAAI24B,cAAc,GAAG,SAAjBA,cAAiB,CAAS59B,KAAT,EAAgB+X,IAAhB,EAAsB;EACvC,QAAI,CAACuD,aAAa,CAAC4B,MAAD,CAAlB,EACI;EACJ,QAAIjU,EAAE,GAAGiU,MAAM,CAAC,CAAD,CAAf;EACAjU,IAAAA,EAAE,CAAC2P,GAAH,CAAO5Y,KAAP,EAAc+X,IAAd,EAAoB,IAApB;EACA9O,IAAAA,EAAE,CAAC/D,KAAH,CAASlF,KAAT,GAAiB+X,IAAjB;EACH,GAND,CA/CkC;;EAwDlC,MAAI6W,MAAM,GAAG,SAATA,MAAS,CAASpe,EAAT,EAAa;EACtB;EACA,QAAIioB,IAAI,GAAG,EAAX;EAAA,QAAe7e,IAAI,GAAG,EAAtB;EAAA,QAA0BsI,IAAI,GAAG,EAAjC;EAAA,QAAqC2b,IAAI,GAAG,EAA5C;EAAA,QAAgDC,OAAO,GAAG,CAACx9B,IAAI,CAACwJ,CAAN,IAAWxJ,IAAI,CAACy9B,IAA1E;EACA1B,IAAAA,GAAG,CAACC,QAAJ,CAAa,cAAb,EAA6Bt7B,IAA7B,CAAkC,YAAW;EACzC,UAAIg9B,MAAM,GAAG/+B,CAAC,CAAC,IAAD,CAAD,CAAQgG,IAAR,CAAa,QAAb,CAAb;EACAwzB,MAAAA,IAAI,CAAC50B,IAAL,CAAUm6B,MAAM,CAAC3a,EAAjB;EACAzJ,MAAAA,IAAI,CAAC/V,IAAL,CAAUm6B,MAAM,CAAC1a,EAAjB;EACApB,MAAAA,IAAI,CAACre,IAAL,CAAUm6B,MAAM,CAAC1a,EAAjB;EACAua,MAAAA,IAAI,CAACh6B,IAAL,CAAUm6B,MAAM,CAAC7C,GAAjB,EALyC;EAM5C,KAND;;EAOA,QAAI3qB,EAAE,CAAC9G,IAAH,GAAUgJ,IAAV,OAAqB+lB,IAAI,CAAC/uB,IAAL,GAAYgJ,IAAZ,EAAzB,EAA6C;EAAE;EAC3C0oB,MAAAA,GAAG,CAACxhB,IAAJ,CAASye,WAAW,CAACnW,IAAD,EAAOhF,MAAM,CAACjY,IAAP,CAAY,UAAZ,CAAP,CAApB;EACA24B,MAAAA,cAAc,CAACnF,IAAI,CAAC/lB,IAAL,EAAD,EAAcmrB,IAAI,CAACnrB,IAAL,CAAU,IAAV,CAAd,CAAd;EACAwK,MAAAA,MAAM,CAACzR,GAAP,CAAWqyB,OAAO,GAAGlkB,IAAI,CAAClH,IAAL,CAAU,IAAV,CAAH,GAAqB+lB,IAAI,CAAC/lB,IAAL,EAAvC,EAAoDsF,MAApD;EACH,KAJD,MAIO;EAAE;EACL,UAAI/S,IAAI,GAAGvC,MAAM,CAACtD,MAAP,CAAc;EAAEsc,QAAAA,IAAI,EAAElK,IAAI,CAACkK,IAAb;EAAmBnB,QAAAA,KAAK,EAAE/I,IAAI,CAAC+I,KAA/B;EAAsCvH,QAAAA,IAAI,EAAE,OAA5C;EAAqDlT,QAAAA,IAAI,EAAE0Q;EAA3D,OAAd,EAA+EoL,aAAa,CAAC,QAAQ8hB,GAAT,EAAc9d,CAAd,CAA5F,CAAX;EACA5J,MAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAhX,MAAAA,CAAC,CAAC+T,IAAF,CAAOuJ,SAAS,CAACnV,EAAE,CAACoV,iBAAJ,CAAhB,EAAwC;EACpCrc,QAAAA,IAAI,EAAE,MAD8B;EAEpCgW,QAAAA,QAAQ,EAAE,MAF0B;EAGpClR,QAAAA,IAAI,EAAEA;EAH8B,OAAxC,EAIGmR,IAJH,CAIQunB,OAJR,EAIiB/pB,IAJjB,CAIsB,UAAS3O,IAAT,EAAe;EACjC,YAAIA,IAAI,CAACoR,MAAL,IAAe,IAAf,IAAuBO,KAAK,CAACC,OAAN,CAAc5R,IAAI,CAAC4X,OAAnB,CAA3B,EAAwD;EACpD,cAAI4b,IAAI,GAAG,EAAX;EAAA,cAAe7e,IAAI,GAAG,EAAtB;EAAA,cAA0BsI,IAAI,GAAG,EAAjC;EAAA,cAAqC2b,IAAI,GAAG,EAA5C;EAAA,cAAgDlhB,OAAO,GAAG1X,IAAI,CAAC4X,OAA/D;;EACA,gEAAmBF,OAAnB,2CAA4B;EAAA,gBAAnBtG,MAAmB;EACxBoiB,YAAAA,IAAI,CAAC50B,IAAL,CAAUwS,MAAM,CAACgN,EAAjB;EACAzJ,YAAAA,IAAI,CAAC/V,IAAL,CAAUwS,MAAM,CAACiN,EAAjB;EACApB,YAAAA,IAAI,CAACre,IAAL,CAAUwS,MAAM,CAACiN,EAAjB;EACAua,YAAAA,IAAI,CAACh6B,IAAL,CAAUwS,MAAM,CAAC8kB,GAAjB,EAJwB;EAK3B;;EACDC,UAAAA,GAAG,CAACxhB,IAAJ,CAASye,WAAW,CAACnW,IAAD,EAAOhF,MAAM,CAACjY,IAAP,CAAY,UAAZ,CAAP,CAApB;EACA24B,UAAAA,cAAc,CAACnF,IAAI,CAAC/lB,IAAL,EAAD,EAAcmrB,IAAI,CAACnrB,IAAL,CAAU,IAAV,CAAd,CAAd;EACAwK,UAAAA,MAAM,CAACzR,GAAP,CAAWqyB,OAAO,GAAGlkB,IAAI,CAAClH,IAAL,CAAU,IAAV,CAAH,GAAqB+lB,IAAI,CAAC/lB,IAAL,EAAvC,EAAoDsF,MAApD;EACH;EACJ,OAjBD,EAiBGzB,MAjBH,CAiBU,YAAW;EACjBP,QAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,OAnBD;EAoBH;EACJ,GAtCD,CAxDkC;;EAiGlC,MAAI0c,OAAO,GAAG,SAAVA,OAAU,GAAW;EACrB/D,IAAAA,MAAM,CAACqP,WAAD,CAAN;EACA/D,IAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACA,WAAO,KAAP;EACH,GAJD,CAjGkC;;EAwGlCR,EAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACAR,EAAAA,IAAI,CAACj1B,IAAL,CAAU,MAAV,EAAkB3E,IAAlB;;EACA,MAAI49B,MAAJ,EAAYC,OAAZ,CA1GkC;;EA6GlC,MAAI7nB,OAAO,GAAG,SAAVA,OAAU,CAASrR,IAAT,EAAe;EACzB,QAAIA,IAAI,CAACoR,MAAL,IAAe,IAAnB,EAAyB;EACrB6jB,MAAAA,IAAI,CAACxyB,IAAL,CAAU,cAAV,EAA0BkS,IAA1B,CAA+BijB,IAAI,CAAChzB,IAAL,CAAU,OAAV,KAAsBgzB,IAAI,CAAC53B,IAAL,CAAU,gBAAV,CAArD;EACAi1B,MAAAA,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCe,MAAzC,CAAgD,CAAC,CAACnI,IAAI,CAACwJ,CAAvD;EACAowB,MAAAA,IAAI,CAACxyB,IAAL,CAAU,eAAV,EAA2BkS,IAA3B,CAAgC,0EAA0ExS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAA1E,GAA4G,WAA5G,GAC5B,4EAD4B,GACmDF,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CADnD,GACqF,WADrH;EAEA62B,MAAAA,OAAO,GAAGjE,IAAI,CAACxyB,IAAL,CAAU,2CAAV,EAAuDE,GAAvD,CAA2D,UAA3D,EAAuEQ,EAAvE,CAA0E,UAA1E,EAAsF,UAASzB,CAAT,EAAY;EACpG,YAAIu3B,MAAJ,EACIA,MAAM,CAAC/f,MAAP;EACJ+f,QAAAA,MAAM,GAAGj/B,CAAC,CAACgW,KAAF,CAAQ7N,EAAE,CAACg3B,YAAX,EAAyB,IAAzB,EAA+B,YAAW;EAC/C/B,UAAAA,GAAG,CAACC,QAAJ,CAAa,MAAb,EAAqB;EAAE,kBAAM6B,OAAO,CAAC1yB,GAAR;EAAR,WAArB;EACH,SAFQ,CAAT;EAGH,OANK,CAAV;EAOAyuB,MAAAA,IAAI,CAACxyB,IAAL,CAAU,2BAAV,EAAuCC,KAAvC,CAA6CgrB,OAA7C,EAZqB;;EAarBvrB,MAAAA,EAAE,CAACq2B,iBAAH,GAAuBvD,IAAI,CAACQ,KAAL,CAAW,MAAX,CAAvB;EACAyD,MAAAA,OAAO,CAACrkB,KAAR;EACH,KAfD,MAeO;EACHkZ,MAAAA,MAAM,CAAC/tB,IAAI,CAACsb,OAAN,CAAN;EACH;EACJ,GAnBD;;EAqBA,MAAI1E,GAAG,GAAG,EAAV;EACA,MAAIwiB,SAAS,GAAGnhB,MAAM,CAACzR,GAAP,EAAhB,CAnIkC;;EAoIlC,MAAIwyB,WAAW,GAAII,SAAS,KAAK,EAAf,GAAqBA,SAAS,CAAC9rB,KAAV,CAAgBnL,EAAE,CAAC0U,yBAAnB,CAArB,GAAqE,EAAvF;EACA,MAAI7W,IAAI,GAAGvC,MAAM,CAACtD,MAAP,CAAc;EAAEsc,IAAAA,IAAI,EAAElK,IAAI,CAACkK,IAAb;EAAmBnB,IAAAA,KAAK,EAAE/I,IAAI,CAAC+I;EAA/B,GAAd,EAAsDqB,aAAa,CAAC,QAAQ8hB,GAAT,EAAc9d,CAAd,CAAnE,CAAX,CArIkC;;EAwIlC,MAAIgO,QAAQ,GAAGpc,IAAI,CAACsB,YAAL,CAAkBC,KAAlB,EAAf,CAxIkC;;EAyIlC,MAAIf,QAAQ,IAAI,EAAhB,EAAoB;EAChB,SAAK,IAAI7Q,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGgN,QAAQ,CAACptB,MAA/B,EAAuCW,CAAC,GAAGyf,GAA3C,EAAgDzf,CAAC,EAAjD,EAAqD;EACjD,UAAIqP,EAAE,GAAGod,QAAQ,CAACzsB,CAAD,CAAR,CAAYoR,KAAZ,CAAkB,GAAlB,CAAT;EACA,UAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAjB;EACIotB,QAAAA,QAAQ,CAACzsB,CAAD,CAAR,GAAcysB,QAAQ,CAACzsB,CAAD,CAAR,CAAYJ,OAAZ,CAAoB,KAApB,EAA2B,MAAMiR,QAAN,GAAiB,GAA5C,CAAd;EACP;EACJ;;EACD,MAAI4b,QAAQ,CAACptB,MAAT,GAAkB,CAAtB,EAAyB;EACrB,SAAK,IAAIW,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGgN,QAAQ,CAACptB,MAA/B,EAAuCW,CAAC,GAAGyf,GAA3C,EAAgDzf,CAAC,EAAjD;EACI0a,MAAAA,GAAG,CAAChY,IAAJ,CAASsP,eAAe,CAACya,QAAQ,CAACzsB,CAAD,CAAT,EAAcye,CAAd,CAAxB;EADJ;EAEH;;EACD,OAAK,IAAIze,CAAC,GAAG,CAAR,EAAWqL,GAAG,GAAGqP,GAAG,CAACrb,MAA1B,EAAkCW,CAAC,GAAGqL,GAAtC,EAA2CrL,CAAC,EAA5C;EAAgD;EAC5C8D,IAAAA,IAAI,CAAC,OAAO9D,CAAC,GAAG,CAAX,CAAD,CAAJ,GAAsB0a,GAAG,CAAC1a,CAAD,CAAH,CAAOuR,IAAP,CAAYtL,EAAE,CAAC0U,yBAAf,CAAtB;EADJ;;EAGA9F,EAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAomB,EAAAA,GAAG,CAACC,QAAJ,CAAa;EACTgC,IAAAA,MAAM,EAAE,IADC;EAETC,IAAAA,QAAQ,EAAEj+B,IAAI,CAAC+b,CAFN;EAGTmiB,IAAAA,SAAS,EAAE,EAHF;EAITC,IAAAA,kBAAkB,EAAE,KAJX;EAKTC,IAAAA,QAAQ,EAAE,SALD;EAMTC,IAAAA,SAAS,EAAE,IANF;EAOTC,IAAAA,mBAAmB,EAAE,IAPZ;EAQTC,IAAAA,WAAW,EAAE,CAAC,CAACv+B,IAAI,CAACwJ,CARX;EAST6I,IAAAA,OAAO,EAAE;EACL,oBAAc,oBAASmsB,QAAT,EAAmBC,QAAnB,EAA6B;EACvC,YAAIh8B,KAAK,GAAGL,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkB6F,IAAlB,EAAwB;EAChC+N,UAAAA,IAAI,EAAE,OAD0B;EAEhCiJ,UAAAA,KAAK,EAAE8iB,QAAQ,CAAC9iB,KAFgB;EAGhC+iB,UAAAA,UAAU,EAAED,QAAQ,CAACC;EAHW,SAAxB,CAAZ;;EAKA,YAAI//B,CAAC,CAAC6H,QAAF,CAAWg4B,QAAX,CAAJ;EACIp8B,UAAAA,MAAM,CAACtD,MAAP,CAAc2D,KAAd,EAAqB+7B,QAArB;EACJ,eAAO7/B,CAAC,CAAC+T,IAAF,CAAOuJ,SAAS,CAACnV,EAAE,CAACoV,iBAAJ,CAAhB,EAAwC;EACvCrc,UAAAA,IAAI,EAAE,MADiC;EAEvCgW,UAAAA,QAAQ,EAAE,MAF6B;EAGvClR,UAAAA,IAAI,EAAElC;EAHiC,SAAxC,EAIAqT,IAJA,CAIKunB,OAJL,EAIcpnB,MAJd,CAIqB,YAAW;EAC/BP,UAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,SANE,CAAP;EAOH;EAhBI,KATA;EA2BTgpB,IAAAA,QAAQ,EAAE;EACNC,MAAAA,wBAAwB,EAAE93B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,0BAAnB,CADpB;EAEN63B,MAAAA,cAAc,EAAE,iBAAiB/3B,EAAE,CAACg4B,YAApB,GAAmC,uDAAnC,GAA6Fh4B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,SAAnB,CAA7F,GAA6H,eAFvI;EAGN+3B,MAAAA,eAAe,EAAEj4B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,UAAnB,CAHX;EAIN6X,MAAAA,KAAK,EAAE/X,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,UAAnB,CAJD;EAKNg4B,MAAAA,UAAU,EAAEl4B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,QAAnB,IAA+B,WAA/B,GAA6CF,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,IAAnB,CAA7C,GAAwE,MAL9E;EAMNi4B,MAAAA,mBAAmB,EAAEn4B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,gBAAnB,CANf;EAONk4B,MAAAA,aAAa,EAAEp4B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,MAAnB;EAPT,KA3BD;EAoCT8S,IAAAA,MAAM,EAAE;EACJ,YAAM;EAAEiV,QAAAA,GAAG,EAAE,IAAP;EAAa7d,QAAAA,IAAI,EAAE;EAAnB,OADF;EAEJ,YAAM;EAFF,KApCC;EAwCTiuB,IAAAA,aAAa,EAAE,uBAAS94B,CAAT,EAAY1B,IAAZ,EAAkB;EAC7B,UAAIy6B,YAAY,GAAGzgC,CAAC,CAAC0H,CAAC,CAACiD,MAAH,CAAD,CAAYlC,IAAZ,CAAiB,oBAAjB,EAAuCG,MAAvC,CAA8C,YAAW;EACxE,eAAOo2B,WAAW,CAAC/2B,QAAZ,CAAqBtG,MAAM,CAAC3B,CAAC,CAAC,IAAD,CAAD,CAAQgG,IAAR,CAAa,YAAb,CAAD,CAA3B,CAAP;EACH,OAFkB,CAAnB;EAGAhG,MAAAA,CAAC,CAAC0H,CAAC,CAACiD,MAAH,CAAD,CAAY0yB,QAAZ,CAAqB,YAArB,EAAmCoD,YAAnC;EACH,KA7CQ;EA8CTC,IAAAA,gBAAgB,EAAE,0BAASh5B,CAAT,EAAY1B,IAAZ,EAAkB;EAChC,UAAI8vB,KAAK,GAAG9vB,IAAI,CAAC+uB,IAAjB;;EACA,UAAIe,KAAJ,EAAW;EACP,YAAI,CAACz0B,IAAI,CAACwJ,CAAV,EACIm0B,WAAW,GAAG,EAAd;EACJlJ,QAAAA,KAAK,CAAC/zB,IAAN,CAAW,YAAW;EAClB,cAAI6f,IAAI,GAAG5hB,CAAC,CAAC,IAAD,CAAZ;EACA,cAAIowB,GAAG,GAAGzuB,MAAM,CAACigB,IAAI,CAAC5b,IAAL,CAAU,YAAV,CAAD,CAAhB;EACA,cAAIwE,KAAK,GAAGw0B,WAAW,CAAC2B,OAAZ,CAAoBvQ,GAApB,CAAZ;EACA,cAAI7rB,QAAQ,GAAGqd,IAAI,CAACvY,QAAL,CAAc,uBAAd,CAAf;EACA,cAAI9E,QAAQ,IAAIiG,KAAK,IAAI,CAAC,CAA1B,EACIw0B,WAAW,CAACp6B,IAAZ,CAAiBwrB,GAAjB,EADJ,KAEK,IAAI,CAAC7rB,QAAD,IAAaiG,KAAK,GAAG,CAAC,CAA1B,EACDw0B,WAAW,CAACnnB,MAAZ,CAAmBrN,KAAnB,EAA0B,CAA1B;EACP,SATD;EAUH;EACJ;EA9DQ,GAAb,EA+DG6yB,QA/DH,CA+DY,MA/DZ,EA+DoB,IA/DpB,EA+D0BhmB,OA/D1B;EAgEH;EAED;;;;;;;;;EAQO,SAASupB,gBAAT,CAA0Bv/B,IAA1B,EAAgC;EACnCrB,EAAAA,CAAC,CAACqB,IAAI,CAACg6B,GAAN,CAAD,CAAYxW,OAAZ,CAAoB,MAApB;EACA,MAAIoW,IAAI,GAAG9yB,EAAE,CAAC04B,YAAH,IAAmB7gC,CAAC,CAAC,mBAAD,CAA/B;;EACA,MAAI,CAACi7B,IAAI,CAAC,CAAD,CAAT,EAAc;EACVlH,IAAAA,MAAM,CAAC,kCAAD,CAAN;;EACA,WAAO,KAAP;EACH;;EAED,MAAI9V,MAAM,GAAGgd,IAAI,CAACxyB,IAAL,CAAU,cAAV,CAAb;EAAA,MACI20B,GAAG,GAAGnC,IAAI,CAACxyB,IAAL,CAAU,aAAV,CADV;EAAA,MAEIq4B,KAAK,GAAG1D,GAAG,CAAC30B,IAAJ,CAAS,yBAAT,CAFZ;EAAA,MAGI4Y,QAAQ,GAAG+b,GAAG,CAAC30B,IAAJ,CAAS,UAAT,CAHf;EAAA,MAIIs4B,SAAS,GAAG3D,GAAG,CAAC30B,IAAJ,CAAS,WAAT,CAJhB;EAAA,MAKIyV,KALJ,CARmC;;EAqBnC,MAAI8iB,aAAa,GAAG,SAAhBA,aAAgB,GAAW;EAC3B/F,IAAAA,IAAI,CAACxyB,IAAL,CAAU,oBAAV,EAAgCc,IAAhC,CAAqC,UAArC,EAAiD,KAAjD;EACH,GAFD,CArBmC;;EA0BnC,MAAIyoB,WAAW,GAAG,SAAdA,WAAc,CAASlc,GAAT,EAAcmrB,SAAd,EAAyB;EACvC,QAAIC,IAAI,GAAGlhC,CAAC,CAAC,UAAU8V,GAAV,GAAgB,QAAjB,CAAZ;EACA,QAAImrB,SAAJ,EACIC,IAAI,CAAChwB,QAAL,CAAc+vB,SAAd;EACJ5f,IAAAA,QAAQ,CAACjQ,WAAT,CAAqB,QAArB,EAA+BuJ,IAA/B,CAAoCumB,IAApC;EACA,QAAID,SAAS,IAAI,aAAjB,EACID,aAAa;EACpB,GAPD,CA1BmC;;EAoCnC,MAAIG,WAAW,GAAG,SAAdA,WAAc,GAAW;EACzB9f,IAAAA,QAAQ,CAACnQ,QAAT,CAAkB,QAAlB,EAA4ByJ,IAA5B,CAAiC,EAAjC;EACH,GAFD,CApCmC;;EAyCnC,MAAIymB,YAAY,GAAG,SAAfA,YAAe,CAASC,EAAT,EAAaJ,SAAb,EAAwB;EACvCF,IAAAA,SAAS,CAAC3vB,WAAV,CAAsB,QAAtB,EAAgC3I,IAAhC,CAAqC,eAArC,EAAsD2I,WAAtD,CAAkE,oBAAlE,EAAwFF,QAAxF,CAAiG+vB,SAAS,IAAI,YAA9G,EACKr2B,IADL,CACU,eADV,EAC2By2B,EAD3B,EAC+BrqB,GAD/B,CACmC,OADnC,EAC4CqqB,EAAE,GAAG,GADjD,EACsD1mB,IADtD,CAC2D0mB,EAAE,GAAG,GADhE;EAEH,GAHD,CAzCmC;;EA+CnC,MAAIC,YAAY,GAAG,SAAfA,YAAe,GAAW;EAC1BP,IAAAA,SAAS,CAAC7vB,QAAV,CAAmB,QAAnB,EAA6BzI,IAA7B,CAAkC,eAAlC,EAAmDmC,IAAnD,CAAwD,eAAxD,EAAyE,CAAzE,EAA4EoM,GAA5E,CAAgF,OAAhF,EAAyF,IAAzF,EAA+F2D,IAA/F,CAAoG,IAApG;EACH,GAFD,CA/CmC;;EAoDnC,MAAI4mB,cAAc,GAAG,SAAjBA,cAAiB,CAASv7B,IAAT,EAAe;EAChC,QAAIq7B,EAAE,GAAGp3B,QAAQ,CAAC,MAAMjE,IAAI,CAACw7B,MAAX,GAAoBx7B,IAAI,CAACy7B,KAA1B,CAAjB;EACAL,IAAAA,YAAY,CAACC,EAAD,EAAK,SAAL,CAAZ;;EACA,QAAIA,EAAE,KAAK,GAAX,EAAgB;EACZrP,MAAAA,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,6BAAnB,CAAD,EAAoD,WAApD,CAAX;EACH,KAFD,MAEO;EACH2pB,MAAAA,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,6BAAnB,EAAkDvG,OAAlD,CAA0D,IAA1D,EAAgEu/B,EAAhE,CAAD,EAAsE,WAAtE,CAAX;EACH;EACJ,GARD,CApDmC;;EA+DnC,MAAIK,cAAc,GAAG,SAAjBA,cAAiB,CAAStqB,MAAT,EAAiB;EAClC,QAAI;EACA,UAAI7J,GAAG,GAAGtD,QAAQ,CAACmN,MAAM,CAAC+H,KAAR,CAAlB;EAAA,UAAkCwiB,IAAI,GAAG13B,QAAQ,CAACmN,MAAM,CAACwqB,UAAR,CAAjD;EAAA,UAAsE5gC,QAAQ,GAAGoW,MAAM,CAACjT,IAAxF;;EACA,UAAIw9B,IAAI,GAAG,CAAP,IAAY1G,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCzC,IAAzC,CAA8C,iBAA9C,CAAhB,EAAkF;EAAE;EAChF,YAAIq7B,EAAE,GAAGp3B,QAAQ,CAAC,MAAMsD,GAAN,GAAYo0B,IAAb,CAAjB;EACAP,QAAAA,YAAY,CAACC,EAAD,CAAZ;EACArP,QAAAA,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,uBAAnB,EAA4CvG,OAA5C,CAAoD,IAApD,EAA0D6/B,IAA1D,EAAgE7/B,OAAhE,CAAwE,IAAxE,EAA8EyL,GAA9E,EAAmFzL,OAAnF,CAA2F,IAA3F,EAAiGd,QAAjG,CAAD,EAA6G,WAA7G,CAAX;EACH;EACJ,KAPD,CAOE,OAAM0G,CAAN,EAAS;EACd,GATD,CA/DmC;;EA2EnC,MAAIm6B,cAAc,GAAG,SAAjBA,cAAiB,GAAW;EAC5B,QAAIz7B,GAAG,GAAGkX,SAAS,CAACnV,EAAE,CAAC25B,mBAAJ,CAAnB;EAAA,QAA6C97B,IAAI,GAAG;EAAE,aAAON,MAAM;EAAf,KAApD;EACAM,IAAAA,IAAI,CAACmC,EAAE,CAAC45B,mBAAJ,CAAJ,GAA+B9jB,MAAM,CAACjY,IAAP,CAAYmC,EAAE,CAAC45B,mBAAf,CAA/B;EACA/hC,IAAAA,CAAC,CAACmF,GAAF,CAAMiB,GAAN,EAAWJ,IAAX,EAAiB07B,cAAjB,EAAiC,MAAjC;EACH,GAJD,CA3EmC;;EAkFnC,MAAIM,cAAc,GAAG,SAAjBA,cAAiB,CAAS5qB,MAAT,EAAiB;EAClC,QAAI6qB,aAAa,GAAG,CAApB;EACA,QAAInsB,GAAG,GAAG,EAAV;EACAsrB,IAAAA,YAAY,CAAC,GAAD,CAAZ;EACA,QAAIc,WAAW,GAAG9qB,MAAM,CAAClT,KAAzB;EACA+2B,IAAAA,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCzC,IAAzC,CAA8C,iBAA9C,EAAiE,KAAjE,EALkC;;EAMlC,QAAI2R,KAAK,CAACC,OAAN,CAAcsqB,WAAd,CAAJ,EAAgC;EAC5B,WAAK,IAAIhgC,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGugB,WAAW,CAAC3gC,MAAlC,EAA0CW,CAAC,GAAGyf,GAA9C,EAAmDzf,CAAC,EAApD,EAAwD;EACpD,YAAIigC,UAAU,GAAGD,WAAW,CAAChgC,CAAD,CAA5B;EAAA,YACIy/B,IAAI,GAAGQ,UAAU,CAACP,UAAX,IAAyB,CADpC;EAAA,YAEIr0B,GAAG,GAAG40B,UAAU,CAAChjB,KAAX,IAAoB,CAF9B;EAAA,YAGIijB,IAAI,GAAGD,UAAU,CAACE,YAAX,IAA2B,CAHtC;EAAA,YAIIC,IAAI,GAAGH,UAAU,CAACI,SAAX,IAAwB,CAJnC;EAKA,YAAIzsB,GAAG,IAAI,EAAX,EACIA,GAAG,IAAI,MAAP;;EACJ,YAAIqsB,UAAU,CAAC9qB,OAAf,EAAwB;EACpBvB,UAAAA,GAAG,IAAI3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,sBAAnB,EAA2CvG,OAA3C,CAAmD,IAAnD,EAAyD6/B,IAAzD,EAA+D7/B,OAA/D,CAAuE,IAAvE,EAA6EyL,GAA7E,EAAkFzL,OAAlF,CAA0F,IAA1F,EAAgGqgC,UAAU,CAACh+B,IAA3G,CAAP;EACH,SAFD,MAEO;EACH2R,UAAAA,GAAG,IAAI3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CvG,OAA1C,CAAkD,IAAlD,EAAwD6/B,IAAxD,EAA8D7/B,OAA9D,CAAsE,IAAtE,EAA4EyL,GAA5E,EAAiFzL,OAAjF,CAAyF,IAAzF,EAA+FqgC,UAAU,CAACh+B,IAA1G,EAAgHrC,OAAhH,CAAwH,IAAxH,EAA8HsgC,IAA9H,EAAoItgC,OAApI,CAA4I,IAA5I,EAAkJwgC,IAAlJ,CAAP;EACA,cAAIH,UAAU,CAACrtB,KAAf,EACIgB,GAAG,IAAI3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CvG,OAA1C,CAAkD,IAAlD,EAAwDqgC,UAAU,CAACrtB,KAAnE,CAAP;EACJ,cAAI0tB,OAAO,GAAG,IAAd;;EACA,cAAIL,UAAU,CAACM,QAAf,EAAyB;EACrB,gBAAIC,IAAI,GAAG,CAAX;;EACA,iBAAK,IAAIxgC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIqL,GAArB,EAA0BrL,CAAC,EAA3B,EAA+B;EAC3B,kBAAIigC,UAAU,CAACM,QAAX,CAAoB,QAAQvgC,CAA5B,CAAJ,EAAoC;EAChCwgC,gBAAAA,IAAI,IAAI,CAAR;EACA5sB,gBAAAA,GAAG,IAAI,SAAS3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CvG,OAA1C,CAAkD,IAAlD,EAAwDI,CAAxD,EAA2DJ,OAA3D,CAAmE,IAAnE,EAAyEqgC,UAAU,CAACM,QAAX,CAAoB,QAAQvgC,CAA5B,CAAzE,CAAhB;EACH;;EACD,kBAAIwgC,IAAI,IAAIT,aAAZ,EACI;EACP;;EACD,gBAAIK,IAAI,GAAGL,aAAX,EACInsB,GAAG,IAAI,SAAS3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,mBAAnB,EAAwCvG,OAAxC,CAAgD,IAAhD,EAAsDwgC,IAAI,GAAGL,aAA7D,CAAhB,CADJ,KAGIO,OAAO,GAAG,KAAV;EACP;;EACD,cAAIL,UAAU,CAACntB,GAAX,IAAkBwtB,OAAtB,EACI1sB,GAAG,IAAI,SAAS3N,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CvG,OAA1C,CAAkD,IAAlD,EAAwDqgC,UAAU,CAACntB,GAAnE,CAAhB;EACJgd,UAAAA,WAAW,CAAClc,GAAD,EAAM,aAAN,CAAX,CAtBG;EAuBN;EACJ;EACJ;;EACD,QAAIsB,MAAM,CAACC,OAAX,EAAoB;EAChB2a,MAAAA,WAAW,CAAClc,GAAD,EAAM,cAAN,CAAX;EACAmlB,MAAAA,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCzC,IAAzC,CAA8C,UAA9C,EAA0D,IAA1D;EACH,KAHD,MAGO;EACH,UAAIoR,MAAM,CAACtC,KAAX,EACIgB,GAAG,GAAGsB,MAAM,CAACtC,KAAb;EACJkd,MAAAA,WAAW,CAAClc,GAAD,EAAM,aAAN,CAAX,CAHG;EAIN;;EACDwrB,IAAAA,YAAY;EACf,GApDD,CAlFmC;;EAyInC,MAAIqB,UAAU,GAAG,SAAbA,UAAa,CAASlxB,CAAT,EAAY;EACzBwpB,IAAAA,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCzC,IAAzC,CAA8C,iBAA9C,EAAiE,KAAjE,EADyB;;EAEzBgsB,IAAAA,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,0BAAnB,EAA+CvG,OAA/C,CAAuD,IAAvD,EAA6D2P,CAAC,CAACkrB,MAA/D,EAAuE76B,OAAvE,CAA+E,IAA/E,EAAqF2P,CAAC,CAACmrB,UAAvF,CAAD,EAAqG,aAArG,CAAX;EACH,GAHD,CAzImC;;EA+InC,MAAIgG,WAAW,GAAG,SAAdA,WAAc,CAASC,SAAT,EAAoB;EAClC9rB,IAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACAiH,IAAAA,MAAM,CAACjY,IAAP,CAAYmC,EAAE,CAAC45B,mBAAf,EAAoCc,SAApC;EACA5H,IAAAA,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCzC,IAAzC,CAA8C,iBAA9C,EAAiE,IAAjE,EAHkC;;EAIlC,QAAIA,IAAI,GAAGmC,EAAE,CAACqe,eAAH,GAAqB,UAArB,GAAkCre,EAAE,CAAC45B,mBAArC,GAA2D,GAA3D,GAAiExb,kBAAkB,CAACsc,SAAD,CAA9F;EACA,QAAI/B,KAAK,CAACv/B,MAAV,EACIyE,IAAI,IAAI,MAAM86B,KAAK,CAAClN,SAAN,EAAd;EACJ5zB,IAAAA,CAAC,CAAC+T,IAAF,CAAOkD,WAAW,EAAlB,EAAsB;EAClB,cAAQjR,IADU;EAElB,gBAAU,MAFQ;EAGlB,kBAAY,MAHM;EAIlB,oBAAc,oBAAS88B,GAAT,EAAc5tB,QAAd,EAAwB;EAClCgJ,QAAAA,KAAK,GAAGle,CAAC,CAACgW,KAAF,CAAQ,GAAR,EAAa,IAAb,EAAmB6rB,cAAnB,EAAmC,IAAnC,EAAyC,IAAzC,CAAR,CADkC;EAErC;EANiB,KAAtB,EAOG1qB,IAPH,CAOQ6qB,cAPR,EAOwBzX,IAPxB,CAO6BoY,UAP7B,EAOyCrrB,MAPzC,CAOgD,YAAW;EACvDP,MAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACA,UAAIkH,KAAJ,EACIA,KAAK,CAACgB,MAAN,GAHmD;EAI1D,KAXD;EAYH,GAnBD;;EAqBA,MAAI6jB,QAAQ,GAAG;EAAEC,IAAAA,OAAO,EAAE76B,EAAE,CAAC86B;EAAd,GAAf;EACAF,EAAAA,QAAQ,CAAC56B,EAAE,CAAC6P,cAAJ,CAAR,GAA8B7P,EAAE,CAAC8P,UAAjC,CArKmC;;EAsKnC8qB,EAAAA,QAAQ,CAAC56B,EAAE,CAAC+P,qBAAJ,CAAR,GAAqC/P,EAAE,CAACgQ,iBAAxC,CAtKmC;;EAuKnC,MAAI9T,OAAO,GAAG8D,EAAE,CAAC+6B,mBAAjB;EACA,MAAI,CAAC7+B,OAAO,CAAC8+B,eAAb,EACI9+B,OAAO,CAAC8+B,eAAR,GAA0B,IAAIt2B,MAAJ,CAAW,SAAS1E,EAAE,CAACi7B,uBAAH,CAA2BthC,OAA3B,CAAmC,IAAnC,EAAyC,GAAzC,CAAT,GAAyD,IAApE,EAA0E,GAA1E,CAA1B;;EAEJ,MAAI,CAACmc,MAAM,CAACjY,IAAP,CAAY,mBAAZ,CAAL,EAAuC;EACnCiY,IAAAA,MAAM,CAAColB,UAAP,CAAkB5/B,MAAM,CAACtD,MAAP,CAAc;EACxBiG,MAAAA,GAAG,EAAEkX,SAAS,CAACnV,EAAE,CAACm7B,iBAAJ,CADU;EAExBpsB,MAAAA,QAAQ,EAAE,MAFc;EAGxBqsB,MAAAA,UAAU,EAAE,IAHY;EAIxBR,MAAAA,QAAQ,EAAEA,QAJc;EAKxBS,MAAAA,iBAAiB,EAAE,KALK;EAMxBxD,MAAAA,QAAQ,EAAE;EACNmD,QAAAA,eAAe,EAAEh7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,6BAAnB,CADX;EAENo7B,QAAAA,WAAW,EAAEt7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,yBAAnB,CAFP;EAGNq7B,QAAAA,gBAAgB,EAAEv7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,8BAAnB,CAHZ;EAINs7B,QAAAA,WAAW,EAAEx7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,yBAAnB;EAJP,OANc;EAYxB8O,MAAAA,IAAI,EAAE,cAASzP,CAAT,EAAY1B,IAAZ,EAAkB;EACpB,YAAIA,IAAI,CAACoR,MAAL,IAAepR,IAAI,CAACoR,MAAL,CAAYlT,KAA3B,IAAoCyT,KAAK,CAACC,OAAN,CAAc5R,IAAI,CAACoR,MAAL,CAAYlT,KAAZ,CAAkB0/B,WAAhC,CAAxC,EAAsF;EAClF,cAAIC,EAAE,GAAG,IAAT;EACA79B,UAAAA,IAAI,CAACoR,MAAL,CAAYlT,KAAZ,CAAkB0/B,WAAlB,CAA8B7+B,OAA9B,CAAsC,UAASZ,IAAT,EAAeqG,KAAf,EAAsB;EACxD,gBAAIrG,IAAI,CAAC2Q,KAAT,EAAgB;EACZkd,cAAAA,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,0BAAnB,EAA+CvG,OAA/C,CAAuD,IAAvD,EAA6DqC,IAAI,CAACzC,IAAlE,EAAwEI,OAAxE,CAAgF,IAAhF,EAAsFqC,IAAI,CAAC2Q,KAA3F,CAAD,EAAoG,aAApG,CAAX;EACA+uB,cAAAA,EAAE,GAAG,KAAL;EACH;EACJ,WALD,EAFkF;;EAQlF,cAAIA,EAAJ,EACIjB,WAAW,CAAC58B,IAAI,CAACoR,MAAL,CAAYjP,EAAE,CAAC45B,mBAAf,CAAD,CAAX,CAT8E;EAUrF;EACJ,OAxBuB;EAyBxBhpB,MAAAA,MAAM,EAAE,gBAASrR,CAAT,EAAY1B,IAAZ,EAAkB;EACtBm7B,QAAAA,WAAW;EACd,OA3BuB;EA4BxB2C,MAAAA,WAAW,EAAE,qBAASp8B,CAAT,EAAY1B,IAAZ,EAAkB;EAC3BA,QAAAA,IAAI,CAAC9B,KAAL,CAAWa,OAAX,CAAmB,UAASZ,IAAT,EAAeqG,KAAf,EAAsB;EACrC,cAAIrG,IAAI,CAAC2Q,KAAT,EACIkd,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,0BAAnB,EAA+CvG,OAA/C,CAAuD,IAAvD,EAA6DqC,IAAI,CAACzC,IAAlE,EAAwEI,OAAxE,CAAgF,IAAhF,EAAsFqC,IAAI,CAAC2Q,KAA3F,CAAD,EAAoG,aAApG,CAAX;EACP,SAHD,EAD2B;EAK9B,OAjCuB;EAkCxByV,MAAAA,IAAI,EAAE,cAAS7iB,CAAT,EAAY1B,IAAZ,EAAkB;EACpBgsB,QAAAA,WAAW,CAAC7pB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,0BAAnB,EAA+CvG,OAA/C,CAAuD,IAAvD,EAA6DkE,IAAI,CAAC8jB,UAAlE,EAA8EhoB,OAA9E,CAAsF,IAAtF,EAA4FkE,IAAI,CAAC+9B,WAAjG,CAAD,EAAgH,aAAhH,CAAX;EACH,OApCuB;EAqCxBC,MAAAA,WAAW,EAAE,qBAASt8B,CAAT,EAAY1B,IAAZ,EAAkB;EAC3Bu7B,QAAAA,cAAc,CAACv7B,IAAD,CAAd;EACH;EAvCuB,KAAd,EAwCf3B,OAxCe,CAAlB;EAyCH;;EAED42B,EAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX,EAAmBhzB,IAAnB,CAAwB,cAAxB,EAAwCkS,IAAxC,CAA6CtZ,IAAI,CAAC4iC,GAAlD;EACAhJ,EAAAA,IAAI,CAACxyB,IAAL,CAAU,6BAAV,EAAyCE,GAAzC,CAA6C,UAA7C,EAAyDQ,EAAzD,CAA4D,UAA5D,EAAwE,YAAW;EAC/E,QAAIC,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;;EACA,QAAIoJ,KAAK,CAACpD,IAAN,CAAW,UAAX,CAAJ,EAA4B;EACxBoD,MAAAA,KAAK,CAACpD,IAAN,CAAW,UAAX,EAAuB,KAAvB;EACA7D,MAAAA,MAAM,CAACsX,QAAP,CAAgB6jB,MAAhB,CAAuB,IAAvB;EACH;EACJ,GAND;EAOA6D,EAAAA,WAAW;EACXh5B,EAAAA,EAAE,CAAC04B,YAAH,GAAkB5F,IAAI,CAACQ,KAAL,CAAW,MAAX,CAAlB;EACA,SAAO,KAAP;EACH;;EAGM,SAASnM,QAAT,CAAkBtlB,EAAlB,EAAsB;EACzB,MAAI2W,CAAC,GAAGjH,KAAK,CAACvU,GAAN,CAAU6E,EAAV,EAAcsG,QAAd,CAAuB,CAAvB,CAAR;EACA,MAAI,CAACqQ,CAAL,EACI;EACJ,MAAIpP,EAAE,GAAG2C,eAAe,CAAClK,EAAD,CAAxB;EAAA,MACIG,EAAE,GAAG4kB,KAAK,CAAC/kB,EAAD,CADd;EAAA,MAEIa,CAAC,GAAGV,EAAE,CAACyC,KAAH,CAAS,eAAT,CAFR;EAAA,MAGImG,QAAQ,GAAIlI,CAAD,GAAMA,CAAC,CAAC,CAAD,CAAP,GAAa,EAH5B;EAAA,MAII0H,IAAI,GAAGmH,KAAK,CAACvU,GAAN,CAAU6E,EAAV,EAAcqI,OAAd,CAAsBlI,EAAtB,CAJX;EAAA,MAKI+5B,UAAU,GAAG3xB,IAAI,CAAC8c,oBALtB;;EAMA,MAAIhY,OAAO,GAAG,SAAVA,OAAU,CAASrR,IAAT,EAAe;EACzB,QAAI0X,OAAO,GAAG1X,IAAI,IAAIA,IAAI,CAAC4X,OAAb,IAAwB,EAAtC;EACA,QAAIxG,MAAM,GAAIsG,OAAD,GAAYA,OAAO,CAAC,CAAD,CAAnB,GAAyB,EAAtC;;EACA,SAAK,IAAI3L,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmyB,UAAU,CAAC3iC,MAA/B,EAAuCwQ,CAAC,EAAxC,EAA4C;EACxC,UAAIoyB,MAAM,GAAGvxB,WAAW,CAACsxB,UAAU,CAACnyB,CAAD,CAAV,CAAcjQ,OAAd,CAAsB,KAAtB,EAA6B,MAAMiR,QAAN,GAAiB,GAA9C,CAAD,EAAqD4N,CAArD,CAAxB;;EACA,UAAIwjB,MAAJ,EAAY;EACR,YAAI33B,GAAG,GAAIxM,CAAC,CAACoyB,OAAF,CAAUhb,MAAM,CAAC,OAAOrF,CAAR,CAAhB,CAAD,GAAgCqF,MAAM,CAAC,OAAOrF,CAAR,CAAtC,GAAmD,EAA7D;EACA,YAAI1Q,IAAI,GAAG;EAACqc,UAAAA,OAAO,EAAEA,OAAV;EAAmBtG,UAAAA,MAAM,EAAEA,MAA3B;EAAmCpR,UAAAA,IAAI,EAAEwG,GAAzC;EAA8C3I,UAAAA,IAAI,EAAE8c,CAApD;EAAuDjf,UAAAA,IAAI,EAAEyI,EAA7D;EAAiEQ,UAAAA,MAAM,EAAEu5B,UAAU,CAACnyB,CAAD,CAAnF;EAAwFmN,UAAAA,MAAM,EAAE,KAAhG;EAAuGhU,UAAAA,OAAO,EAAE;EAAhH,SAAX;EACAlL,QAAAA,CAAC,CAACgK,EAAD,CAAD,CAAMkB,OAAN,CAAc,UAAd,EAA0B,CAAC7J,IAAD,CAA1B,EAHQ;;EAIR,YAAIA,IAAI,CAAC6d,MAAT,EACI;EACJ1S,QAAAA,GAAG,GAAGnL,IAAI,CAAC2E,IAAX,CANQ;;EAOR,YAAIm+B,MAAM,CAAC9/B,OAAX,EAAoB;EAAE;EAClByrB,UAAAA,YAAY,CAACqU,MAAD,EAAS33B,GAAG,CAAC8G,KAAJ,CAAU,GAAV,CAAT,CAAZ;;EACA,cAAI+I,aAAa,CAAC8nB,MAAD,CAAjB,EAA2B;EAAE;EACzBA,YAAAA,MAAM,CAACl+B,KAAP,CAAalF,KAAb,GAAqByL,GAArB;EACA2H,YAAAA,aAAa,CAACjP,IAAd,CAAmBwU,KAAK,CAACvU,GAAN,CAAUwb,CAAC,CAACxW,EAAZ,CAAnB,EAAoCg6B,MAApC;EACH,WAHD,MAGO,IAAIjU,aAAa,CAACiU,MAAD,CAAjB,EAA2B;EAAE;EAChC;EACAhwB,YAAAA,aAAa,CAACjP,IAAd,CAAmBwU,KAAK,CAACvU,GAAN,CAAUwb,CAAC,CAACxW,EAAZ,CAAnB,EAAoCg6B,MAApC;EACH;EACJ,SATD,MASO,IAAIjQ,gBAAgB,CAACiQ,MAAD,CAApB,EAA8B;EAAE;EACnCA,UAAAA,MAAM,CAACpjC,KAAP,GAAeyL,GAAf;EACAxM,UAAAA,CAAC,CAACmkC,MAAD,CAAD,CAAUn+B,IAAV,CAAe,QAAf,EAAyBX,GAAzB;EACH,SAHM,MAGA;EACH8+B,UAAAA,MAAM,CAACpjC,KAAP,GAAeyL,GAAf;EACH;;EACD,YAAInL,IAAI,CAAC6J,OAAT,EACIlL,CAAC,CAACmkC,MAAD,CAAD,CAAUprB,MAAV;EACP;EACJ;;EACD,WAAO3B,MAAP;EACH,GAhCD;;EAiCA,MAAI7F,EAAE,CAAChQ,MAAH,GAAY,CAAZ,IAAiBgQ,EAAE,CAAC,CAAD,CAAF,IAAS,EAA9B,EAAkC;EAC9B,QAAIvL,IAAI,GAAGvC,MAAM,CAACtD,MAAP,CAAc;EACrBsc,MAAAA,IAAI,EAAElK,IAAI,CAACkK,IADU;EAErBnB,MAAAA,KAAK,EAAE/I,IAAI,CAAC+I,KAFS;EAGrBvH,MAAAA,IAAI,EAAE,UAHe;EAIrBqwB,MAAAA,EAAE,EAAE7yB,EAAE,CAAC,CAAD,CAJe;EAKrBnJ,MAAAA,QAAQ,EAAED,EAAE,CAACuU;EALQ,KAAd,EAMRC,aAAa,CAAC,QAAQxS,EAAT,EAAawW,CAAb,CANL,CAAX,CAD8B;;EAS9B,QAAIgO,QAAQ,GAAGpc,IAAI,CAACsB,YAAL,CAAkBC,KAAlB,EAAf,CAT8B;;EAU9B,QAAIf,QAAQ,IAAI,EAAhB,EAAoB;EAChB,WAAK,IAAI7Q,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGgN,QAAQ,CAACptB,MAA/B,EAAuCW,CAAC,GAAGyf,GAA3C,EAAgDzf,CAAC,EAAjD,EAAqD;EACjD,YAAIqP,EAAE,GAAGod,QAAQ,CAACzsB,CAAD,CAAR,CAAYoR,KAAZ,CAAkB,GAAlB,CAAT;EACA,YAAI/B,EAAE,CAAChQ,MAAH,IAAa,CAAjB;EACIotB,UAAAA,QAAQ,CAACzsB,CAAD,CAAR,GAAcysB,QAAQ,CAACzsB,CAAD,CAAR,CAAYJ,OAAZ,CAAoB,KAApB,EAA2B,MAAMiR,QAAN,GAAiB,GAA5C,CAAd;EACP;EACJ;;EACD,QAAI6J,GAAG,GAAG+R,QAAQ,CAAChqB,GAAT,CAAa,UAAS0/B,GAAT,EAAc;EACjC,aAAOnwB,eAAe,CAACmwB,GAAD,EAAM1jB,CAAN,CAAtB;EACH,KAFS,CAAV;;EAGA,SAAK,IAAIze,CAAC,GAAG,CAAR,EAAWqL,GAAG,GAAGqP,GAAG,CAACrb,MAA1B,EAAkCW,CAAC,GAAGqL,GAAtC,EAA2CrL,CAAC,EAA5C;EAAgD;EAC5C8D,MAAAA,IAAI,CAAC,OAAO9D,CAAC,GAAG,CAAX,CAAD,CAAJ,GAAsB0a,GAAG,CAAC1a,CAAD,CAAH,CAAOuR,IAAP,CAAYtL,EAAE,CAAC0U,yBAAf,CAAtB;EADJ;;EAEA,WAAO7c,CAAC,CAAC+xB,IAAF,CAAOzU,SAAS,CAACnV,EAAE,CAACoV,iBAAJ,CAAhB,EAAwCvX,IAAxC,EAA8CqR,OAA9C,EAAuD,MAAvD,CAAP;EACH;;EACD,SAAOA,OAAO,EAAd;EACH;;EAGM,SAASwN,OAAT,CAAiB3iB,CAAjB,EAAoB8H,EAApB,EAAwB;EAC3B,MAAIZ,KAAK,GAAGpJ,CAAC,CAACgK,EAAD,CAAb;EAAA,MAAmBs6B,GAAG,GAAGtkC,CAAC,CAAC,MAAMoJ,KAAK,CAACpD,IAAN,CAAW,YAAX,CAAP,CAA1B;EAAA,MACIu+B,IAAI,GAAGn7B,KAAK,CAACpD,IAAN,CAAW,SAAX,KAAyB,OADpC;EAAA,MAC6Cw+B,GAAG,GAAGp7B,KAAK,CAACpD,IAAN,CAAW,WAAX,MAA4BmC,EAAE,CAACs8B,QAAH,GAAc,MAAd,GAAuB,OAAnD,CADnD,CAD2B;;EAG3B,MAAI,CAACH,GAAG,CAAC,CAAD,CAAJ,IAAWA,GAAG,CAACxrB,IAAJ,GAAWnN,IAAX,MAAqB,EAArB,IAA2B,CAAC24B,GAAG,CAAC77B,IAAJ,CAAS,cAAT,EAAyB,CAAzB,CAA3C,EACI;;EACJ,MAAI,CAACW,KAAK,CAACpD,IAAN,CAAW,YAAX,CAAL,EAA+B;EAC3BoD,IAAAA,KAAK,CAAC6iB,OAAN,CAAc;EACVtR,MAAAA,IAAI,EAAE,IADI;EAEVqK,MAAAA,SAAS,EAAEwf,GAFD;EAGVt5B,MAAAA,OAAO,EAAEq5B,IAHC;EAIV/lB,MAAAA,KAAK,EAAE,GAJG;EAKVsG,MAAAA,SAAS,EAAE9kB,CAAC,CAAC,aAAD,CAAD,CAAiB,CAAjB,CALD;EAMVmoB,MAAAA,OAAO,EAAEmc,GAAG,CAAC3pB,IAAJ,EANC;EAOVsK,MAAAA,UAAU,EAAE9c,EAAE,CAAC8c;EAPL,KAAd,EAQG9b,EARH,CAQM,iBARN,EAQyB,UAASzB,CAAT,EAAY;EACjC,UAAIg9B,EAAJ;EAAA,UAAQC,IAAI,GAAG3kC,CAAC,CAACoJ,KAAK,CAACpD,IAAN,CAAW,YAAX,EAAyB4+B,aAAzB,EAAD,CAAD,CAA4C5tB,GAA5C,CAAgD,SAAhD,EAA2D,IAA3D,CAAf,CADiC;;EAEjC,UAAI0tB,EAAE,GAAGt7B,KAAK,CAACpD,IAAN,CAAW,eAAX,CAAT;EACI2+B,QAAAA,IAAI,CAAC3tB,GAAL,CAAS,WAAT,EAAsB/M,QAAQ,CAACy6B,EAAD,EAAK,EAAL,CAAR,GAAmB,IAAzC;EACP,KAZD;EAaH;EACJ;EAED;;;;;;;;;;;;;EAYO,SAASG,eAAT,CAAyBxjC,IAAzB,EAA+B;EAClC,MAAI45B,IAAI,GAAG9yB,EAAE,CAAC28B,WAAH,IAAkB9kC,CAAC,CAAC,kBAAD,CAA9B;;EACA,MAAI,CAACi7B,IAAI,CAAC,CAAD,CAAT,EAAc;EACVlH,IAAAA,MAAM,CAAC,iCAAD,CAAN;;EACA,WAAO,KAAP;EACH;;EACD,MAAI1yB,IAAI,CAACyyB,GAAL,IAAY,CAACN,WAAW,CAACnyB,IAAI,CAACsf,CAAN,CAA5B,EAAsC;EAClCoT,IAAAA,MAAM,CAAC5rB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,kBAAnB,CAAD,CAAN;;EACA,WAAO,KAAP;EACH;;EACD,MAAImmB,EAAE,GAAGyM,IAAI,CAACxyB,IAAL,CAAU,kBAAV,CAAT;EAAA,MACIma,GAAG,GAAG4L,EAAE,CAACxoB,IAAH,CAAQ,MAAR,CADV;;EAEA,MAAI,CAAC4c,GAAL,EAAU;EACNA,IAAAA,GAAG,GAAG,IAAI3H,IAAJ,CAASuT,EAAE,CAAC5jB,IAAH,CAAQ,IAAR,CAAT,CAAN;EACAgY,IAAAA,GAAG,CAACvH,SAAJ,CAAc,CACV,CAAC,QAAD,EAAW,CAAClT,EAAE,CAAC48B,UAAH,CAAcl5B,QAAd,CAAuB1D,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,QAAnB,CAAvB,CAAD,EAAuDF,EAAE,CAAC48B,UAAH,CAAc53B,KAArE,CAAX,CADU,EAEV,CAAC,WAAD,EAAc,CAAChF,EAAE,CAAC48B,UAAH,CAAcl5B,QAAd,CAAuB1D,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,WAAnB,CAAvB,CAAD,EAA0DF,EAAE,CAAC48B,UAAH,CAAcz3B,MAAd,CAAqBnF,EAAE,CAAC68B,mBAAxB,EAA6C78B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,2BAAnB,CAA7C,CAA1D,CAAd,CAFU,EAGV,CAAC,IAAD,EAAOF,EAAE,CAAC48B,UAAH,CAAcz3B,MAAd,CAAqBnF,EAAE,CAAC68B,mBAAxB,EAA6C78B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,oBAAnB,CAA7C,CAAP,CAHU,EAIV,CAAC,KAAD,EAAQF,EAAE,CAAC48B,UAAH,CAAcz3B,MAAd,CAAqBnF,EAAE,CAAC68B,mBAAxB,EAA6C78B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,qBAAnB,CAA7C,CAAR,CAJU,EAKV,CAAC,SAAD,EAAYF,EAAE,CAAC48B,UAAH,CAAcl5B,QAAd,CAAuB1D,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,SAAnB,CAAvB,CAAZ,CALU,CAAd;;EAOAua,IAAAA,GAAG,CAACjS,QAAJ,GAAe,YAAW;EACtB,aAAO,KAAKgL,cAAL,EAAP;EACH,KAFD;;EAGAiH,IAAAA,GAAG,CAACzQ,MAAJ,GAAa,YAAW;EACpB,UAAI,CAAC,KAAKxB,QAAL,EAAL,EACI,OAAO,KAAP;EACJ,UAAI8V,EAAE,GAAG+H,EAAE,CAACoF,SAAH,EAAT;EAAA,UAAyB5tB,IAAI,GAAG,EAAhC;EACA,UAAI3E,IAAI,CAACsf,CAAL,IAAUtf,IAAI,CAACyyB,GAAnB;EACI9tB,QAAAA,IAAI,GAAGhG,CAAC,CAACqB,IAAI,CAACsf,CAAN,CAAD,CAAUlY,IAAV,CAAe,8CAAf,EAA+DmrB,SAA/D,EAAP;EACJ,UAAIvyB,IAAI,CAAC+uB,GAAT,EACI3J,EAAE,IAAI,MAAMzmB,CAAC,CAAC8xB,KAAF,CAAQzwB,IAAI,CAAC+uB,GAAb,CAAZ;EACJ,UAAImC,IAAI,GAAG,KAAKthB,OAAL,EAAX;;EACA,UAAI5P,IAAI,CAAC+E,GAAT,EAAc;EAAE;EACZ60B,QAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX;EACA,YAAIp6B,IAAI,CAAC4jC,QAAT,EACI98B,EAAE,CAAC+8B,gBAAH,CAAoB7jC,IAAI,CAAC2I,EAAzB,EAA6B3I,IAAI,CAAC+E,GAAlC,EAAuC/E,IAAI,CAAC4jC,QAA5C,EAAsD1S,IAAtD,EADJ,KAGIsB,SAAO,CAACxyB,IAAI,CAACsf,CAAN,EAAStf,IAAI,CAAC+E,GAAd,EAAmB,OAAnB,EAA4B,IAA5B,EAAkC/E,IAAI,CAACyyB,GAAvC,EAA4CvB,IAA5C,CAAP;EACP,OAND,MAMO;EACHvyB,QAAAA,CAAC,CAAC+xB,IAAF,CAAO/xB,CAAC,CAACqB,IAAI,CAACsf,CAAN,CAAD,CAAU/V,IAAV,CAAe,QAAf,CAAP,EAAiC6b,EAAE,GAAG,GAAL,GAAWzgB,IAA5C,EAAkD,UAASoR,MAAT,EAAiB;EAC/D4a,UAAAA,WAAW,CAAC5a,MAAD,CAAX;EACH,SAFD;EAGH;;EACD,aAAO,IAAP;EACH,KArBD;;EAsBAoX,IAAAA,EAAE,CAACxoB,IAAH,CAAQ,MAAR,EAAgB4c,GAAhB;EACH;;EACDqY,EAAAA,IAAI,CAACQ,KAAL,CAAW,MAAX,EAAmBhzB,IAAnB,CAAwB,cAAxB,EAAwCkS,IAAxC,CAA6CtZ,IAAI,CAAC4iC,GAAlD;EACAhJ,EAAAA,IAAI,CAACxyB,IAAL,CAAU,4BAAV,EAAwCE,GAAxC,GAA8CD,KAA9C,CAAoD,UAAShB,CAAT,EAAY;EAC5DA,IAAAA,CAAC,CAACC,cAAF;EACA,QAAIib,GAAG,CAACzQ,MAAJ,EAAJ,EACI8oB,IAAI,CAACQ,KAAL,CAAW,MAAX;EACP,GAJD;EAKAtzB,EAAAA,EAAE,CAAC28B,WAAH,GAAiB7J,IAAI,CAACQ,KAAL,CAAW,MAAX,CAAjB;EACA,SAAO,KAAP;EACH;;EAGM,SAAS0J,aAAT,CAAuBz9B,CAAvB,EAA0BI,GAA1B,EAA+B1B,GAA/B,EAAoC+D,EAApC,EAAwC85B,GAAxC,EAA6C;EAChD,MAAIv8B,CAAC,IAAIA,CAAC,CAAC6sB,OAAX,EAAoB;EAChB,QAAI6Q,KAAK,GAAGh/B,GAAG,CAACkN,KAAJ,CAAU,GAAV,CAAZ;EAAA,QAA4B2J,MAAM,GAAG,IAAIC,eAAJ,CAAoBkoB,KAAK,CAAC,CAAD,CAAzB,CAArC;EACAnoB,IAAAA,MAAM,CAAC5X,GAAP,CAAW,GAAX,EAAgB,GAAhB,EAFgB;;EAGhBggC,IAAAA,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAL,GAAW,GAAX,GAAiBnoB,MAAM,CAACtZ,QAAP,EAAlB,CAAR;EACA,WAAO,KAAP;EACH;;EACD,MAAI8rB,IAAI,GAAIzvB,CAAC,CAACyS,QAAF,CAAW3K,GAAX,CAAD,GAAoB9H,CAAC,CAAC,MAAM8H,GAAP,CAArB,GAAmC9H,CAAC,CAAC8H,GAAD,CAA/C;EACA,MAAIw9B,GAAG,GAAG7V,IAAI,CAACzpB,IAAL,CAAU,qBAAV,MAAqCypB,IAAI,CAACpmB,QAAL,CAAc,iBAAd,IAAoClB,EAAE,CAACs8B,QAAH,GAAc,MAAd,GAAuB,OAA3D,GAAsE,QAA3G,CAAV;EACAhV,EAAAA,IAAI,CAAC5K,OAAL,CAAa,MAAb;EACA,MAAIxjB,IAAI,GAAG;EAAC,WAAOouB,IAAI,CAAC,CAAD,CAAZ;EAAiB,UAAMtlB,EAAvB;EAA2B,WAAO/D,GAAlC;EAAuC,WAAO69B,GAA9C;EAAmD,iBAAaqB;EAAhE,GAAX;EACA5iB,EAAAA,SAAS,CAACxX,OAAV,CAAkB,WAAlB,EAA+B,CAAC7J,IAAD,CAA/B;EACA,MAAIkQ,EAAE,GAAGlQ,IAAI,CAAC+E,GAAL,CAASkN,KAAT,CAAe,GAAf,CAAT;EACAjS,EAAAA,IAAI,CAAC8C,IAAL,GAAYoN,EAAE,CAAC,CAAD,CAAF,IAAS,EAArB;EACAlQ,EAAAA,IAAI,CAAC2E,IAAL,GAAYuL,EAAE,CAAC,CAAD,CAAF,IAAS,EAArB;;EACA,MAAI,CAACke,IAAI,CAACzpB,IAAL,CAAU,YAAV,CAAL,EAA8B;EAC1BypB,IAAAA,IAAI,CAACxD,OAAL,CAAa;EACTtR,MAAAA,IAAI,EAAE,IADG;EAETqK,MAAAA,SAAS,EAAE3jB,IAAI,CAAC2jB,SAFP;EAGT9Z,MAAAA,OAAO,EAAE,QAHA;EAITsH,MAAAA,QAAQ,EAAE,0HAJD;EAKT2V,MAAAA,OAAO,EAAE,iBAAiBhgB,EAAE,CAACg4B,YAApB,GAAmC,uDAAnC,GAA6Fh4B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,SAAnB,CAA7F,GAA6H,eAL7H;EAMTyc,MAAAA,SAAS,EAAE9kB,CAAC,CAAC,qBAAD,CANH;EAOTilB,MAAAA,UAAU,EAAE9c,EAAE,CAAC8c,UAPN;EAQTzf,MAAAA,QAAQ,EAAE;EARD,KAAb,EASG2D,EATH,CASM,iBATN,EASyB,UAASzB,CAAT,EAAY;EACjC+nB,MAAAA,IAAI,CAAC7kB,IAAL,CAAU,qBAAV,EAAiC,EAAjC;EACH,KAXD,EAWGzB,EAXH,CAWM,kBAXN,EAW0B,UAASzB,CAAT,EAAY;EAClC,UAAI,CAAC+nB,IAAI,CAACzpB,IAAL,CAAU,MAAV,CAAL,EACI;EACJ,UAAIA,IAAI,GAAGypB,IAAI,CAACzpB,IAAL,CAAU,MAAV,EAAkBA,IAA7B;EACAA,MAAAA,IAAI,IAAI,CAACA,IAAI,GAAG,GAAH,GAAS,EAAd,IAAoBmC,EAAE,CAAC6P,cAAvB,GAAwC,GAAxC,GAA8C7P,EAAE,CAAC8P,UAAzD,CAJkC;;EAKlCjS,MAAAA,IAAI,IAAI,CAACA,IAAI,GAAG,GAAH,GAAS,EAAd,IAAoBmC,EAAE,CAAC+P,qBAAvB,GAA+C,GAA/C,GAAqD/P,EAAE,CAACgQ,iBAAhE,CALkC;;EAMlCnY,MAAAA,CAAC,CAAC+T,IAAF,CAAO;EACH4V,QAAAA,KAAK,EAAE,KADJ;EAEHzS,QAAAA,QAAQ,EAAE,MAFP;EAGHhW,QAAAA,IAAI,EAAE,MAHH;EAIH8E,QAAAA,IAAI,EAAEA,IAJH;EAKHI,QAAAA,GAAG,EAAEqpB,IAAI,CAACzpB,IAAL,CAAU,MAAV,EAAkB7B,IALpB;EAMHkT,QAAAA,OAAO,EAAE,iBAASrR,IAAT,EAAe;EACpB,cAAI2+B,IAAI,GAAG3kC,CAAC,CAACyvB,IAAI,CAACzpB,IAAL,CAAU,YAAV,EAAwB4+B,aAAxB,EAAD,CAAD,CAA2Cz7B,EAA3C,CAA8C,WAA9C,EAA2D,UAASzB,CAAT,EAAY;EAC9E,gBAAI0B,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAD,CAAQkR,QAAR,CAAiB,MAAjB,CAAZ;EAAA,gBACIq0B,MAAM,GAAGn8B,KAAK,CAACwW,WAAN,EADb;EAAA,gBAEItG,KAAK,GAAGlQ,KAAK,CAACqc,UAAN,EAFZ;EAAA,gBAGI+f,IAAI,GAAGp8B,KAAK,CAACq8B,MAAN,GAAeC,GAAf,GAAqBH,MAArB,GAA8B79B,CAAC,CAACi+B,KAH3C;EAAA,gBAIIC,IAAI,GAAGx8B,KAAK,CAACq8B,MAAN,GAAeI,IAAf,GAAsBvsB,KAAtB,GAA8B5R,CAAC,CAACo+B,KAJ3C;EAKA/uB,YAAAA,KAAK,CAAC5N,EAAN,CAAS,WAAT,EAAsB,UAASzB,CAAT,EAAY;EAC9B,kBAAIg+B,GAAG,GAAGh+B,CAAC,CAACi+B,KAAF,GAAUH,IAAV,GAAiBD,MAA3B;EAAA,kBACIM,IAAI,GAAGn+B,CAAC,CAACo+B,KAAF,GAAUF,IAAV,GAAiBtsB,KAD5B;EAEA,kBAAIlQ,KAAK,CAACC,QAAN,CAAe,MAAf,CAAJ,EACID,KAAK,CAACq8B,MAAN,CAAa;EAACC,gBAAAA,GAAG,EAAEA,GAAN;EAAWG,gBAAAA,IAAI,EAAEA;EAAjB,eAAb;EACP,aALD,EAKG18B,EALH,CAKM,SALN,EAKiB,UAASzB,CAAT,EAAW;EACxB0B,cAAAA,KAAK,CAACgI,WAAN,CAAkB,MAAlB;EACH,aAPD;EAQH,WAdU,CAAX;EAeA,cAAI/P,IAAI,CAAC4iC,GAAT,EACIU,IAAI,CAACl8B,IAAL,CAAU,iBAAV,EAA6BqX,KAA7B,GAAqC1O,WAArC,CAAiD,QAAjD,EACKhN,MADL,CACY,4GAA4G/C,IAAI,CAAC4iC,GAD7H,EAEKx7B,IAFL,CAEU,QAFV,EAEoBC,KAFpB,CAE0B,YAAW;EAC7B+mB,YAAAA,IAAI,CAACxD,OAAL,CAAa,MAAb;EACH,WAJL;EAKJ,cAAIphB,CAAC,GAAG7E,IAAI,CAAC4G,KAAL,CAAW,mCAAX,CAAR,CAtBoB;;EAuBpB5G,UAAAA,IAAI,GAAG6E,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU7E,IAAlB;EACA,cAAI2U,IAAI,GAAGxS,EAAE,CAACwyB,WAAH,CAAe30B,IAAf,CAAX;EACA2+B,UAAAA,IAAI,CAACl8B,IAAL,CAAU,eAAV,EAA2BkS,IAA3B,CAAgC3a,CAAC,CAAC,aAAD,CAAD,CAAiB2a,IAAjB,CAAsBA,IAAtB,EAA4BlS,IAA5B,CAAiC,YAAjC,CAAhC;EAAA,WACKA,IADL,CACU,WADV,EACuB1G,IADvB,CAC4BoG,EAAE,CAACytB,UAD/B;EAEAztB,UAAAA,EAAE,CAACsyB,aAAH,CAAiBz0B,IAAjB,EAAuBmE,EAAvB;EACAslB,UAAAA,IAAI,CAACxD,OAAL,CAAa,QAAb;EACH,SAnCE;EAoCHnX,QAAAA,KAAK,EAAE,eAASrD,CAAT,EAAY;EACf,cAAIA,CAAC,CAACkgB,YAAN,EAAoB;EAChB,gBAAIgT,IAAI,GAAG3kC,CAAC,CAACoK,GAAG,CAACpE,IAAJ,CAAS,YAAT,EAAuB4+B,aAAvB,EAAD,CAAZ;EACAD,YAAAA,IAAI,CAACl8B,IAAL,CAAU,eAAV,EAA2BqX,KAA3B,GAAmC1b,MAAnC,CAA0C,4BAA4BqN,CAAC,CAACkgB,YAA9B,GAA6C,MAAvF;EACH;EACJ;EAzCE,OAAP;EA2CH,KA5DD,EA4DGxoB,EA5DH,CA4DM,mBA5DN,EA4D2B,UAASzB,CAAT,EAAY;EACnC1H,MAAAA,CAAC,CAAC+B,IAAF,CAAOoG,EAAE,CAAC49B,eAAV,EAA2B,UAAS3V,GAAT,EAAc4V,GAAd,EAAmB;EAAE;EAC5CA,QAAAA,GAAG,CAACC,OAAJ;EACH,OAFD;EAGA99B,MAAAA,EAAE,CAAC49B,eAAH,GAAqB,EAArB;EACA59B,MAAAA,EAAE,CAAC0yB,YAAH,CAAgB1wB,EAAhB;EACH,KAlED;EAmEH;;EACDslB,EAAAA,IAAI,CAACzpB,IAAL,CAAU,MAAV,EAAkB3E,IAAlB,EAAwB4qB,OAAxB,CAAgC,MAAhC;EACH;EAED;;;;;;;EAMO,SAASlY,IAAT,CAAc/N,IAAd,EAAoBhB,QAApB,EAA8B;EACjC,MAAI,CAAChF,CAAC,CAAC6H,QAAF,CAAW7B,IAAX,CAAL,EACI,OAAOpE,SAAP;EACJ,MAAIwQ,MAAM,GAAGpM,IAAI,CAACoM,MAAlB;EACA,MAAI,CAACA,MAAL,EACI,OAAOxQ,SAAP;EACJ,SAAOoE,IAAI,CAACoM,MAAZ;EACA,MAAItK,GAAG,GAAGrE,MAAM,CAACtD,MAAP,CAAc,EAAd,EAAkB6F,IAAlB,CAAV;;EACA,MAAIkgC,QAAQ,GAAG,SAAXA,QAAW,CAASzb,QAAT,EAAmB;EAC9B,QAAIzqB,CAAC,CAAC6H,QAAF,CAAW4iB,QAAX,KAAwBA,QAAQ,CAACrT,MAAT,IAAmB,IAA/C,EAAqD;EACjD,UAAIsG,OAAO,GAAG+M,QAAQ,CAAC7M,OAAvB;;EACA,UAAIjG,KAAK,CAACC,OAAN,CAAc8F,OAAd,KAA0BA,OAAO,CAACnc,MAAR,IAAkB,CAAhD,EAAmD;EAAE;EACjDmc,QAAAA,OAAO,GAAGA,OAAO,CAAC,CAAD,CAAjB;EACA,YAAI/F,KAAK,CAACC,OAAN,CAAc8F,OAAd,KAA0BA,OAAO,CAACnc,MAAR,IAAkB,CAAhD;EACI,iBAAOmc,OAAO,CAAC,CAAD,CAAd,CADJ;EAAA,aAGI,OAAOA,OAAP,CAL2C;EAMlD;;EACD,aAAOA,OAAP;EACH;;EACD,WAAO+M,QAAP;EACH,GAbD;;EAcA,MAAIrkB,GAAG,GAAGkX,SAAS,CAAClL,MAAD,CAAnB;EAAA;EACIlR,EAAAA,IAAI,GAAG4G,GAAG,CAAC5G,IAAJ,IAAY,MADvB;EAEA,SAAO4G,GAAG,CAAC5G,IAAX;EACA4G,EAAAA,GAAG,CAACoP,QAAJ,GAAe,MAAf;;EACA,MAAIlX,CAAC,CAACytB,UAAF,CAAazoB,QAAb,CAAJ,EAA4B;EAAE;EAC1BhF,IAAAA,CAAC,CAAC+T,IAAF,CAAO;EACH3N,MAAAA,GAAG,EAAEA,GADF;EAEHlF,MAAAA,IAAI,EAAEA,IAFH;EAGH8E,MAAAA,IAAI,EAAE8B,GAHH;EAIHuP,MAAAA,OAAO,EAAE,iBAAUoT,QAAV,EAAoB;EACzBzlB,QAAAA,QAAQ,CAACkhC,QAAQ,CAACzb,QAAD,CAAT,CAAR;EACH;EANE,KAAP;EAQH,GATD,MASO;EAAE;EACL,QAAIA,QAAQ,GAAGzqB,CAAC,CAAC+T,IAAF,CAAO;EAClB3N,MAAAA,GAAG,EAAEA,GADa;EAElB+Z,MAAAA,KAAK,EAAE,KAFW;EAGlBjf,MAAAA,IAAI,EAAEA,IAHY;EAIlB8E,MAAAA,IAAI,EAAE8B;EAJY,KAAP,CAAf;EAMA,WAAOo+B,QAAQ,CAACzb,QAAQ,CAAC0b,YAAV,CAAf;EACH;EACJ;;EAGM,SAASlvB,WAAT,GAAuB;EAC1B,SAAOwC,QAAQ,CAACD,IAAT,CAAclG,KAAd,CAAoB,GAApB,EAAyB,CAAzB,EAA4BA,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAP;EACH;;EAGM,SAAS8yB,oBAAT,CAA8Bj8B,EAA9B,EAAkCpJ,KAAlC,EAAyC;EAC5C,MAAIiJ,EAAE,GAAG,KAAKnG,IAAL,CAAUE,QAAV,CAAmBoG,EAAnB,CAAT;EACA,MAAI,CAACH,EAAL,EACI;EACJA,EAAAA,EAAE,CAACjJ,KAAH,GAAYiJ,EAAE,CAACjJ,KAAH,IAAYA,KAAb,GAAsBA,KAAtB,GAA8B,GAAzC;EACH;EAGD;;EACO,SAASsN,WAAT,CAAqBg4B,YAArB,EAAmC;EACtC,SAAOC,WAAW,CAACD,YAAD,EAAe,IAAf,EAAqBl+B,EAAE,CAAC4F,cAAxB,CAAlB;EACH;;EAGM,SAASK,gBAAT,CAA0Bi4B,YAA1B,EAAwC;EAC3C,SAAOC,WAAW,CAACD,YAAD,EAAe,SAAf,EAA0Bl+B,EAAE,CAAC4F,cAA7B,CAAlB;EACH;;EAGM,SAASE,SAAT,CAAmBo4B,YAAnB,EAAiC;EACpC,SAAOC,WAAW,CAACD,YAAD,EAAe,KAAf,EAAsBl+B,EAAE,CAAC4F,cAAzB,CAAlB;EACH;;EAGM,SAASC,cAAT,CAAwBq4B,YAAxB,EAAsC;EACzC,SAAOC,WAAW,CAACD,YAAD,EAAe,UAAf,EAA2Bl+B,EAAE,CAAC4F,cAA9B,CAAlB;EACH;;EAGM,SAASI,aAAT,CAAuBk4B,YAAvB,EAAqC;EACxC,SAAOC,WAAW,CAACD,YAAD,EAAe,MAAf,EAAuBl+B,EAAE,CAAC4F,cAA1B,CAAlB;EACH;;EAGM,SAASG,kBAAT,CAA4Bm4B,YAA5B,EAA0C;EAC7C,SAAOC,WAAW,CAACD,YAAD,EAAe,WAAf,EAA4Bl+B,EAAE,CAAC4F,cAA/B,CAAlB;EACH;;EAGM,SAASO,YAAT,CAAsB+3B,YAAtB,EAAoC;EACvC,MAAIl+B,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,OAArB,CAAJ,EACI,OAAOqB,SAAS,CAACo4B,YAAD,CAAhB,CADJ,KAEK,IAAIl+B,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,KAArB,CAAJ,EACD,OAAOoB,cAAc,CAACq4B,YAAD,CAArB,CADC,KAEA,IAAIl+B,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,IAArB,KAA8BzE,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,OAArB,CAAlC,EACD,OAAOyB,WAAW,CAACg4B,YAAD,CAAlB,CADC,KAEA,IAAIl+B,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,IAArB,KAA8BzE,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,KAArB,CAAlC,EACD,OAAOwB,gBAAgB,CAACi4B,YAAD,CAAvB,CADC,KAEA,IAAIl+B,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,IAArB,KAA8BzE,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,OAArB,CAAlC,EACD,OAAOuB,aAAa,CAACk4B,YAAD,CAApB,CADC,KAEA,IAAIl+B,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,IAArB,KAA8BzE,EAAE,CAACoG,WAAH,CAAe3B,KAAf,CAAqB,KAArB,CAAlC,EACD,OAAOsB,kBAAkB,CAACm4B,YAAD,CAAzB;EACJ,SAAO,KAAP;EACH;EAGD;;EACO,SAASC,WAAT,CAAqBvlC,KAArB,EAA4BwlC,MAA5B,EAAoCtN,GAApC,EAAyC;EAC5C,MAAI,CAACl4B,KAAD,IAAUA,KAAK,CAACQ,MAAN,IAAgB,EAA9B,EACI,OAAO,IAAP;EACJR,EAAAA,KAAK,GAAGA,KAAK,CAACe,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0B6J,IAA1B,EAAR;EACA,MAAI66B,IAAI,GAAGzlC,KAAK,CAACuS,KAAN,CAAY,GAAZ,CAAX;;EACA,MAAIkzB,IAAI,CAACjlC,MAAL,GAAc,CAAlB,EAAqB;EACjB,QAAIi6B,EAAJ,EAAQjqB,EAAR,EAAYk1B,KAAZ,EAAmBC,MAAnB,EAA2BC,IAA3B;EACAnL,IAAAA,EAAE,GAAG,2DAAL;;EACA,QAAIjqB,EAAE,GAAGiqB,EAAE,CAACoL,IAAH,CAAQJ,IAAI,CAAC,CAAD,CAAZ,CAAT,EAA2B;EACvBC,MAAAA,KAAK,GAAGl1B,EAAE,CAAC,CAAD,CAAV;EACAm1B,MAAAA,MAAM,GAAGn1B,EAAE,CAAC,CAAD,CAAX;EACAo1B,MAAAA,IAAI,GAAGp1B,EAAE,CAAC,CAAD,CAAT;EACH,KAJD,MAIO;EACH,UAAIs1B,MAAM,GAAG/5B,gBAAgB,CAACmsB,GAAD,CAA7B;;EACA,cAAQsN,MAAR;EACI,aAAK,KAAL;EACI/K,UAAAA,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,cAAcg6B,MAAd,GAAuB,sBAAvB,GAAgDA,MAAhD,GAAyD,gCAApE,CAAL;EACA;;EACJ,aAAK,UAAL;EACIrL,UAAAA,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,cAAcg6B,MAAd,GAAuB,sBAAvB,GAAgDA,MAAhD,GAAyD,gCAApE,CAAL;EACA;;EACJ,aAAK,IAAL;EACIrL,UAAAA,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,0BAA0Bg6B,MAA1B,GAAmC,+BAAnC,GAAqEA,MAArE,GAA8E,WAAzF,CAAL;EACA;;EACJ,aAAK,SAAL;EACIrL,UAAAA,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,0BAA0Bg6B,MAA1B,GAAmC,+BAAnC,GAAqEA,MAArE,GAA8E,WAAzF,CAAL;EACA;;EACJ,aAAK,MAAL;EACIrL,UAAAA,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,mCAAmCg6B,MAAnC,GAA4C,sBAA5C,GAAqEA,MAArE,GAA8E,WAAzF,CAAL;EACA;;EACJ,aAAK,WAAL;EACIrL,UAAAA,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,mCAAmCg6B,MAAnC,GAA4C,sBAA5C,GAAqEA,MAArE,GAA8E,WAAzF,CAAL;EACA;EAlBR;;EAoBA,UAAI,CAACrL,EAAE,CAACxpB,IAAH,CAAQw0B,IAAI,CAAC,CAAD,CAAZ,CAAL,EACI,OAAO,KAAP;EACJ,UAAIM,GAAG,GAAGN,IAAI,CAAC,CAAD,CAAJ,CAAQlzB,KAAR,CAAc2lB,GAAd,CAAV;;EACA,cAAQsN,MAAR;EACI,aAAK,KAAL;EACA,aAAK,UAAL;EACIE,UAAAA,KAAK,GAAGM,YAAY,CAACD,GAAG,CAAC,CAAD,CAAJ,CAApB;EACAJ,UAAAA,MAAM,GAAGI,GAAG,CAAC,CAAD,CAAZ;EACAH,UAAAA,IAAI,GAAGG,GAAG,CAAC,CAAD,CAAV;EACA;;EACJ,aAAK,IAAL;EACA,aAAK,SAAL;EACIL,UAAAA,KAAK,GAAGM,YAAY,CAACD,GAAG,CAAC,CAAD,CAAJ,CAApB;EACAJ,UAAAA,MAAM,GAAGI,GAAG,CAAC,CAAD,CAAZ;EACAH,UAAAA,IAAI,GAAGG,GAAG,CAAC,CAAD,CAAV;EACA;;EACJ,aAAK,MAAL;EACA,aAAK,WAAL;EACIL,UAAAA,KAAK,GAAGM,YAAY,CAACD,GAAG,CAAC,CAAD,CAAJ,CAApB;EACAJ,UAAAA,MAAM,GAAGI,GAAG,CAAC,CAAD,CAAZ;EACAH,UAAAA,IAAI,GAAGG,GAAG,CAAC,CAAD,CAAV;EACA;EAlBR;EAoBH;;EACD,QAAI,CAACE,QAAQ,CAACP,KAAD,EAAQC,MAAR,EAAgBC,IAAhB,CAAb,EACI,OAAO,KAAP;EACP;;EACD,MAAIH,IAAI,CAACjlC,MAAL,GAAc,CAAd,IAAmB,CAACkN,SAAS,CAAC+3B,IAAI,CAAC,CAAD,CAAL,CAAjC,EACI,OAAO,KAAP;EACJ,SAAO,IAAP;EACH;;EAGM,SAASO,YAAT,CAAsBE,EAAtB,EAA0B;EAC7B,MAAIA,EAAE,CAAC1lC,MAAH,IAAa,CAAjB,EACI,OAAQ0lC,EAAE,GAAG9+B,EAAE,CAAC++B,aAAT,GAA0B,OAAOD,EAAjC,GAAsC,OAAOA,EAApD;EACJ,SAAOA,EAAP;EACH;;EAGM,SAASD,QAAT,CAAkBG,SAAlB,EAA6BC,UAA7B,EAAyCJ,QAAzC,EAAmD;EACtDG,EAAAA,SAAS,GAAGl9B,QAAQ,CAACk9B,SAAD,EAAY,EAAZ,CAApB;EACAC,EAAAA,UAAU,GAAGn9B,QAAQ,CAACm9B,UAAD,EAAa,EAAb,CAArB;EACAJ,EAAAA,QAAQ,GAAG/8B,QAAQ,CAAC+8B,QAAD,EAAW,EAAX,CAAnB;EACA,MAAIK,MAAM,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAcp/B,QAAd,CAAuBm/B,UAAvB,IAAqC,EAArC,GAA0C,EAAvD;EACA,MAAIA,UAAU,IAAI,CAAlB,EACIC,MAAM,GAAIF,SAAS,GAAG,CAAZ,GAAgB,CAAhB,IAAqBA,SAAS,GAAG,GAAZ,IAAmB,CAAnB,IAAwBA,SAAS,GAAG,GAAZ,GAAkB,CAAhE,GAAqE,EAArE,GAA0E,EAAnF;EACJ,SAAOr4B,UAAU,CAACk4B,QAAD,EAAW,CAAX,EAAcK,MAAd,CAAjB;EACH;;EAGM,SAAS/7B,YAAT,CAAsB+6B,YAAtB,EAAoC;EACvC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,MAAI8kC,YAAY,CAACp+B,QAAb,CAAsBE,EAAE,CAACm/B,aAAzB,CAAJ,EACI,OAAO,KAAP;EACJ,SAAO34B,WAAW,CAAC03B,YAAD,CAAlB;EACH;;EAGM,SAAS13B,WAAT,CAAqB03B,YAArB,EAAmC;EACtCA,EAAAA,YAAY,GAAG1kC,MAAM,CAAC0kC,YAAD,CAArB;EACA,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ8kC,EAAAA,YAAY,GAAGA,YAAY,CAAC16B,IAAb,EAAf;EACA,MAAI47B,EAAE,GAAGz6B,gBAAgB,CAAC3E,EAAE,CAACq/B,aAAJ,CAAzB;EAAA,MAA6C11B,EAAE,GAAGhF,gBAAgB,CAAC3E,EAAE,CAACm/B,aAAJ,CAAlE;EAAA,MACI9L,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,sBAAsB06B,EAAE,GAAGA,EAAE,GAAG,GAAR,GAAc,EAAtC,IAA4C,WAA5C,GAA0Dz1B,EAA1D,GAA+D,SAA/D,GAA2EA,EAA3E,GAAgF,QAA3F,CADT;EAEA,SAAO0pB,EAAE,CAACxpB,IAAH,CAAQq0B,YAAR,CAAP;EACH;;EAGM,SAASoB,aAAT,CAAuBpB,YAAvB,EAAqC;EACxCA,EAAAA,YAAY,GAAG1kC,MAAM,CAAC0kC,YAAD,CAArB;;EACA,MAAIl+B,EAAE,CAACq/B,aAAH,IAAoB,EAAxB,EAA4B;EACxB,QAAIhM,EAAE,GAAG,IAAI3uB,MAAJ,CAAWC,gBAAgB,CAAC3E,EAAE,CAACq/B,aAAJ,CAA3B,EAA+C,GAA/C,CAAT;EACAnB,IAAAA,YAAY,GAAGA,YAAY,CAACvkC,OAAb,CAAqB05B,EAArB,EAAyB,EAAzB,CAAf;EACH;;EACD,MAAIrzB,EAAE,CAACm/B,aAAH,IAAoB,EAAxB,EACIjB,YAAY,GAAGA,YAAY,CAACvkC,OAAb,CAAqBqG,EAAE,CAACm/B,aAAxB,EAAuC,GAAvC,CAAf;EACJ,SAAOI,UAAU,CAACrB,YAAD,CAAjB;EACH;;EAGM,SAASsB,YAAT,CAAsBtB,YAAtB,EAAoC;EACvC,MAAI7K,EAAE,GAAG,qGAAT;EACA,MAAIjqB,EAAE,GAAG80B,YAAY,CAACvkC,OAAb,CAAqB05B,EAArB,EAAyB,mBAAzB,EAA8CloB,KAA9C,CAAoD,GAApD,CAAT;EACA,SAAO,IAAI9P,IAAJ,CAAS+N,EAAE,CAAC,CAAD,CAAX,EAAgBA,EAAE,CAAC,CAAD,CAAF,GAAM,CAAtB,EAAyBA,EAAE,CAAC,CAAD,CAA3B,EAAgCA,EAAE,CAAC,CAAD,CAAlC,EAAuCA,EAAE,CAAC,CAAD,CAAzC,EAA8CA,EAAE,CAAC,CAAD,CAAhD,CAAP;EACH;;EAGM,SAASzE,gBAAT,CAA0B8kB,GAA1B,EAA+B;EAClC,SAAOA,GAAG,CAAC9vB,OAAJ,CAAY,qCAAZ,EAAmD,MAAnD,CAAP;EACH;;EAGM,SAASgN,UAAT,CAAoBu3B,YAApB,EAAkCuB,SAAlC,EAA6CC,SAA7C,EAAwD;EAC3D,MAAI,CAACxB,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;;EACJ,MAAIvB,CAAC,CAACgT,QAAF,CAAW40B,SAAX,KAAyB5nC,CAAC,CAACgT,QAAF,CAAW60B,SAAX,CAA7B,EAAoD;EAAE;EAClD,QAAIl5B,WAAW,CAAC03B,YAAD,CAAf,EACIA,YAAY,GAAGoB,aAAa,CAACpB,YAAD,CAA5B;EACP;;EACD,MAAI,CAACrmC,CAAC,CAAC+9B,MAAF,CAAS6J,SAAT,CAAD,IAAwBvB,YAAY,GAAGuB,SAA3C,EACI,OAAO,KAAP;EACJ,MAAI,CAAC5nC,CAAC,CAAC+9B,MAAF,CAAS8J,SAAT,CAAD,IAAwBxB,YAAY,GAAGwB,SAA3C,EACI,OAAO,KAAP;EACJ,SAAO,IAAP;EACH;;EAGM,SAASp5B,SAAT,CAAmB43B,YAAnB,EAAiC;EACpC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ8kC,EAAAA,YAAY,GAAGA,YAAY,CAAC16B,IAAb,EAAf;EACA,MAAI6vB,EAAE,GAAG,IAAI3uB,MAAJ,CAAW,wBAAwBC,gBAAgB,CAAC3E,EAAE,CAAC2/B,cAAJ,CAAxC,GAA8D,cAA9D,GAA+Eh7B,gBAAgB,CAAC3E,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,IAAnB,CAAD,CAA/F,GAA4H,GAA5H,GAAkIyE,gBAAgB,CAAC3E,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,IAAnB,CAAD,CAAlJ,GAA+K,MAA/K,GAAwLyE,gBAAgB,CAAC3E,EAAE,CAAC2/B,cAAJ,CAAxM,GAA8N,oCAAzO,EAA+Q,GAA/Q,CAAT;EACA,SAAOtM,EAAE,CAACxpB,IAAH,CAAQq0B,YAAR,CAAP;EACH;;EAGM,SAASp3B,UAAT,CAAoBo3B,YAApB,EAAkC;EACrC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,SAAO,6DAA6DyQ,IAA7D,CAAkEq0B,YAAY,CAAC16B,IAAb,EAAlE,CAAP;EACH;;EAGM,SAASwD,QAAT,CAAkBk3B,YAAlB,EAAgC;EACnC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,SAAO,wBAAwByQ,IAAxB,CAA6Bq0B,YAAY,CAAC16B,IAAb,EAA7B,CAAP;EACH;;EAGM,SAAS0D,eAAT,CAAyBg3B,YAAzB,EAAuC;EAC1C,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,MAAIwmC,iBAAiB,GAAG1B,YAAY,CAACvkC,OAAb,CAAqB,KAArB,EAA4B,EAA5B,CAAxB;EACA,MAAIimC,iBAAiB,CAACxmC,MAAlB,IAA4B,CAAhC,EACI,OAAO,KAAP;EACJ,MAAIymC,WAAW,GAAGD,iBAAiB,CAACxmC,MAAlB,GAA2B,CAA3B,IAAgC,CAAhC,GAAoC,KAApC,GAA4C,IAA9D;EACA,MAAI0mC,SAAJ;EAAA,MAAeC,UAAU,GAAG,CAA5B;;EACA,OAAK,IAAIhmC,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAGomB,iBAAiB,CAACxmC,MAAxC,EAAgDW,CAAC,GAAGyf,GAApD,EAAyDzf,CAAC,EAA1D,EAA8D;EAC1D+lC,IAAAA,SAAS,GAAGh+B,QAAQ,CAAC89B,iBAAiB,CAACI,MAAlB,CAAyBjmC,CAAzB,CAAD,EAA8B,EAA9B,CAApB;;EACA,QAAI8lC,WAAJ,EAAiB;EACbC,MAAAA,SAAS,IAAI,CAAb;EACAC,MAAAA,UAAU,IAAKD,SAAS,GAAG,EAA3B;EACA,UAAIA,SAAS,GAAG,EAAZ,IAAkB,GAAtB,EACIC,UAAU;EACdF,MAAAA,WAAW,GAAG,KAAd;EACH,KAND,MAMO;EACHE,MAAAA,UAAU,IAAID,SAAd;EACAD,MAAAA,WAAW,GAAG,IAAd;EACH;EACJ;;EACD,SAAQE,UAAU,GAAG,EAAb,IAAmB,CAA3B;EACH;;EAGM,SAAS34B,QAAT,CAAkB82B,YAAlB,EAAgC;EACnC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,SAAO,0EAA0EyQ,IAA1E,CAA+Eq0B,YAAY,CAAC16B,IAAb,EAA/E,CAAP;EACH;;EAGM,SAAS8B,WAAT,CAAqB44B,YAArB,EAAmC+B,SAAnC,EAA8C;EACjD,MAAI,CAAC/B,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,MAAI8mC,QAAQ,GAAGhC,YAAY,CAACvkC,OAAb,CAAqB,IAArB,EAA2B,GAA3B,EAAgCwR,KAAhC,CAAsC,GAAtC,CAAf;;EACA,OAAK,IAAIpR,CAAC,GAAG,CAAR,EAAWyf,GAAG,GAAG0mB,QAAQ,CAAC9mC,MAA/B,EAAuCW,CAAC,GAAGyf,GAA3C,EAAgDzf,CAAC,EAAjD,EAAqD;EACjD,QAAIkmC,SAAS,GAAG,CAAZ,IAAiBzmB,GAAG,GAAGymB,SAA3B,EACI,OAAO,KAAP;EACJ,QAAI,CAAC/6B,UAAU,CAACg7B,QAAQ,CAACnmC,CAAD,CAAT,CAAf,EACI,OAAO,KAAP;EACP;;EACD,SAAO,IAAP;EACH;;EAGM,SAASmL,UAAT,CAAoBg5B,YAApB,EAAkC;EACrC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,SAAO,oCAAoCyQ,IAApC,CAAyCq0B,YAAY,CAAC16B,IAAb,EAAzC,CAAP;EACH;;EAGM,SAAS8D,SAAT,CAAmB42B,YAAnB,EAAiC;EACpC,MAAI,CAACA,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,SAAO,wEAAwEyQ,IAAxE,CAA6Eq0B,YAAY,CAAC16B,IAAb,EAA7E,CAAP;EACH;;EAGM,SAASiE,YAAT,CAAsBy2B,YAAtB,EAAoC12B,OAApC,EAA6C;EAChD,MAAI,CAAC02B,YAAD,IAAiBA,YAAY,CAAC9kC,MAAb,IAAuB,CAA5C,EACI,OAAO,IAAP;EACJ,SAAO,CAAC,CAAC8kC,YAAY,CAACz5B,KAAb,CAAmB+C,OAAnB,CAAT;EACH;EAED;;;;;;;EAMO,SAASqiB,WAAT,CAAqBsW,GAArB,EAA0B;EAAA;;EAC7B,MAAIlf,GAAG,GAAGjnB,MAAM,CAAC0G,MAAjB;EAAA;EACId,EAAAA,CAAC,kBAAGugC,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAE39B,MAAR,qDAAkBye,GAAG,CAACjrB,QAD3B;EAAA,MAEImrB,IAAI,GAAGF,GAAG,CAAC3B,IAFf;EAAA,MAGI+J,IAAI,GAAGxxB,CAAC,CAAC+H,CAAD,CAAD,CAAKU,IAAL,CAAU,8BAAV,EAA0CylB,KAA1C,EAHX;EAAA,MAIIpY,GAAG,GAAG0b,IAAI,CAACjwB,MAAL,GAAciwB,IAAI,CAAC1Y,IAAL,EAAd,GAA4B,EAJtC,CAD6B;;EAM7B,MAAI9Y,CAAC,CAACyS,QAAF,CAAW61B,GAAX,CAAJ,EACIxyB,GAAG,GAAG9V,CAAC,CAAC,UAAUsoC,GAAG,CAAC38B,IAAJ,EAAV,GAAuB,QAAxB,CAAD,CAAmCmN,IAAnC,EAAN;EACJ,MAAIhD,GAAG,CAACnK,IAAJ,MAAc,EAAlB,EACI;;EACJ,MAAI6lB,IAAI,CAACjwB,MAAT,EAAiB;EACb,KAAC,SAAD,EAAY,MAAZ,EAAoB,SAApB,EAA+B,QAA/B,EAAyCwD,OAAzC,CAAiD,UAAShE,KAAT,EAAgByJ,KAAhB,EAAuB;EACpE,UAAI+9B,MAAM,GAAG/W,IAAI,CAAC/oB,IAAL,CAAU,YAAY1H,KAAtB,EAA6BgI,WAA7B,CAAyC,WAAWhI,KAApD,CAAb;EAAA,UACIynC,QAAQ,GAAGD,MAAM,CAAC9/B,IAAP,CAAY,gBAAZ,EAA8BggC,MAA9B,EADf;EAAA,UAEIC,QAAQ,GAAGH,MAAM,CAAC/mB,QAAP,CAAgB,aAAhB,CAFf;EAGA+mB,MAAAA,MAAM,CAAC9/B,IAAP,CAAY,OAAZ,EAAqBgP,MAArB;;EACA,UAAI8wB,MAAM,CAAC,CAAD,CAAV,EAAe;EACX,YAAII,CAAC,GAAG1+B,QAAQ,CAACy+B,QAAQ,CAAC1xB,GAAT,CAAa,OAAb,CAAD,EAAwB,EAAxB,CAAhB,CADW;;EAEX,YAAI2xB,CAAC,GAAG,CAAR,EACID,QAAQ,CAACxa,KAAT,GAAiBlX,GAAjB,CAAqB,OAArB,EAA8B,MAA9B;EACJ,YAAI4xB,MAAM,GAAGhb,KAAK,CAAC;EACfQ,UAAAA,KAAK,EAAE,iBAAiBrtB,KADT;EAEfshB,UAAAA,KAAK,EAAEmmB,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC7tB,IAAT,EAAd,GAAgCxS,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmBtH,KAAnB,CAFxB;EAGfoF,UAAAA,IAAI,EAAEoiC,MAAM,CAAC5tB,IAAP,EAHS;EAIf0T,UAAAA,QAAQ,EAAGttB,KAAK,IAAI,SAAV,GAAuBoH,EAAE,CAACmmB,sBAA1B,GAAmD,KAJ9C;EAIqD;EACpE9P,UAAAA,KAAK,EAAGzd,KAAK,IAAI,SAAV,GAAuBoH,EAAE,CAAComB,2BAA1B,GAAuD;EAL/C,SAAD,CAAlB;EAOA,YAAIoa,CAAC,GAAG,CAAR,EACIC,MAAM,CAAC5xB,GAAP,CAAW,WAAX,EAAwB2xB,CAAxB,EAZO;;EAaX;EACH;EACJ,KApBD;EAqBH;;EACD,MAAI3oC,CAAC,CAACyS,QAAF,CAAW61B,GAAX,CAAJ,EAAqB;EACjB,WAAOhf,IAAI,CAAC5B,IAAL,mCACAvf,EAAE,CAACwf,kBADH;EAEHhN,MAAAA,IAAI,EAAE2tB;EAFH,OAAP;EAIH;EACJ;;EAGM,SAAS5iC,MAAT,GAAkB;EACrB,SAAOD,IAAI,CAACojC,KAAL,CAAWpjC,IAAI,CAACC,MAAL,KAAgB,MAA3B,IAAqC,MAA5C;EACH;;EAGM,SAASuQ,MAAT,CAAgBhQ,KAAhB,EAAuB;EAC1B,MAAIgY,MAAM,GAAGje,CAAC,CAACiG,KAAD,CAAd;EACA,MAAIgY,MAAM,CAACjY,IAAP,CAAY,mBAAZ,CAAJ,EACI;EACJ,MAAImE,EAAE,GAAG8T,MAAM,CAACrT,IAAP,CAAY,MAAZ,CAAT;EAAA,MAA8Bk+B,GAAG,GAAG3+B,EAAE,CAACrI,OAAH,CAAW,KAAX,EAAkB,KAAlB,CAApC;EAAA,MAA8D+yB,GAAG,GAAG5W,MAAM,CAACjY,IAAP,CAAY,OAAZ,CAApE;EAAA,MACIqN,QAAQ,GAAG4K,MAAM,CAACxU,EAAP,CAAU,YAAV,CADf;EAAA,MACwCI,EAAE,GAAGoU,MAAM,CAAC3V,OAAP,CAAe,yBAAf,CAD7C;EAAA,MAEIygC,QAAQ,GAAG9qB,MAAM,CAAC1U,IAAP,CAAY,UAAZ,KAA2B0U,MAAM,CAAC3V,OAAP,CAAe,MAAf,EAAuBG,IAAvB,CAA4B,UAA5B,EAAwC+D,GAAxC,MAAiD,SAF3F;EAAA,MAGIw8B,GAAG,GAAGn/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAHV;EAAA,MAGiCG,GAAG,GAAGp/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAHvC;EAAA,MAG8DI,GAAG,GAAGr/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAHpE;EAAA,MAG2FK,GAAG,GAAGt/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAHjG;EAAA,MAIIM,KAAK,GAAGv/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAJZ;EAAA,MAImCO,QAAQ,GAAGx/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAJ9C;EAAA,MAIqEQ,aAAa,GAAGz/B,EAAE,CAACpB,IAAH,CAAQ,SAASqgC,GAAjB,CAJrF;EAAA,MAKIS,MAAM,GAAG1/B,EAAE,CAACpB,IAAH,CAAQ,oBAAR,CALb;EAAA,MAK4C+gC,KAAK,GAAGD,MAAM,CAAC5uB,IAAP,EALpD;;EAMA,MAAI8uB,KAAK,GAAG,SAARA,KAAQ,CAAS/hC,CAAT,EAAY1B,IAAZ,EAAkB;EAC1B,QAAIA,IAAI,CAACoR,MAAL,CAAYlT,KAAZ,CAAkB,CAAlB,EAAqB4Q,KAAzB,EACI;EACJ,QAAIpT,IAAI,GAAGsE,IAAI,CAACoR,MAAL,CAAYlT,KAAZ,CAAkB,CAAlB,EAAqBxC,IAAhC;EACA,QAAI6P,EAAE,GAAI8B,QAAD,GAAc41B,GAAG,CAACz8B,GAAJ,KAAYy8B,GAAG,CAACz8B,GAAJ,GAAU8G,KAAV,CAAgBnL,EAAE,CAACuhC,yBAAnB,CAAZ,GAA4D,EAA1E,GAAgF,EAAzF;EACAn4B,IAAAA,EAAE,CAAC3M,IAAH,CAAQlD,IAAR;EACAunC,IAAAA,GAAG,CAACz8B,GAAJ,CAAQ+E,EAAE,CAACkC,IAAH,CAAQtL,EAAE,CAACuhC,yBAAX,CAAR;EACAR,IAAAA,GAAG,CAAC18B,GAAJ,CAAQ,GAAR;EACA,QAAI,CAAC6G,QAAL;EACI21B,MAAAA,GAAG,CAACxnB,QAAJ,CAAa,qBAAb,EAAoC/J,MAApC;EACP,GAVD;;EAWA,MAAIkyB,QAAQ,GAAG,SAAXA,QAAW,CAASjiC,CAAT,EAAY1B,IAAZ,EAAkB;EAC7B,QAAII,GAAG,GAAGpG,CAAC,CAAC0H,CAAC,CAACkiC,aAAF,CAAgBj/B,MAAjB,CAAD,CAA0B3E,IAA1B,CAA+B,KAA/B,CAAV;EAAA,QACI8rB,KAAK,GAAG,IAAI5U,eAAJ,CAAoB9W,GAAG,CAACkN,KAAJ,CAAU,GAAV,EAAe,CAAf,CAApB,CADZ;EAAA,QAEIu2B,GAAG,GAAG/X,KAAK,CAAC3sB,GAAN,CAAU,IAAV,CAFV;EAAA,QAGIzD,IAAI,GAAGowB,KAAK,CAAC3sB,GAAN,CAAU0kC,GAAV,CAHX;;EAIA,QAAInoC,IAAJ,EAAU;EACN,UAAI6P,EAAE,GAAG03B,GAAG,CAACz8B,GAAJ,KAAYy8B,GAAG,CAACz8B,GAAJ,GAAU8G,KAAV,CAAgBnL,EAAE,CAACuhC,yBAAnB,CAAZ,GAA4D,EAArE;EACA,UAAIl/B,KAAK,GAAG+G,EAAE,CAACovB,OAAH,CAAWj/B,IAAX,CAAZ;EACA,UAAI8I,KAAK,GAAG,CAAC,CAAb,EACI+G,EAAE,CAACsG,MAAH,CAAUrN,KAAV,EAAiB,CAAjB;EACJy+B,MAAAA,GAAG,CAACz8B,GAAJ,CAAQ+E,EAAE,CAACkC,IAAH,CAAQtL,EAAE,CAACuhC,yBAAX,CAAR;EACAR,MAAAA,GAAG,CAAC18B,GAAJ,CAAQ,GAAR;EACH;EACJ,GAbD;;EAcA,MAAIs9B,OAAO,GAAG,SAAVA,OAAU,CAASpiC,CAAT,EAAY1B,IAAZ,EAAkB;EAAA;;EAC5BgjC,IAAAA,GAAG,CAACjgC,WAAJ,CAAgB,aAAhB,EAA+B,gBAAA/C,IAAI,CAAC9B,KAAL,4DAAY3C,MAAZ,IAAqB,CAApD;EACA,QAAIgQ,EAAE,GAAG03B,GAAG,CAACz8B,GAAJ,KAAYy8B,GAAG,CAACz8B,GAAJ,GAAU8G,KAAV,CAAgBnL,EAAE,CAACuhC,yBAAnB,CAAZ,GAA4D,EAArE;;EACA,SAAK,IAAIxnC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8D,IAAI,CAAC9B,KAAL,CAAW3C,MAA/B,EAAuCW,CAAC,EAAxC;EACIqP,MAAAA,EAAE,CAAC3M,IAAH,CAAQoB,IAAI,CAAC9B,KAAL,CAAWhC,CAAX,EAAcR,IAAtB;EADJ;;EAEA,QAAI6L,GAAG,GAAGtD,QAAQ,CAACq/B,aAAa,CAAC98B,GAAd,EAAD,EAAsB,EAAtB,CAAlB;;EACA,QAAIxM,CAAC,CAACgT,QAAF,CAAWzF,GAAX,KAAmBA,GAAG,GAAG,CAAzB,IAA8BgE,EAAE,CAAChQ,MAAH,GAAYgM,GAA9C,EAAmD;EAC/CwmB,MAAAA,MAAM,CAAC5rB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,8BAAnB,CAAD,CAAN;;EACA,aAAO,KAAP;EACH;;EACD,QAAI0hC,CAAC,GAAG9/B,QAAQ,CAACk/B,GAAG,CAAC38B,GAAJ,EAAD,EAAY,EAAZ,CAAhB;;EACA,QAAIxM,CAAC,CAACgT,QAAF,CAAW+2B,CAAX,KAAiBA,CAAC,GAAG,CAArB,IAA0Bx4B,EAAE,CAACkC,IAAH,CAAQtL,EAAE,CAACuhC,yBAAX,EAAsCnoC,MAAtC,GAA+CwoC,CAA7E,EAAgF;EAC5EhW,MAAAA,MAAM,CAAC5rB,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,2BAAnB,CAAD,CAAN;;EACA,aAAO,KAAP;EACH;EACJ,GAfD;;EAgBA,MAAI2hC,cAAc,GAAG,SAAjBA,cAAiB,CAAStiC,CAAT,EAAY;EAC7B,QAAI,CAAC2L,QAAD,IAAa41B,GAAG,CAACz8B,GAAJ,EAAjB,EAA4B;EACxB,UAAI,CAACyG,OAAO,CAAC9K,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,iBAAnB,CAAD,CAAZ,EAAqD;EACjDX,QAAAA,CAAC,CAACC,cAAF;EACAD,QAAAA,CAAC,CAAC4Y,eAAF;EACH;EACJ;EACJ,GAPD;;EAQA,MAAI2pB,QAAQ,GAAG,SAAXA,QAAW,CAASviC,CAAT,EAAY1B,IAAZ,EAAkB;EAAA;;EAC7BgjC,IAAAA,GAAG,CAACjgC,WAAJ,CAAgB,aAAhB,EAA+B,iBAAA/C,IAAI,CAAC9B,KAAL,8DAAY3C,MAAZ,IAAqB,CAArB,IAA0B,iBAAAyE,IAAI,CAACoR,MAAL,oFAAalT,KAAb,0EAAoB3C,MAApB,IAA6B,CAAtF;EACA,QAAIgQ,EAAE,GAAG03B,GAAG,CAACz8B,GAAJ,KAAYy8B,GAAG,CAACz8B,GAAJ,GAAU8G,KAAV,CAAgBnL,EAAE,CAACuhC,yBAAnB,CAAZ,GAA4D,EAArE;EACAH,IAAAA,MAAM,CAAC5uB,IAAP,CAAYpJ,EAAE,CAACkC,IAAH,CAAQ,IAAR,KAAiB+1B,KAA7B;EACH,GAJD;;EAKA,MAAIU,QAAQ,GAAG,SAAXA,QAAW,GAAW;EACtBjsB,IAAAA,MAAM,CAAC3V,OAAP,CAAe,uBAAf,EAAwCuc,OAAxC,CAAgD,MAAhD;EACH,GAFD,CAhE0B;EAoE1B;EACA;;EACA,MAAIslB,iBAAiB,GAAGnqC,CAAC,CAAC0S,SAAF,CAAY,oBAAZ,CAAxB;;EACA,MAAI03B,eAAe,GAAGpqC,CAAC,CAAC0S,SAAF,CAAY,kBAAZ,CAAtB;;EACA,MAAI23B,UAAU,GAAG,SAAbA,UAAa,CAAS3iC,CAAT,EAAY1B,IAAZ,EAAkB;EAAE;EACjC,QAAI0B,CAAC,GAAG;EAAEiD,MAAAA,MAAM,EAAE3E,IAAI,CAACskC;EAAf,KAAR;EACArf,IAAAA,cAAc,CAACvjB,CAAD,CAAd;EACAgkB,IAAAA,cAAc,CAAChkB,CAAD,CAAd;EACAS,IAAAA,EAAE,CAAC0iB,sBAAH;EACA7kB,IAAAA,IAAI,CAACskC,OAAL,CAAa7hC,IAAb,CAAkB,KAAlB,EAAyBU,EAAzB,CAA4B,MAA5B,EAAoChB,EAAE,CAAC0iB,sBAAvC;EACH,GAND;;EAOA,MAAI0f,MAAM,GAAG,SAATA,MAAS,CAAS7iC,CAAT,EAAY1B,IAAZ,EAAkB;EAAA;;EAAE;EAC7BgjC,IAAAA,GAAG,CAACjgC,WAAJ,CAAgB,aAAhB,EAA+B,iBAAA/C,IAAI,CAAC9B,KAAL,8DAAY3C,MAAZ,IAAqB,CAApD;EACAyE,IAAAA,IAAI,CAACskC,OAAL,CAAa7hC,IAAb,CAAkB,QAAlB,EAA4BC,KAA5B,CAAkCshC,cAAlC;EACH,GAHD,CA/E0B;;EAoF1B,MAAInmC,IAAI,GAAGoN,OAAO,CAAChL,KAAD,CAAlB;EAAA,MAA2BM,KAAK,GAAGvG,CAAC,CAAC6D,IAAD,CAApC;EACA,MAAIklC,QAAQ,GAAGxiC,KAAK,CAACkC,IAAN,CAAW,UAAX,EAAuB+D,GAAvB,MAAgC,SAA/C;EACA,MAAIu8B,QAAJ,EACIxiC,KAAK,CAACkC,IAAN,CAAW,uBAAX,EAAoCQ,IAApC;EACJ,MAAIsE,GAAG,GAAGtD,QAAQ,CAACq/B,aAAa,CAAC98B,GAAd,EAAD,EAAsB,EAAtB,CAAlB;EACA,MAAIg+B,SAAS,GAAGltB,SAAS,CAACnV,EAAE,CAACsiC,wBAAJ,CAAzB;EACA,MAAI1H,QAAQ,GAAG;EACX54B,IAAAA,EAAE,EAAEA,EADO;EAEXguB,IAAAA,KAAK,EAAEtD,GAFI;EAGXmO,IAAAA,OAAO,EAAE76B,EAAE,CAAC86B,UAHD;EAIXnhC,IAAAA,OAAO,EAAGuR,QAAQ,GAAG,GAAH,GAAS,GAJhB;EAKXq3B,IAAAA,IAAI,EAAEtB,KAAK,CAAC58B,GAAN,EALK;EAMXm+B,IAAAA,OAAO,EAAEtB,QAAQ,CAAC78B,GAAT,EANE;EAOXo+B,IAAAA,YAAY,EAAEtB,aAAa,CAAC98B,GAAd;EAPH,GAAf;EASAyR,EAAAA,MAAM,CAAColB,UAAP,CAAkB;EACdj9B,IAAAA,GAAG,EAAEokC,SADS;EAEdtpC,IAAAA,IAAI,EAAE,MAFQ;EAGd2pC,IAAAA,SAAS,EAAE,IAHG;EAIdtH,IAAAA,UAAU,EAAE,IAJE;EAII;EAClBuH,IAAAA,kBAAkB,EAAE,2BALN;EAMdC,IAAAA,kBAAkB,EAAE,eANN;EAOdC,IAAAA,kBAAkB,EAAE,sBAPN;EAQd7H,IAAAA,eAAe,EAAGiG,KAAK,CAAC58B,GAAN,EAAD,GAAgB,IAAIK,MAAJ,CAAW,SAASu8B,KAAK,CAAC58B,GAAN,GAAY1K,OAAZ,CAAoB,IAApB,EAA0B,GAA1B,CAAT,GAA0C,IAArD,EAA2D,GAA3D,CAAhB,GAAkF,IARrF;EASd2hC,IAAAA,WAAW,EAAEx5B,QAAQ,CAACo/B,QAAQ,CAAC78B,GAAT,EAAD,EAAiB,EAAjB,CATP;EAUdk3B,IAAAA,gBAAgB,EAAGn2B,GAAG,GAAG,CAAP,GAAYA,GAAZ,GAAkB,IAVtB;EAWd09B,IAAAA,cAAc,EAAEjC,GAXF;EAYdjG,IAAAA,QAAQ,EAAEA,QAZI;EAadmI,IAAAA,gBAAgB,EAAE,IAbJ;EAcdC,IAAAA,kBAAkB,EAAE,IAdN;EAedC,IAAAA,cAAc,EAAEhB,eAAe,CAAC7/B,MAAhB,CAAuB1K,IAAvB,CAA4BuqC,eAA5B,CAfF;EAgBdiB,IAAAA,gBAAgB,EAAElB,iBAAiB,CAAC5/B,MAAlB,CAAyB1K,IAAzB,CAA8BsqC,iBAA9B,CAhBJ;EAiBdmB,IAAAA,eAAe,EAAEnjC,EAAE,CAACojC,sBAjBN;EAkBdC,IAAAA,gBAAgB,EAAErjC,EAAE,CAACsjC,uBAlBP;EAmBdC,IAAAA,QAAQ,EAAE7hC,EAnBI;EAoBd8hC,IAAAA,SAAS,EAAE9hC,EApBG;EAqBdm2B,IAAAA,QAAQ,EAAE;EACNmD,MAAAA,eAAe,EAAEh7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,6BAAnB,CADX;EAENo7B,MAAAA,WAAW,EAAEt7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,yBAAnB,CAFP;EAGNq7B,MAAAA,gBAAgB,EAAEv7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,8BAAnB,CAHZ;EAINs7B,MAAAA,WAAW,EAAEx7B,EAAE,CAACC,QAAH,CAAYC,MAAZ,CAAmB,yBAAnB;EAJP,KArBI;EA2BdujC,IAAAA,QAAQ,EAAE7C,QA3BI;;EAAA,GAAlB,EA4BG5/B,EA5BH,CA4BM,gBA5BN,EA4BwBsgC,KA5BxB,EA6BKtgC,EA7BL,CA6BQ,mBA7BR,EA6B6BwgC,QA7B7B,EA8BKxgC,EA9BL,CA8BQ,kBA9BR,EA8B4B2gC,OA9B5B,EA+BK3gC,EA/BL,CA+BQ,wDA/BR,EA+BkE8gC,QA/BlE;EAAA,GAiCK9gC,EAjCL,CAiCQ,iBAjCR,EAiC2BohC,MAjC3B,EAkCKphC,EAlCL,CAkCQ,qBAlCR,EAkC+BkhC,UAlC/B,EAmCK3hC,KAnCL,CAmCWwhC,QAnCX;;EAoCA,MAAIjB,GAAG,CAACz8B,GAAJ,EAAJ,EAAe;EACXxM,IAAAA,CAAC,CAAC+T,IAAF,CAAO;EACH3N,MAAAA,GAAG,EAAEokC,SADF;EAEHxkC,MAAAA,IAAI,EAAE;EAAEmE,QAAAA,EAAE,EAAEA,EAAN;EAAUguB,QAAAA,KAAK,EAAEtD,GAAjB;EAAsBmO,QAAAA,OAAO,EAAE76B,EAAE,CAAC86B;EAAlC,OAFH;EAGH/rB,MAAAA,QAAQ,EAAE,MAHP;EAIHozB,MAAAA,OAAO,EAAE,IAJN;EAKHjzB,MAAAA,OAAO,EAAE,iBAASD,MAAT,EAAiB;EACtB,YAAIA,MAAM,IAAIA,MAAM,CAACjN,EAAD,CAApB,EAA0B;EACtB,cAAIgN,IAAI,GAAG8G,MAAM,CAAColB,UAAP,CAAkB,QAAlB,EAA4B,MAA5B,CAAX;EACA,cAAIlsB,IAAJ,EACIA,IAAI,CAACjS,IAAL,CAAUe,KAAV,EAAiBjG,CAAC,CAAC6rC,KAAF,EAAjB,EAA4B;EAAEz0B,YAAAA,MAAM,EAAE;EAAElT,cAAAA,KAAK,EAAEkT,MAAM,CAACjN,EAAD;EAAf;EAAV,WAA5B,EAHkB;EAIzB;;EACD,YAAI4+B,QAAJ;EACIC,UAAAA,GAAG,CAACvgC,IAAJ,CAAS,WAAT,EAAsBQ,IAAtB;EACP;EAbE,KAAP;EAeH;EACJ;EAED;;;;;;;;;;EASO,SAAS6iC,WAAT,CAAqB9lC,IAArB,EAA2B+lC,MAA3B,EAAmC;EACtC,MAAI/rC,CAAC,CAACyS,QAAF,CAAWzM,IAAX,CAAJ,EAAsB;EAClB+lC,IAAAA,MAAM,GAAGA,MAAM,IAAI;EAAC,4BAAsB5jC,EAAE,CAACq/B,aAA1B;EAAyC,0BAAoBr/B,EAAE,CAACm/B;EAAhE,KAAnB;EACA,QAAI0E,SAAS,GAAG,EAAhB;EAAA,QAAoBt8B,KAApB;EAAA,QAA2Bu8B,SAAS,GAAGF,MAAM,CAACG,kBAA9C;EAAA,QAAkEC,OAAO,GAAGJ,MAAM,CAACK,gBAAnF;EACA,QAAIH,SAAJ,EACID,SAAS,CAACpnC,IAAV,CAAekI,gBAAgB,CAACm/B,SAAD,CAAhB,GAA8B,SAA7C;EACJv8B,IAAAA,KAAK,GAAG,IAAI7C,MAAJ,CAAW,QAAQm/B,SAAS,CAACv4B,IAAV,CAAe,GAAf,CAAR,GAA8B,GAAzC,EAA8C,GAA9C,CAAR;EACA,QAAI04B,OAAO,KAAK,GAAhB,EACIA,OAAO,GAAG,IAAV;EACJnmC,IAAAA,IAAI,GAAGA,IAAI,CAAClE,OAAL,CAAa4N,KAAb,EAAoB,EAApB,CAAP;EACA1J,IAAAA,IAAI,GAAImmC,OAAD,GAAYnmC,IAAI,CAAClE,OAAL,CAAaqqC,OAAb,EAAsB,GAAtB,CAAZ,GAAyCnmC,IAAhD;EACH;;EACD,MAAIhG,CAAC,CAACyS,QAAF,CAAWzM,IAAX,KAAoBA,IAAI,CAAC2F,IAAL,OAAgB,EAAxC,EACI3F,IAAI,GAAG,CAACA,IAAR;EACJ,MAAI,CAAChG,CAAC,CAACgT,QAAH,IAAe,CAACq5B,QAAQ,CAACrmC,IAAD,CAA5B;EACIA,IAAAA,IAAI,GAAG,IAAP;EACJ,SAAOA,IAAP;EACH;EAED;;;;;;;;;;;EAUO,SAASsmC,YAAT,CAAsBtmC,IAAtB,EAA4B+lC,MAA5B,EAAoC;EACvC,MAAI/rC,CAAC,CAACgT,QAAF,CAAWhN,IAAX,CAAJ,EAAsB;EAClB+lC,IAAAA,MAAM,GAAGA,MAAM,IAAI;EAAC,4BAAsB5jC,EAAE,CAACq/B,aAA1B;EAAyC,0BAAoBr/B,EAAE,CAACm/B;EAAhE,KAAnB;EACA,QAAIiF,KAAK,GAAIvmC,IAAI,GAAG,CAApB;EAAA,QAAwBwmC,MAAM,GAAGxmC,IAAI,GAAG,EAAxC;EAAA,QAA4CymC,SAAS,GAAGV,MAAM,CAACW,aAA/D;EAAA,QACIC,MAAM,GAAGZ,MAAM,CAACK,gBAAP,IAA2B,GADxC;EAAA,QAC6CQ,OAAO,GAAGb,MAAM,CAACG,kBAD9D;EAAA,QAEIW,QAFJ;EAAA,QAEcC,SAFd;EAAA,QAEyB3tB,KAFzB;EAAA,QAEgCjd,CAFhC;EAGA,QAAIlC,CAAC,CAACgT,QAAF,CAAWy5B,SAAX,KAA0BA,SAAS,IAAI,CAAvC,IAA8CA,SAAS,IAAI,EAA/D;EACID,MAAAA,MAAM,GAAGxmC,IAAI,CAAC+mC,OAAL,CAAaN,SAAb,CAAT;EACJ,QAAIE,MAAM,KAAK,GAAf;EACIH,MAAAA,MAAM,GAAGA,MAAM,CAAC1qC,OAAP,CAAe,GAAf,EAAoB6qC,MAApB,CAAT;;EACJ,QAAIC,OAAJ,EAAa;EAAE;EACXC,MAAAA,QAAQ,GAAGL,MAAM,CAACQ,WAAP,CAAmBL,MAAnB,CAAX,CADS;;EAETE,MAAAA,QAAQ,GAAIA,QAAQ,GAAG,CAAC,CAAb,GAAkBA,QAAlB,GAA6BL,MAAM,CAACjrC,MAA/C;EACAurC,MAAAA,SAAS,GAAGN,MAAM,CAACve,SAAP,CAAiB4e,QAAjB,CAAZ,CAHS;;EAIT,WAAK1tB,KAAK,GAAG,CAAR,EAAWjd,CAAC,GAAG2qC,QAApB,EAA8B3qC,CAAC,GAAG,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;EAAE;EACxC,YAAIid,KAAK,GAAC,CAAN,KAAY,CAAZ,IAAiBjd,CAAC,KAAK2qC,QAAvB,KAAoC,CAACN,KAAD,IAAUrqC,CAAC,GAAG,CAAlD,CAAJ,EACI4qC,SAAS,GAAGF,OAAO,GAAGE,SAAtB;EACJA,QAAAA,SAAS,GAAGN,MAAM,CAACrE,MAAP,CAAcjmC,CAAC,GAAC,CAAhB,IAAqB4qC,SAAjC;EACA3tB,QAAAA,KAAK;EACR;;EACDqtB,MAAAA,MAAM,GAAGM,SAAT;EACH;;EACD,WAAON,MAAP;EACH,GAtBD,MAsBO;EAAE;EACL,WAAQxsC,CAAC,CAACoyB,OAAF,CAAUpsB,IAAV,KAAmBA,IAAI,CAACrC,QAAzB,GAAqCqC,IAAI,CAACrC,QAAL,EAArC,GAAuD,EAA9D;EACH;EACJ;EAED;;;;;;;;EAOO,SAASspC,SAAT,CAAmBjnC,IAAnB,EAAyBugC,MAAzB,EAAiC;EACpC,MAAIllC,IAAI,GAAGrB,CAAC,CAACktC,SAAF,CAAYzoC,SAAZ,CAAX;;EACA,MAAIzE,CAAC,CAACgT,QAAF,CAAWuzB,MAAX,KAAsBA,MAAM,IAAG,CAA/B,IAAoCA,MAAM,IAAI,EAAlD,EAAsD;EAClD,QAAI5lB,CAAJ;EAAA,QAAOwsB,GAAG,GAAGhlC,EAAE,CAACoG,WAAH,CAAeyf,WAAf,EAAb;EAAA,QAA2CiL,GAAG,GAAG9wB,EAAE,CAAC4F,cAApD;EAAA,QAAoEq/B,OAAO,GAAGjlC,EAAE,CAAC2/B,cAAjF;;EACA,YAAQvB,MAAR;EACI,WAAK,CAAL;EAAQ,WAAK,CAAL;EAAQ,WAAK,CAAL;EAAQ,WAAK,CAAL;EAAQ5lB,QAAAA,CAAC,GAAGwsB,GAAG,GAAG,KAAN,GAAcC,OAAd,GAAwB,IAAxB,GAA+BA,OAA/B,GAAyC,IAA7C;EAAmD;EAAO;;EAC1F,WAAK,CAAL;EAAQzsB,QAAAA,CAAC,GAAG,YAAJ;EAAkB;EAAO;;EACjC,WAAK,CAAL;EAAQA,QAAAA,CAAC,GAAG,UAAJ;EAAgB;EAAO;;EAC/B,WAAK,CAAL;EAAQA,QAAAA,CAAC,GAAG,SAASsY,GAAT,GAAe,IAAf,GAAsBA,GAAtB,GAA4B,IAAhC;EAAsC;EAAO;;EACrD,WAAK,CAAL;EAAQtY,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,MAA9B;EAAsC;EAAO;;EACrD,WAAK,CAAL;EAAQtY,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,MAA9B;EAAsC;EAAO;;EACrD,WAAK,CAAL;EAAQtY,QAAAA,CAAC,GAAG,SAASsY,GAAT,GAAe,IAAf,GAAsBA,GAAtB,GAA4B,OAA5B,GAAsCmU,OAAtC,GAAgD,IAAhD,GAAuDA,OAAvD,GAAiE,IAArE;EAA2E;EAAO;;EAC1F,WAAK,EAAL;EAASzsB,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,SAA1B,GAAsCmU,OAAtC,GAAgD,IAAhD,GAAuDA,OAAvD,GAAiE,IAArE;EAA2E;EAAO;;EAC3F,WAAK,EAAL;EAASzsB,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,SAA1B,GAAsCmU,OAAtC,GAAgD,IAAhD,GAAuDA,OAAvD,GAAiE,IAArE;EAA2E;EAAO;;EAC3F,WAAK,EAAL;EAASzsB,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,IAA9B;EAAoC;EAAO;;EACpD,WAAK,EAAL;EAAStY,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,IAA9B;EAAoC;EAAO;;EACpD,WAAK,EAAL;EAAStY,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,IAA9B;EAAoC;EAAO;;EACpD,WAAK,EAAL;EAAStY,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,OAA1B,GAAoCmU,OAApC,GAA8C,IAA9C,GAAqDA,OAArD,GAA+D,IAAnE;EAAyE;EAAO;;EACzF,WAAK,EAAL;EAASzsB,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,OAA1B,GAAoCmU,OAApC,GAA8C,IAA9C,GAAqDA,OAArD,GAA+D,IAAnE;EAAyE;EAAO;;EACzF,WAAK,EAAL;EAASzsB,QAAAA,CAAC,GAAG,OAAOsY,GAAP,GAAa,IAAb,GAAoBA,GAApB,GAA0B,OAA1B,GAAoCmU,OAApC,GAA8C,IAA9C,GAAqDA,OAArD,GAA+D,IAAnE;EAAyE;EAAO;EAf7F;;EAiBA/rC,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAACsf,CAAD,EAAI,kBAAkBysB,OAAlB,GAA4B,IAA5B,GAAmCA,OAAnC,GAA6C,IAAjD,CAAV;EACH;;EACD,SAAOC,MAAM,CAAC3oC,KAAP,CAAa,IAAb,EAAmBrD,IAAnB,CAAP;EACH;EAED;;;;;;;;EAOO,SAASisC,UAAT,CAAoBtnC,IAApB,EAA0BugC,MAA1B,EAAkC;EACrC,SAAO8G,MAAM,CAACrnC,IAAD,CAAN,CAAaugC,MAAb,CAAoBA,MAAM,IAAIp+B,EAAE,CAACoG,WAAH,CAAeyf,WAAf,EAA9B,CAAP;EACH;EAED;;;;;;EAKO,SAASuf,QAAT,CAAkB7lC,CAAlB,EAAqB;EACxB,MAAIsC,EAAE,GAAItC,CAAC,IAAIA,CAAC,CAACiD,MAAR,GAAkBjD,CAAC,CAACiD,MAApB,GAA6BxM,QAAtC;EAAA,MACIiM,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CADX;EAAA,MAEIwjC,OAAO,GAAGpjC,GAAG,CAAC3B,IAAJ,CAAS,sCAAT,CAFd;EAGAkP,EAAAA,KAAK,CAAC/W,SAAN,CAAgBmE,OAAhB,CAAwBG,IAAxB,CAA6B8E,EAAE,CAAC2mB,gBAAH,CAAoB,4CAApB,CAA7B,EAAgGxoB,EAAE,CAACslC,aAAnG,EAJwB;;EAKxBtlC,EAAAA,EAAE,CAACulC,iBAAH,CAAqBhmC,CAArB;EACAgjB,EAAAA,QAAQ,CAAChjB,CAAD,CAAR;EACA4lB,EAAAA,SAAS,CAAC5lB,CAAD,CAAT;EACAskB,EAAAA,YAAY,CAACtkB,CAAD,CAAZ;EACAwd,EAAAA,mBAAmB,CAACxd,CAAD,CAAnB;EACAkd,EAAAA,SAAS,CAACld,CAAD,CAAT;EACAujB,EAAAA,cAAc,CAACvjB,CAAD,CAAd;EACAgkB,EAAAA,cAAc,CAAChkB,CAAD,CAAd;EACA0C,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,0BAAT,EAAqC1G,IAArC,CAA0C,YAAW;EACjD4rC,IAAAA,QAAQ,CAACC,QAAT,CAAkBC,gBAAlB,CAAmC3oC,IAAnC,CAAwClF,CAAC,CAAC,IAAD,CAAzC,EAAiD,MAAjD;EACH,GAFD;EAGAwtC,EAAAA,OAAO,CAACzrC,IAAR,CAAa6zB,UAAb,EAhBwB;;EAiBxBxrB,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,kBAAT,EAA6BU,EAA7B,CAAgC,mBAAhC,EAAqD,YAAW;EAC5D,QAAIC,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAD,CAAQoR,WAAR,CAAoB,QAApB,CAAZ;EAAA,QACI08B,OAAO,GAAG9tC,CAAC,CAACmC,MAAD,CADf;EAAA,QAEIoe,KAAK,GAAGnX,KAAK,CAACX,IAAN,CAAW,kBAAX,CAFZ;EAGAW,IAAAA,KAAK,CAACL,WAAN,CAAkB,QAAlB,EAA4BwX,KAAK,CAACklB,MAAN,GAAeC,GAAf,GAAqBnlB,KAAK,CAACglB,MAAN,EAArB,GAAsCuI,OAAO,CAACpuB,SAAR,KAAsBouB,OAAO,CAACvI,MAAR,EAAxF;EACH,GALD;EAMAn7B,EAAAA,GAAG,CAAC3B,IAAJ,CAAS,oBAAT,EAA+Bu0B,QAA/B,CAAwC,UAASt1B,CAAT,EAAY;EAChD,QAAIA,CAAC,CAACu1B,KAAF,IAAW,EAAf,EAAmB;EACfza,MAAAA,UAAU,CAACqP,YAAX,CAAwBztB,MAAxB,CAA+B,KAAK1C,IAApC,EAA0CuI,QAAQ,CAAC,KAAKlJ,KAAN,CAAlD;EACAoB,MAAAA,MAAM,CAACsX,QAAP,GAAkB+I,UAAU,CAAC7e,QAAX,EAAlB;EACA,aAAO,KAAP;EACH;EACJ,GAND;;EAOA,MAAI,CAACwE,EAAE,CAAC4lC,gBAAR,EAA0B;EACtB3jC,IAAAA,GAAG,CAAC3B,IAAJ,CAAS,MAAMN,EAAE,CAACiuB,sBAAT,GAAkC,2BAA3C,EAAwEvtB,MAAxE,GAAiFM,EAAjF,CAAoF,mBAApF,EAAyG,YAAW;EAChH,UAAIC,KAAK,GAAGpJ,CAAC,CAAC,IAAD,CAAb;EAAA,UACIugB,KAAK,GAAGnX,KAAK,CAACX,IAAN,CAAW,gBAAX,CADZ;EAAA,UAEI2oB,GAAG,GAAGhoB,KAAK,CAACd,OAAN,CAAc,MAAMH,EAAE,CAACiuB,sBAAvB,EAA+C,CAA/C,CAFV;;EAGA,UAAIhF,GAAG,CAACwG,YAAJ,GAAmBxG,GAAG,CAACiF,YAA3B,EAAyC;EACrC,YAAIjzB,CAAC,GAAGmd,KAAK,CAACklB,MAAN,GAAeC,GAAf,GAAqBnlB,KAAK,CAACX,WAAN,EAArB,GAA2C5f,CAAC,CAACoxB,GAAD,CAAD,CAAOqU,MAAP,GAAgBC,GAA3D,GAAiEtU,GAAG,CAACiF,YAA7E;EACA,YAAIjzB,CAAC,GAAG,CAAR,EACImd,KAAK,CAACvJ,GAAN,CAAU7O,EAAE,CAACs8B,QAAH,GAAc,OAAd,GAAwB,MAAlC,EAA0C,MAA1C,EAAkDztB,GAAlD,CAAsD,KAAtD,EAA6D0wB,UAAU,CAACnnB,KAAK,CAACvJ,GAAN,CAAU,KAAV,CAAD,CAAV,GAA+B5T,CAA5F;EACP;EACJ,KATD;EAUH;;EACD2lB,EAAAA,eAAe,CAACrhB,CAAD,CAAf;EACAuhB,EAAAA,yBAAyB,CAACvhB,CAAD,CAAzB,CA3CwB;;EA8CxB,MAAIsmC,IAAI,GAAG5jC,GAAG,CAAC3B,IAAJ,CAAS,YAAT,CAAX;;EACA,MAAIulC,IAAI,CAAC,CAAD,CAAR,EAAa;EACTA,IAAAA,IAAI,CAACvlC,IAAL,CAAU,OAAV,EAAmBU,EAAnB,CAAsB,sBAAtB,EAA8C,YAAW;EAAE;EACvD,UAAI8kC,KAAK,GAAGjuC,CAAC,CAAC,IAAD,CAAb;EAAA,UAAqBwxB,IAAI,GAAGyc,KAAK,CAAC3lC,OAAN,CAAc,iBAAd,CAA5B;EAAA,UAA8D4lC,EAAE,GAAG1c,IAAI,CAACxa,GAAL,CAAS,YAAT,CAAnE;EACA,UAAIk3B,EAAJ,EACI1c,IAAI,CAACxrB,IAAL,CAAU,YAAV,EAAwBkoC,EAAxB;EACJ1c,MAAAA,IAAI,CAACxa,GAAL,CAAS,YAAT,EAAuB,CAAvB;EACH,KALD,EAKG7N,EALH,CAKM,qBALN,EAK6B,YAAW;EAAE;EACtC,UAAI8kC,KAAK,GAAGjuC,CAAC,CAAC,IAAD,CAAb;EAAA,UAAqBwxB,IAAI,GAAGyc,KAAK,CAAC3lC,OAAN,CAAc,iBAAd,CAA5B;EAAA,UAA8D4lC,EAAE,GAAG1c,IAAI,CAACxa,GAAL,CAAS,YAAT,CAAnE;EACA,UAAIk3B,EAAJ,EACI1c,IAAI,CAACxa,GAAL,CAAS,YAAT,EAAuBk3B,EAAvB,EAHgC;EAIvC,KATD,EADS;;EAYTF,IAAAA,IAAI,CAACvlC,IAAL,CAAU,sBAAV,EAAkCU,EAAlC,CAAqC,OAArC,EAA8C,YAAW;EACrDhB,MAAAA,EAAE,CAAC8pB,WAAH,CAAe,IAAf;EACH,KAFD;EAGH,GA9DuB;;EAiExB,MAAI,OAAO9pB,EAAE,CAACgmC,sBAAV,IAAoC,WAApC,IAAmDhmC,EAAE,CAACgmC,sBAA1D,EACInc,WAAW,CAACtqB,CAAD,CAAX;EACP;;EAGM,SAAS29B,QAAT,CAAkBj/B,GAAlB,EAAuBua,CAAvB,EAA0B5I,MAA1B,EAAkC;EACrC,MAAIxG,EAAE,GAAGnL,GAAG,CAACkN,KAAJ,CAAU,GAAV,CAAT;EAAA,MACI2J,MAAM,GAAG,IAAIC,eAAJ,CAAoB3L,EAAE,CAAC,CAAD,CAAtB,CADb;EAEA0L,EAAAA,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAAC6P,cAAd,EAA8B7P,EAAE,CAAC8P,UAAjC,EAHqC;;EAIrCgF,EAAAA,MAAM,CAAC5X,GAAP,CAAW8C,EAAE,CAAC+P,qBAAd,EAAqC/P,EAAE,CAACgQ,iBAAxC,EAJqC;;EAKrC,MAAIvM,QAAQ,CAACmM,MAAD,EAAS,MAAT,CAAZ,EAA8B;EAAE;EAC5B,QAAIxR,KAAK,GAAIoa,CAAD,GAAM3gB,CAAC,CAAC2gB,CAAD,CAAP,GAAa3gB,CAAC,CAAC,eAAD,CAAD,CAAmB0R,QAAnB,CAA4B,MAA5B,CAAzB;EACAnL,IAAAA,KAAK,CAACqE,IAAN,CAAW;EAAEwH,MAAAA,MAAM,EAAEb,EAAE,CAAC,CAAD,CAAZ;EAAiBwG,MAAAA,MAAM,EAAE;EAAzB,KAAX;EACAkF,IAAAA,MAAM,CAAClY,OAAP,CAAe,UAAShE,KAAT,EAAgBqvB,GAAhB,EAAqB;EAChCpwB,MAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B4K,IAA3B,CAAgC;EAAElJ,QAAAA,IAAI,EAAE0uB,GAAR;EAAarvB,QAAAA,KAAK,EAAEkyB,QAAQ,CAAClyB,KAAD;EAA5B,OAAhC,EAAuE2Q,QAAvE,CAAgFnL,KAAhF;EACH,KAFD;EAGAA,IAAAA,KAAK,CAAC4L,MAAN;EACH,GAPD,MAOO;EAAE;EACL,QAAI+gB,MAAM,GAAGjW,MAAM,CAACtZ,QAAP,EAAb;EACAxB,IAAAA,MAAM,CAACsX,QAAP,GAAkBlI,EAAE,CAAC,CAAD,CAAF,IAAS2hB,MAAM,GAAG,MAAMA,MAAT,GAAkB,EAAjC,CAAlB;EACH;EACJ;;EAGM,SAASkb,cAAT,CAAwB1mC,CAAxB,EAA2B;EAC9B,MAAI4B,IAAI,GAAGtJ,CAAC,CAAC0H,CAAC,CAAC2mC,aAAH,CAAZ;EAAA,MAA+BpwB,MAAM,GAAG3U,IAAI,CAAChB,OAAL,CAAa,cAAb,EAA6BG,IAA7B,CAAkC,OAAlC,CAAxC;EAAA,MAAoF6lC,EAAE,GAAGhlC,IAAI,CAACb,IAAL,CAAU,GAAV,CAAzF;;EACA,MAAIwV,MAAM,CAACrT,IAAP,CAAY,MAAZ,KAAuB,MAA3B,EAAmC;EAC/BqT,IAAAA,MAAM,CAACrT,IAAP,CAAY,MAAZ,EAAoB,UAApB;EACA0jC,IAAAA,EAAE,CAACvlC,WAAH,CAAe,qBAAf;EACH,GAHD,MAGO,IAAGkV,MAAM,CAACrT,IAAP,CAAY,MAAZ,KAAuB,UAA1B,EAAqC;EACxCqT,IAAAA,MAAM,CAACrT,IAAP,CAAY,MAAZ,EAAoB,MAApB;EACA0jC,IAAAA,EAAE,CAACvlC,WAAH,CAAe,qBAAf;EACH;EACJ;;EAGM,SAASm8B,gBAAT,CAA0Bx9B,CAA1B,EAA6BtB,GAA7B,EAAkCmoC,QAAlC,EAA4C5tB,CAA5C,EAA+C;EAClD,MAAI3W,EAAE,GAAGtC,CAAC,CAACiD,MAAX;EAAA,MACI6jC,SAAS,GAAG,IAAI/rB,GAAJ,CAAQtgB,MAAM,CAACsX,QAAP,CAAgBD,IAAxB,CADhB;EAAA,MAEIjI,EAAE,GAAGnL,GAAG,CAACkN,KAAJ,CAAU,GAAV,CAFT;EAAA,MAGIlJ,GAAG,GAAGpK,CAAC,CAACgK,EAAD,CAHX;EAAA,MAGiB+N,MAAM,GAAI4I,CAAD,GAAM,MAAN,GAAe,KAHzC;EAKA4tB,EAAAA,QAAQ,IAAI,MAAM/qC,IAAI,CAACirC,GAAL,EAAlB;EACAD,EAAAA,SAAS,CAACtQ,QAAV,GAAqB3sB,EAAE,CAAC,CAAD,CAAvB;EACAi9B,EAAAA,SAAS,CAACtb,MAAV,GAAmB3hB,EAAE,CAAC,CAAD,CAArB;EACAi9B,EAAAA,SAAS,CAAC3c,YAAV,CAAuBxsB,GAAvB,CAA2B,UAA3B,EAAuCkpC,QAAvC;EAEA,MAAInkC,GAAG,CAACX,EAAJ,CAAO,kBAAP,CAAJ,EACIW,GAAG,GAAGA,GAAG,CAAC9B,OAAJ,CAAY,YAAZ,CAAN;;EAEJ,MAAIurB,OAAO,GAAG,SAAVA,OAAU,GAAW;EACrB,QAAI5W,MAAM,GAAGuxB,SAAS,CAAC3c,YAAvB;EAAA,QACIhiB,MAAM,GAAGoN,MAAM,CAAC9X,GAAP,CAAW,QAAX,KAAwB,GADrC;;EAEA,QAAIwb,CAAC,IAAI,CAAC9Q,MAAV,EAAkB;EAAE;EAChB,UAAI7J,IAAI,GAAGhG,CAAC,CAAC2gB,CAAD,CAAD,CAAKiT,SAAL,EAAX,CADc;;EAEd5zB,MAAAA,CAAC,CAAC+xB,IAAF,CAAOyc,SAAP,EAAkBxoC,IAAlB,EAAwB,UAASoR,MAAT,EAAiB;EACrC4a,QAAAA,WAAW,CAAC5a,MAAD,CAAX;EACH,OAFD;EAGH,KALD,MAKO;EAAE;EACL,UAAIs3B,GAAG,GAAGzxB,MAAM,CAAC9X,GAAP,CAAW,QAAX,CAAV;;EACA,UAAI0K,MAAM,IAAI,CAAC,MAAD,EAAS,OAAT,EAAkB,KAAlB,EAAyB,OAAzB,EAAkC5H,QAAlC,CAA2CymC,GAA3C,CAAd,EAA+D;EAC3D,YAAIA,GAAG,IAAI,OAAX,EAAoB;EAChBzxB,UAAAA,MAAM,CAACpY,MAAP,CAAc,QAAd,EADgB;;EAEhB2pC,UAAAA,SAAS,CAACtb,MAAV,GAAmBjW,MAAM,CAACtZ,QAAP,KAAoB,GAApB,GAA0B3D,CAAC,CAAC2gB,CAAD,CAAD,CAAKiT,SAAL,EAA7C;EACH;;EACD5zB,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsByX,MAAtB;EACAzX,QAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBkR,QAAvB,CAAgC,kBAAhC,EAAoDtG,IAApD,CAAyD,KAAzD,EAAgE4jC,SAAS,CAAC7qC,QAAV,EAAhE,EAAsF+N,QAAtF,CAA+FqF,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB,CAA/F;EACAzC,QAAAA,UAAU,CAAC,YAAW;EAAEwC,UAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EAAiC,SAA/C,EAAiD,IAAjD,CAAV;EACH,OARD,MAQO,IAAI03B,GAAG,IAAI,OAAX,EAAoB;EACvBrJ,QAAAA,QAAQ,CAACmJ,SAAS,CAAC7qC,QAAV,EAAD,EAAuBgd,CAAvB,EAA0B5I,MAA1B,CAAR;EACH,OAFM,MAEA;EACHiR,QAAAA,YAAY,CAACwlB,SAAS,CAAC7qC,QAAV,EAAD,EAAuB,IAAvB,CAAZ;EACH;EACJ;;EACD,WAAO,KAAP;EACH,GAzBD;;EA2BA,MAAI9C,IAAI,GAAG4C,MAAM,CAAC5C,IAAP,CAAYsB,MAAM,CAACwsC,YAAnB,CAAX;EACA,MAAI9tC,IAAI,CAACU,MAAL,IAAe,CAAnB;EACI,WAAOsyB,OAAO,EAAd,CA3C8C;;EA8ClD,MAAIxc,OAAO,GAAG,SAAVA,OAAU,CAASD,MAAT,EAAiB;EAC3B,QAAIpX,CAAC,CAACyS,QAAF,CAAW2E,MAAX,CAAJ,EACIA,MAAM,GAAGqB,SAAS,CAACrB,MAAD,CAAlB;;EACJ,QAAIA,MAAM,CAACC,OAAX,EAAoB;EAChBwc,MAAAA,OAAO;EACV,KAFD,MAEO;EACH1rB,MAAAA,EAAE,CAACymC,KAAH,CAASx3B,MAAM,CAACtC,KAAhB;EACH;EACJ,GARD,CA9CkD;;EAyDlD,MAAIyV,IAAI,GAAG,SAAPA,IAAO,CAASuY,GAAT,EAAcnG,MAAd,EAAsB7nB,KAAtB,EAA6B;EACpC3M,IAAAA,EAAE,CAACymC,KAAH,CAAS95B,KAAK,GAAG,IAAR,GAAeguB,GAAG,CAACnR,YAA5B,EADoC;EAEvC,GAFD,CAzDkD;;EA8DlD5a,EAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,MAApB;EACA,MAAI63B,MAAM,GAAG,EAAb;;EACA,OAAK,IAAI3sC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,IAAI,CAACU,MAAzB,EAAiCW,CAAC,EAAlC,EAAsC;EAClC,QAAIiI,EAAE,GAAGtJ,IAAI,CAACqB,CAAD,CAAb;EAAA,QAAkBuP,CAAC,GAAGtP,MAAM,CAACwsC,YAAP,CAAoBxkC,EAApB,CAAtB;EAAA,QACI8S,MAAM,GAAG,oBAAoBsxB,QAApB,GAA+B,GAA/B,GAAqCpkC,EAArC,GAA0C,wEADvD;EAEA,QAAIsH,CAAC,IAAIA,CAAC,CAACq9B,aAAX;EACID,MAAAA,MAAM,CAACjqC,IAAP,CAAY;EAAE,wBAAgB,UAAlB;EAA8B,uBAAe,QAA7C;EAAuD,kBAAU6M,CAAC,CAACq9B,aAAF,EAAjE;EAAoF,sBAAc7xB;EAAlG,OAAZ;EACP;;EACDjd,EAAAA,CAAC,CAAC+T,IAAF,CAAO;EACH,WAAOuJ,SAAS,CAACnV,EAAE,CAAC4mC,uBAAJ,CADb;EAEH,YAAQ;EAAE,gBAAUl4B,IAAI,CAACC,SAAL,CAAe+3B,MAAf;EAAZ,KAFL;EAGH,aAAS,KAHN;EAIH,YAAQ;EAJL,GAAP,EAKG13B,IALH,CAKQE,OALR,EAKiBkT,IALjB,CAKsBA,IALtB,EAK4BjT,MAL5B,CAKmC,YAAW;EAC1CP,IAAAA,KAAK,CAACC,GAAN,CAAU,QAAV,EAAoB,SAApB;EACH,GAPD;EAQA,SAAO,KAAP;EACH;;EAGD,IAAIg4B,qBAAJ;;EAGO,SAASC,eAAT,GAA2B;EAC9B,MAAID,qBAAJ,EACIA,qBAAqB,CAAC9vB,MAAtB,GAF0B;;EAG9B8vB,EAAAA,qBAAqB,GAAGhvC,CAAC,CAACgW,KAAF,CAAQ,EAAR,EAAY,IAAZ,EAAkB,YAAY;EAClD,QAAIk5B,MAAM,GAAGn4B,KAAK,CAAC/Q,IAAN,CAAW,YAAX,CAAb;EACA,QAAIkpC,MAAJ,EACIA,MAAM,CAACD,eAAP;EACP,GAJuB,CAAxB;EAKH;;EAGM,SAASE,gBAAT,CAA0BC,MAA1B,EAAkC;EACrC,MAAIj0B,MAAM,GAAGhT,EAAE,CAACknC,MAAH,CAAUD,MAAV,CAAb;;EACA,MAAIj0B,MAAJ,EAAY;EACR,uCAA6B1X,MAAM,CAACqB,OAAP,CAAeqW,MAAf,CAA7B;EAAA;EAAA,UAAUm0B,MAAV;EAAA,UAAkBD,MAAlB;EACIrvC,MAAAA,CAAC,CAAC,iBAAiBovC,MAAjB,GAA0B,eAA1B,GAA4CE,MAA5C,GAAqD,GAAtD,CAAD,CAA4DnmC,EAA5D,CAA+DkmC,MAA/D;EADJ;EAEH;EACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECt+HDlnC,EAAE,CAAC4lC,gBAAH,GAAsB5rC,MAAM,CAACotC,UAAP,CAAkB,oBAAlB,EAAwCvtB,OAA9D;;EACA7Z,EAAE,CAACqnC,aAAH,GAAmB,IAAIC,YAAJ,CAAiBttC,MAAM,CAACW,SAAP,CAAiB4sC,SAAlC,CAAnB;EACAvnC,EAAE,CAAC4c,SAAH,GAAe,CAAC,CAAC5c,EAAE,CAACqnC,aAAH,CAAiBG,MAAjB,EAAjB;EACAxnC,EAAE,CAACynC,KAAH,GAAWznC,EAAE,CAACqnC,aAAH,CAAiBK,OAAjB,CAAyB,MAAzB,IAAmC,CAA9C;;EAGA1tC,MAAM,CAACwsC,YAAP,GAAsB,EAAtB;;EACAxsC,MAAM,CAAC4jC,eAAP,GAAyB,EAAzB;EAEA;;EACA59B,EAAE,CAACkyB,UAAH;;EAGA52B,MAAM,CAACtD,MAAP,CAAcgI,EAAd,EAAkB;EAAE9B,EAAAA,SAAS,EAATA,SAAF;EAAa4U,EAAAA,IAAI,EAAJA,IAAb;EAAmB8pB,EAAAA,UAAU,EAAVA;EAAnB,CAAlB,EAAmD+K,SAAnD;EAEA,IAAIptB,WAAS,GAAG1iB,CAAC,CAAC7B,QAAD,CAAjB;;EAGA6a,MAAM,CAACC,KAAP,CAAa,MAAb,EAAqB,YAAY;EAChCjZ,EAAAA,CAAC,CAACkxB,KAAF,CAAQhc,QAAR,CAAiB66B,SAAjB,CAA2B5nC,EAAE,CAAC6nC,KAA9B;EACA7nC,EAAAA,EAAE,CAACue,eAAH;EACAve,EAAAA,EAAE,CAAColC,QAAH;EACAvtC,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBmJ,EAAtB,CAAyB,SAAzB,EAAoChB,EAAE,CAAColC,QAAvC;EACAvtC,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBmJ,EAAxB,CAA2B,SAA3B,EAAsChB,EAAE,CAAColC,QAAzC;EACA,MAAI0C,IAAI,GAAG9nC,EAAE,CAACqa,UAAH,CAAcqP,YAAd,CAA2B1sB,GAA3B,CAA+B,MAA/B,CAAX;EACA,MAAI8qC,IAAJ,EACCjwC,CAAC,CAAC,YAAD,CAAD,CAAgBkwC,OAAhB,CAAwB;EAAExwB,IAAAA,SAAS,EAAE1f,CAAC,CAAC,MAAMiwC,IAAP,CAAD,CAAcxK,MAAd,GAAuBC;EAApC,GAAxB,EAAmE,GAAnE;EACDv9B,EAAAA,EAAE,CAACgL,aAAH;EACAuP,EAAAA,WAAS,CAACxX,OAAV,CAAkB,MAAlB;EACA,CAXD;;AAcAwX,aAAS,CAACvZ,EAAV,CAAa,WAAb,EAA0B,UAAUzB,CAAV,EAAarG,IAAb,EAAmB;EAC5C,MAAIwa,GAAG,GAAGxa,IAAI,CAAC2E,IAAf,CAD4C;;EAE5C,MAAI4W,GAAG,GAAGvb,IAAI,CAACuS,OAAf,CAF4C;;EAG5C,OAAK,IAAI1R,CAAC,GAAG,CAAR,EAAWqL,GAAG,GAAGqP,GAAG,CAACrb,MAA1B,EAAkCW,CAAC,GAAGqL,GAAtC,EAA2CrL,CAAC,EAA5C,EAAgD;EAAE;EACjD,QAAI6F,CAAC,GAAG6U,GAAG,CAAC1a,CAAD,CAAX;EACA,QAAI,CAAC6F,CAAC,CAACxG,MAAP;EACC;EACA,aAAOF,IAAI,CAACuuB,KAAL,GAAa,KAApB,CAJ8C;;EAK/C,QAAIpjB,GAAG,GAAGqP,GAAG,CAAC,QAAS3Z,CAAC,GAAG,CAAL,GAAUA,CAAC,GAAG,CAAd,GAAkB,EAA1B,CAAD,CAAb,CAL+C;;EAM/C,QAAI,CAAClC,CAAC,CAAC4uB,WAAF,CAAcpiB,GAAd,CAAD,IAAuB,CAACzE,CAAC,CAACE,QAAF,CAAWtG,MAAM,CAAC6K,GAAD,CAAjB,CAA5B;EACC,aAAOnL,IAAI,CAACuuB,KAAL,GAAa,KAApB,CAP8C;EAQ/C;EACD,CAZD;;AAeAlN,aAAS,CAACvZ,EAAV,CAAa,eAAb,EAA8B,QAA9B,EAAwC,YAAY;EACnD,MAAIgnC,MAAM,GAAG,OAAOnwC,CAAC,CAAC,gBAAD,CAAD,CAAoBuB,MAAxC;EACAvB,EAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgX,GAAR,CAAY,SAAZ,EAAuBm5B,MAAvB;EACA57B,EAAAA,UAAU,CAAC,YAAY;EACtBvU,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBkS,GAArB,CAAyB,cAAzB,EAAyC8E,GAAzC,CAA6C,SAA7C,EAAwDm5B,MAAM,GAAG,CAAjE,EAAoEj/B,QAApE,CAA6E,aAA7E;EACA,GAFS,EAEP,CAFO,CAAV;EAGA,CAND;;AASAwR,aAAS,CAACvZ,EAAV,CAAa,iBAAb,EAAgC,QAAhC,EAA0C,YAAY;EACrDnJ,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBuB,MAApB,IAA8BvB,CAAC,CAAC,MAAD,CAAD,CAAUkR,QAAV,CAAmB,YAAnB,CAA9B;EACA,CAFD;;EC3DAlR,CAAC,CAACowC,MAAF,CAAS;EACRp8B,EAAAA,SAAS,EAAE,mBAASvC,CAAT,EAAY;EACtB,WAAO,OAAOA,CAAP,KAAa,SAApB;EACA,GAHO;EAIRssB,EAAAA,MAAM,EAAE,gBAAStsB,CAAT,EAAY;EACnB,WAAOA,CAAC,KAAK,IAAb;EACA,GANO;EAORuB,EAAAA,QAAQ,EAAE,kBAASvB,CAAT,EAAY;EACrB,WAAO,OAAOA,CAAP,KAAa,QAAb,IAAyB46B,QAAQ,CAAC56B,CAAD,CAAxC;EACA,GATO;EAUR5J,EAAAA,QAAQ,EAAE,kBAAS4J,CAAT,EAAY;EACrB,WAAQA,CAAC,KAAK,OAAOA,CAAP,KAAa,QAAb,IAAyB,KAAKgc,UAAL,CAAgBhc,CAAhB,CAA9B,CAAF,IAAwD,KAA/D;EACA,GAZO;EAaRgB,EAAAA,QAAQ,EAAE,kBAAShB,CAAT,EAAY;EACrB,WAAO,OAAOA,CAAP,KAAa,QAApB;EACA,GAfO;EAgBRmd,EAAAA,WAAW,EAAE,qBAASnd,CAAT,EAAY;EACxB,WAAO,OAAOA,CAAP,KAAa,WAApB;EACA,GAlBO;EAmBR2gB,EAAAA,OAAO,EAAE,iBAAS3gB,CAAT,EAAY;EACpB,WAAQ,KAAK5J,QAAL,CAAc4J,CAAd,KAAoB,KAAKgB,QAAL,CAAchB,CAAd,CAApB,IAAwC,KAAKuB,QAAL,CAAcvB,CAAd,CAAxC,IAA4D,KAAKuC,SAAL,CAAevC,CAAf,CAApE;EACA,GArBO;EAsBR4+B,EAAAA,MAAM,EAAE,gBAAS5+B,CAAT,EAAY;EACnB,WAAO,KAAKvQ,IAAL,CAAUuQ,CAAV,MAAiB,MAAjB,IAA2BA,CAAC,CAAC9N,QAAF,OAAiB,cAA5C,IAA8D,CAAC2sC,KAAK,CAAC7+B,CAAD,CAA3E;EACA,GAxBO;EAyBRuE,EAAAA,KAAK,EAAE,eAASu6B,IAAT,EAAe9+B,CAAf,EAAkB7D,EAAlB,EAAsB5H,IAAtB,EAA4BwqC,QAA5B,EAAsC;EAC5CD,IAAAA,IAAI,GAAGA,IAAI,IAAI,CAAf;EACA9+B,IAAAA,CAAC,GAAGA,CAAC,IAAI,EAAT;EACA,QAAI5G,CAAC,GAAG+C,EAAR;EAAA,QAAYxK,CAAC,GAAG4C,IAAhB;EAAA,QAAsB2a,CAAtB;EAAA,QAAyBqU,CAAzB;EACA,QAAI,KAAKviB,QAAL,CAAc7E,EAAd,CAAJ,EACC/C,CAAC,GAAG4G,CAAC,CAAC7D,EAAD,CAAL;EACD,QAAI,CAAC/C,CAAL,EACC;EACD,QAAI,CAAC,KAAK+jB,WAAL,CAAiB5oB,IAAjB,CAAD,IAA2B,CAAC,KAAK4R,OAAL,CAAaxU,CAAb,CAAhC,EACCA,CAAC,GAAG,CAAC4C,IAAD,CAAJ;;EACD2a,IAAAA,CAAC,GAAG,aAAW;EACd9V,MAAAA,CAAC,CAACnG,KAAF,CAAQ+M,CAAR,EAAWrO,CAAC,IAAI,EAAhB;EACA,KAFD;;EAGA4xB,IAAAA,CAAC,GAAIwb,QAAD,GAAatoB,WAAW,CAACvH,CAAD,EAAI4vB,IAAJ,CAAxB,GAAoCh8B,UAAU,CAACoM,CAAD,EAAI4vB,IAAJ,CAAlD;EACA,WAAO;EACNE,MAAAA,QAAQ,EAAED,QADJ;EAENtxB,MAAAA,MAAM,EAAE,kBAAW;EAClB,YAAI,KAAKuxB,QAAT,EAAmB;EAClBhoB,UAAAA,aAAa,CAACuM,CAAD,CAAb;EACA,SAFD,MAEO;EACN0b,UAAAA,YAAY,CAAC1b,CAAD,CAAZ;EACA;EACD;EARK,KAAP;EAUA;EAjDO,CAAT;;ECDA;;;;;;;;;EAQAh1B,CAAC,CAAC4N,EAAF,CAAKuN,MAAL,GAAc,UAAStB,MAAT,EAAiB;EAAE;EAC7B,MAAI82B,GAAG,GAAG,EAAV;EAAA,MACIxmC,EAAE,GAAG,KAAKS,IAAL,CAAU,IAAV,CADT;EAAA,MAEI9C,GAAG,GAAG,KAAK,CAAL,CAFV;EAAA,MAGI+C,CAAC,GAAGV,EAAE,CAACyC,KAAH,CAAS,aAAT,CAHR;EAAA,MAII+T,CAJJ;EAAA,MAIOkU,GAJP;EAAA,MAIYrC,KAJZ;;EAKA,MAAI3nB,CAAJ,EAAO;EAAE;EACL8V,IAAAA,CAAC,GAAGxY,EAAE,CAAC8I,OAAH,CAAWnJ,GAAX,CAAJ,CADG;;EAEH+sB,IAAAA,GAAG,GAAG,KAAK7uB,IAAL,CAAU,OAAV,CAAN,CAFG;;EAGHwsB,IAAAA,KAAK,GAAG3nB,CAAC,CAAC,CAAD,CAAT,CAHG;EAIN,GAJD,MAIO,IAAI/C,GAAG,IAAIA,GAAG,CAACyI,QAAf,EAAyB;EAAE;EAC9BoQ,IAAAA,CAAC,GAAG7Y,GAAG,CAACwI,QAAR,CAD4B;;EAE5BukB,IAAAA,GAAG,GAAG/sB,GAAG,CAACqC,EAAJ,CAAOrI,OAAP,CAAe,IAAI+K,MAAJ,CAAW,QAAQ/E,GAAG,CAACsI,MAAZ,GAAqB,GAAhC,EAAqC,GAArC,CAAf,EAA0D,EAA1D,CAAN,CAF4B;;EAG5BoiB,IAAAA,KAAK,GAAGxyB,CAAC,CAAC8H,GAAG,CAACyI,QAAL,CAAD,CAAgBvK,IAAhB,CAAqB,UAArB,CAAR,CAH4B;EAI/B;;EACD,MAAI6M,QAAQ,GAAG,iBAAiBgiB,GAAG,GAAG,MAAMA,GAAT,GAAe,EAAnC,IAAyC,cAAzC,IAA2Dhb,MAAM,GAAG,QAAQA,MAAX,GAAoB,EAArF,IAA2F,GAA1G;EACA,MAAI7Z,CAAC,CAACoyB,OAAF,CAAUI,KAAV,CAAJ,EACI3f,QAAQ,IAAI,aAAa2f,KAAb,GAAqB,IAAjC;;EACJ,MAAI7R,CAAC,IAAI9N,QAAT,EAAmB;EACf7S,IAAAA,CAAC,CAAC2gB,CAAD,CAAD,CAAKlY,IAAL,CAAUoK,QAAV,EAAoB9Q,IAApB,CAAyB,YAAW;EAChC,UAAIquB,GAAG,GAAG,KAAKjX,YAAL,CAAkB,YAAlB,EAAgCnR,MAAhC,CAAuC,CAAvC,CAAV;EAAA,UAAqDtG,IAAI,GAAG,KAAKyX,YAAL,CAAkB,MAAlB,CAA5D;EACAiX,MAAAA,GAAG,GAAI,MAAMpe,IAAN,CAAWtQ,IAAX,CAAD,GAAqB,OAAO0uB,GAA5B,GAAkCA,GAAxC,CAFgC;;EAGhCugB,MAAAA,GAAG,CAACvgB,GAAD,CAAH,GAAYugB,GAAG,CAACvgB,GAAD,CAAJ,GAAaugB,GAAG,CAACvgB,GAAD,CAAH,CAASzW,GAAT,CAAa,IAAb,CAAb,GAAkC3Z,CAAC,CAAC,IAAD,CAA9C,CAHgC;EAInC,KAJD;EAKH;;EACD,SAAQ6Z,MAAD,GAAW82B,GAAG,CAAC92B,MAAD,CAAd,GAAyB82B,GAAhC;EACH,CA1BD;;EA2BA3wC,CAAC,CAAC4N,EAAF,CAAKwiC,MAAL,CAAY;EACR;EACAv0B,EAAAA,GAAG,EAAE,eAAW;EACZ,QAAI+F,IAAI,GAAG,KAAKtZ,OAAL,CAAa,QAAQ,KAAKtC,IAAL,CAAU,OAAV,EAAmBgC,MAAnB,CAA0B,CAA1B,CAArB,CAAX;EACA,QAAI,CAAC4Z,IAAI,CAAC,CAAD,CAAT,EACIA,IAAI,GAAG,KAAKtZ,OAAL,CAAa,wBAAb,CAAP,CAHQ;;EAIZ,WAAOsZ,IAAP;EACH,GAPO;EAQR;EACAgvB,EAAAA,OAAO,EAAE,iBAAS/xB,CAAT,EAAY;EACjB,QAAIzU,GAAG,GAAG,KAAK9B,OAAL,CAAa,QAAQ,KAAKtC,IAAL,CAAU,OAAV,EAAmBgC,MAAnB,CAA0B,CAA1B,CAArB,CAAV,CADiB;;EAEjB,QAAI,CAACoC,GAAG,CAAC,CAAD,CAAR;EACIA,MAAAA,GAAG,GAAG,KAAK9B,OAAL,CAAa,UAAb,CAAN;;EACJ,QAAI,OAAOuW,CAAP,IAAa,WAAjB,EAA8B;EAC1BzU,MAAAA,GAAG,CAACZ,MAAJ,CAAWqV,CAAX;EACA,aAAO,IAAP;EACH,KAHD,MAGO;EACH,aAAOzU,GAAG,CAACX,EAAJ,CAAO,UAAP,CAAP;EACH;EACJ,GAnBO;EAoBR;EACA;EACAs/B,EAAAA,QAAQ,EAAE,kBAASlqB,CAAT,EAAY;EAClB,QAAI,OAAOA,CAAP,IAAa,WAAjB,EAA8B;EAC1B,WAAKtV,IAAL,CAAU,UAAV,EAAsBsV,CAAtB;EACA,aAAO,IAAP;EACH,KAHD,MAGO;EACH,aAAO,KAAKtV,IAAL,CAAU,UAAV,CAAP;EACH;EACJ,GA7BO;EA8BR;EACA;EACAtF,EAAAA,QAAQ,EAAE,kBAAS4a,CAAT,EAAY;EAClB,QAAI,OAAOA,CAAP,IAAa,WAAjB,EAA8B;EAC1B,WAAKtV,IAAL,CAAU,UAAV,EAAsBsV,CAAtB;EACA,aAAO,IAAP;EACH,KAHD,MAGO;EACH,aAAO,KAAKtV,IAAL,CAAU,UAAV,CAAP;EACH;EACJ,GAvCO;EAwCR;EACA;EACAxI,EAAAA,KAAK,EAAE,eAAS8d,CAAT,EAAY;EACf,QAAI3d,IAAI,GAAG,KAAK0J,IAAL,CAAU,MAAV,CAAX;;EACA,QAAI,OAAOiU,CAAP,IAAa,WAAjB,EAA8B;EAC1B,UAAI,CAAClH,KAAK,CAACC,OAAN,CAAciH,CAAd,CAAL,EACIA,CAAC,GAAG,CAACA,CAAD,CAAJ;EACJ,UAAI3d,IAAI,GAAG,KAAK0J,IAAL,CAAU,MAAV,CAAX;EACA,UAAIZ,EAAE,GAAI9I,IAAI,IAAI,OAAR,IAAmBA,IAAI,IAAI,UAA5B,GAA0C,KAAKiE,GAAL,EAA1C,GAAuD,KAAK,CAAL,CAAhE;EACA,UAAIgD,EAAE,CAAC+rB,gBAAH,CAAoB,IAApB,CAAJ,EACI,KAAK1nB,GAAL,CAASqS,CAAT,EAAY7Y,IAAZ,CAAiB,QAAjB,EAA2B0P,IAA3B,GADJ,KAGIvN,EAAE,CAAC2nB,YAAH,CAAgB9lB,EAAhB,EAAoB6U,CAApB;EACJ,aAAO,IAAP;EACH,KAVD,MAUO;EACH,UAAI3d,IAAI,IAAI,UAAZ,EAAwB;EACpB,YAAIsL,GAAG,GAAGrE,EAAE,CAAC+L,eAAH,CAAmB,KAAK/O,GAAL,EAAnB,CAAV;EACA,eAAQ,KAAK5D,MAAL,IAAe,CAAhB,GAAqBiL,GAAG,CAACiH,IAAJ,EAArB,GAAkCjH,GAAzC;EACH,OAHD,MAGO,IAAItL,IAAI,IAAI,OAAZ,EAAqB;EACxB,eAAOiH,EAAE,CAAC+L,eAAH,CAAmB,KAAK/O,GAAL,EAAnB,EAA+BsO,IAA/B,EAAP;EACH,OAFM,MAEA,IAAItL,EAAE,CAAC+rB,gBAAH,CAAoB,IAApB,CAAJ,EAA+B;EAClC,aAAKluB,IAAL,CAAU,QAAV,EAAoB0P,IAApB;EACA,eAAO,KAAKlJ,GAAL,EAAP;EACH,OAHM,MAGA;EACH,eAAO,KAAKA,GAAL,EAAP;EACH;EACJ;EACJ,GAnEO;EAoER;EACAqkC,EAAAA,QAAQ,EAAE,oBAAW;EACjB,WAAO1oC,EAAE,CAAC2jC,WAAH,CAAe,KAAK/qC,KAAL,EAAf,CAAP;EACH,GAvEO;EAwER;EACA+vC,EAAAA,MAAM,EAAE,kBAAW;EACf,WAAO3oC,EAAE,CAAC8kC,SAAH,CAAa,KAAKlsC,KAAL,EAAb,EAA2B,KAAKiF,IAAL,CAAU,QAAV,CAA3B,CAAP;EACH,GA3EO;EA4ER;EACA+qC,EAAAA,QAAQ,EAAE,oBAAW;EACjB,WAAO5oC,EAAE,CAAC8kC,SAAH,CAAa,KAAKlsC,KAAL,EAAb,EAA2B,KAAKiF,IAAL,CAAU,QAAV,CAA3B,EAAgD8qC,MAAhD,EAAP;EACH;EA/EO,CAAZ;;EClCA9wC,CAAC,CAACmC,MAAD,CAAD,CAAUwG,GAAV,CAAc,mBAAd;;EAGA,IAAIilC,QAAQ,GAAGD,QAAQ,CAACC,QAAxB;EACAA,QAAQ,CAAChtC,SAAT,CAAmBowC,OAAnB,GAA6BpD,QAAQ,CAAChtC,SAAT,CAAmB4I,MAAhD;;EACAokC,QAAQ,CAAChtC,SAAT,CAAmB4I,MAAnB,GAA4B,SAASA,MAAT,CAAgByB,KAAhB,EAAuB;EAClD,MAAIgmC,eAAe,GAAGjxC,CAAC,CAACiL,KAAK,CAACojC,aAAP,CAAvB;EAAA,MAA8C6C,YAAY,GAAGD,eAAe,CAACjoC,IAAhB,EAA7D;EAAA,MACCwQ,IAAI,GAAGy3B,eAAe,CAACrmC,IAAhB,CAAqB,MAArB,CADR;EAAA,MACsCumC,KAAK,GAAGnxC,CAAC,CAACiL,KAAK,CAACN,MAAP,CAAD,CAAgBrC,OAAhB,CAAwB,iBAAxB,CAD9C;EAEA,MAAI,CAAC4oC,YAAY,CAACznC,EAAb,CAAgB,eAAhB,CAAD,IAAqC0nC,KAAK,CAAC,CAAD,CAAL,IAAY33B,IAAZ,IAAoBA,IAAI,IAAI,GAA5B,IAAmCA,IAAI,IAAI,qBAApF;EACC;;EACD,OAAKw3B,OAAL,CAAa/lC,KAAb;EACA,CAND;;EASAjL,CAAC,CAAC,yCAAD,CAAD,CAA6CmJ,EAA7C,CAAgD,OAAhD,EAAyD,UAASzB,CAAT,EAAY;EACpE,MAAI8R,IAAI,GAAGxZ,CAAC,CAAC,IAAD,CAAD,CAAQ4K,IAAR,CAAa,MAAb,CAAX;EACA,MAAI4O,IAAI,IAAIA,IAAI,IAAI,GAAhB,IAAuB9R,CAAC,CAACiD,MAAF,CAASuyB,QAAT,IAAqB,MAAhD,EACC/6B,MAAM,CAACsX,QAAP,GAAkBD,IAAlB;EACD,CAJD;;;;"}