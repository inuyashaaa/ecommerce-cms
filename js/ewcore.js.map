{"version":3,"file":"ewcore.js","sources":["../../build/js/loadjs.js","../../build/js/requestAnimationFrame.js","../../build/js/CustomEvent.js","../../build/js/Language.js","../../build/js/SelectionListOption.js","../../build/js/SelectionList.js","../../build/js/ewcore.js"],"sourcesContent":["this.loadjs = (function () { //***\n/**\n * Global dependencies.\n * @global {Object} document - DOM\n */\n\nvar devnull = function() {},\n    bundleIdCache = {},\n    bundleResultCache = {},\n    bundleCallbackQueue = {};\n\n\n/**\n * Subscribe to bundle load event.\n * @param {string[]} bundleIds - Bundle ids\n * @param {Function} callbackFn - The callback function\n */\nfunction subscribe(bundleIds, callbackFn) {\n  // listify\n  bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n\n  var depsNotFound = [],\n      i = bundleIds.length,\n      numWaiting = i,\n      fn,\n      bundleId,\n      r,\n      q;\n\n  // define callback function\n  fn = function (bundleId, pathsNotFound) {\n    if (pathsNotFound.length) depsNotFound.push(bundleId);\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(depsNotFound);\n  };\n\n  // register callback\n  while (i--) {\n    bundleId = bundleIds[i];\n\n    // execute callback if in result cache\n    r = bundleResultCache[bundleId];\n    if (r) {\n      fn(bundleId, r);\n      continue;\n    }\n\n    // add to callback queue\n    q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n    q.push(fn);\n  }\n}\n\n\n/**\n * Publish bundle load event.\n * @param {string} bundleId - Bundle id\n * @param {string[]} pathsNotFound - List of files not found\n */\nfunction publish(bundleId, pathsNotFound) {\n  // exit if id isn't defined\n  if (!bundleId) return;\n\n  var q = bundleCallbackQueue[bundleId];\n\n  // cache result\n  bundleResultCache[bundleId] = pathsNotFound;\n\n  // exit if queue is empty\n  if (!q) return;\n\n  // empty callback queue\n  while (q.length) {\n    q[0](bundleId, pathsNotFound);\n    q.splice(0, 1);\n  }\n}\n\n\n/**\n * Execute callbacks.\n * @param {Object or Function} args - The callback args\n * @param {string[]} depsNotFound - List of dependencies not found\n */\nfunction executeCallbacks(args, depsNotFound) {\n  // accept function as argument\n  if (args.call) args = {success: args};\n\n  // success and error callbacks\n  if (depsNotFound.length) (args.error || devnull)(depsNotFound);\n  else (args.success || devnull)(args);\n}\n\n\n/**\n * Load individual file.\n * @param {string} path - The file path\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFile(path, callbackFn, args, numTries) {\n  var doc = document,\n      async = args.async,\n      maxTries = (args.numRetries || 0) + 1,\n      beforeCallbackFn = args.before || devnull,\n      pathname = path.replace(/[\\?|#].*$/, ''),\n      pathStripped = path.replace(/^(css|img)!/, ''),\n      isLegacyIECss,\n      e;\n\n  numTries = numTries || 0;\n\n  if (/(^css!|\\.css$)/.test(pathname)) {\n    // css\n    e = doc.createElement('link');\n    e.rel = 'stylesheet';\n    e.href = pathStripped;\n\n    // tag IE9+\n    isLegacyIECss = 'hideFocus' in e;\n\n    // use preload in IE Edge (to detect load errors)\n    if (isLegacyIECss && e.relList) {\n      isLegacyIECss = 0;\n      e.rel = 'preload';\n      e.as = 'style';\n    }\n  } else if (/(^img!|\\.(png|gif|jpg|svg|webp)$)/.test(pathname)) {\n    // image\n    e = doc.createElement('img');\n    e.src = pathStripped;\n  } else {\n    // javascript\n    e = doc.createElement('script');\n    e.src = path;\n    e.async = async === undefined ? true : async;\n  }\n\n  e.onload = e.onerror = e.onbeforeload = function (ev) {\n    var result = ev.type[0];\n\n    // treat empty stylesheets as failures to get around lack of onerror\n    // support in IE9-11\n    if (isLegacyIECss) {\n      try {\n        if (!e.sheet.cssText.length) result = 'e';\n      } catch (x) {\n        // sheets objects created from load errors don't allow access to\n        // `cssText` (unless error is Code:18 SecurityError)\n        if (x.code != 18) result = 'e';\n      }\n    }\n\n    // handle retries in case of load failure\n    if (result == 'e') {\n      // increment counter\n      numTries += 1;\n\n      // exit function and try again\n      if (numTries < maxTries) {\n        return loadFile(path, callbackFn, args, numTries);\n      }\n    } else if (e.rel == 'preload' && e.as == 'style') {\n      // activate preloaded stylesheets\n      return e.rel = 'stylesheet'; // jshint ignore:line\n    }\n\n    // execute callback\n    callbackFn(path, result, ev.defaultPrevented);\n  };\n\n  // add to document (unless callback returns `false`)\n  if (beforeCallbackFn(path, e) !== false && e.tagName != \"IMG\") doc.head.appendChild(e); //***\n}\n\n\n/**\n * Load multiple files.\n * @param {string[]} paths - The file paths\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFiles(paths, callbackFn, args) {\n  // listify paths\n  paths = paths.push ? paths : [paths];\n\n  var numWaiting = paths.length,\n      x = numWaiting,\n      pathsNotFound = [],\n      fn,\n      i;\n\n  // define callback function\n  fn = function(path, result, defaultPrevented) {\n    // handle error\n    if (result == 'e') pathsNotFound.push(path);\n\n    // handle beforeload event. If defaultPrevented then that means the load\n    // will be blocked (ex. Ghostery/ABP on Safari)\n    if (result == 'b') {\n      if (defaultPrevented) pathsNotFound.push(path);\n      else return;\n    }\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(pathsNotFound);\n  };\n\n  // load scripts\n  for (i=0; i < x; i++) loadFile(paths[i], fn, args);\n}\n\n\n/**\n * Initiate script load and register bundle.\n * @param {(string|string[])} paths - The file paths\n * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\n *   callback or (3) object literal with success/error arguments, numRetries,\n *   etc.\n * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\n *   literal with success/error arguments, numRetries, etc.\n */\nfunction loadjs(paths, arg1, arg2) {\n  var bundleId,\n      args;\n\n  // bundleId (if string)\n  if (arg1 && arg1.trim) bundleId = arg1;\n\n  // args (default is {})\n  args = (bundleId ? arg2 : arg1) || {};\n\n  // throw error if bundle is already defined\n  if (bundleId) {\n    if (bundleId in bundleIdCache) {\n      throw \"LoadJS\";\n    } else {\n      bundleIdCache[bundleId] = true;\n    }\n  }\n\n  function loadFn(resolve, reject) {\n    loadFiles(paths, function (pathsNotFound) {\n      // execute callbacks\n      executeCallbacks(args, pathsNotFound);\n\n      // resolve Promise\n      if (resolve) {\n        executeCallbacks({success: resolve, error: reject}, pathsNotFound);\n      }\n\n      // publish bundle load event\n      publish(bundleId, pathsNotFound);\n    }, args);\n  }\n\n  if (args.returnPromise) return new Promise(loadFn);\n  else loadFn();\n}\n\n\n/**\n * Execute callbacks when dependencies have been satisfied.\n * @param {(string|string[])} deps - List of bundle ids\n * @param {Object} args - success/error arguments\n */\nloadjs.ready = function ready(deps, args) {\n  // subscribe to bundle load event\n  subscribe(deps, function (depsNotFound) {\n    // execute callbacks\n    executeCallbacks(args, depsNotFound);\n  });\n\n  return loadjs;\n};\n\n\n/**\n * Manually satisfy bundle dependencies.\n * @param {string} bundleId - The bundle id\n */\nloadjs.done = function done(bundleId) {\n  publish(bundleId, []);\n};\n\n\n/**\n * Reset loadjs dependencies statuses\n */\nloadjs.reset = function reset() {\n  bundleIdCache = {};\n  bundleResultCache = {};\n  bundleCallbackQueue = {};\n};\n\n\n/**\n * Determine if bundle has already been defined\n * @param String} bundleId - The bundle id\n */\nloadjs.isDefined = function isDefined(bundleId) {\n  return bundleId in bundleIdCache;\n};\n\n\n// export\nreturn loadjs;\n\n})(); //***\n","(function (global) {\r\n\tvar rafPrefix;\r\n\r\n\t// do not inject RAF in order to avoid broken performance\r\n\tvar nowOffset = Date.now();\r\n\r\n\t// use performance api if exist, otherwise use Date.now.\r\n\t// Date.now polyfill required.\r\n\tvar pnow = function () {\r\n\t\tif (global.performance && typeof global.performance.now === 'function') {\r\n\t\t\treturn global.performance.now();\r\n\t\t}\r\n\t\t// fallback\r\n\t\treturn Date.now() - nowOffset;\r\n\t};\r\n\r\n\tif ('mozRequestAnimationFrame' in global) {\r\n\t\trafPrefix = 'moz';\r\n\r\n\t} else if ('webkitRequestAnimationFrame' in global) {\r\n\t\trafPrefix = 'webkit';\r\n\r\n\t}\r\n\r\n\tif (rafPrefix) {\r\n\t\tif (!global.requestAnimationFrame) //***\r\n\t\t\tglobal.requestAnimationFrame = function (callback) {\r\n\t\t\t\treturn global[rafPrefix + 'RequestAnimationFrame'](function () {\r\n\t\t\t\t\tcallback(pnow());\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\tif (!global.cancelAnimationFrame) //***\r\n\t\t\tglobal.cancelAnimationFrame = global[rafPrefix + 'CancelAnimationFrame'];\r\n\t} else {\r\n\r\n\t\tvar lastTime = Date.now();\r\n\r\n\t\tglobal.requestAnimationFrame = function (callback) {\r\n\t\t\tif (typeof callback !== 'function') {\r\n\t\t\t\tthrow new TypeError(callback + ' is not a function');\r\n\t\t\t}\r\n\r\n\t\t\tvar\r\n\t\t\tcurrentTime = Date.now(),\r\n\t\t\tdelay = 16 + lastTime - currentTime;\r\n\r\n\t\t\tif (delay < 0) {\r\n\t\t\t\tdelay = 0;\r\n\t\t\t}\r\n\r\n\t\t\tlastTime = currentTime;\r\n\r\n\t\t\treturn setTimeout(function () {\r\n\t\t\t\tlastTime = Date.now();\r\n\r\n\t\t\t\tcallback(pnow());\r\n\t\t\t}, delay);\r\n\t\t};\r\n\r\n\t\tglobal.cancelAnimationFrame = function (id) {\r\n\t\t\tclearTimeout(id);\r\n\t\t};\r\n\t}\r\n}(this));\r\n","(function () {\r\n\r\n  if ( typeof window.CustomEvent === \"function\" ) return false;\r\n\r\n  function CustomEvent ( event, params ) {\r\n    params = params || { bubbles: false, cancelable: false, detail: null };\r\n    var evt = document.createEvent( 'CustomEvent' );\r\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\n    return evt;\r\n   }\r\n\r\n  window.CustomEvent = CustomEvent;\r\n})();","/**\n * Language class\n */\nexport default class Language {\n    /**\n     * Constructor\n     * @param {Object} obj Phrases\n     */\n    constructor(obj) {\n        this.obj = obj;\n        this.phrase = function(id) {\n            return this.obj[id.toLowerCase()];\n        };\n    }\n}","/**\r\n * Class selection list option\r\n */\r\nexport default class SelectionListOption {\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor(value, text, selected) {\r\n        this.value = String(value || \"\");\r\n        this.text = String(text || \"\");\r\n        this.selected = !!selected;\r\n    }\r\n\r\n}","import SelectionListOption from \"./SelectionListOption\";\r\n\r\n/**\r\n * Class Dynamic Selection List\r\n */\r\nexport default class SelectionList extends HTMLInputElement {\r\n    containerClass = \"d-table\";\r\n    rowClass = \"d-table-row\";\r\n    cellClass = \"d-table-cell\";\r\n\r\n    /**\r\n     * Options\r\n     * @type {SelectionListOption[]}\r\n     */\r\n    options = [];\r\n\r\n    /**\r\n     * Specify observed attributes so that attributeChangedCallback will work\r\n     */\r\n    static get observedAttributes() {\r\n        return [\"class\"];\r\n    }\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * Connected\r\n     */\r\n    connectedCallback() {\r\n        let value = this.getAttribute(\"value\") || \"\",\r\n            values = this.multiple ? value.split(ew.MULTIPLE_OPTION_SEPARATOR) : [value];\r\n        for (let val of values)\r\n            this.add(val, \"\", true);\r\n    }\r\n\r\n    /**\r\n     * Target element id\r\n     */\r\n    get targetId() {\r\n        return this.getAttribute(\"data-target\");\r\n    }\r\n\r\n    /**\r\n     * Target\r\n     */\r\n    get target() {\r\n        return this.parentNode.querySelector(\"#\" + this.targetId);\r\n    }\r\n\r\n    /**\r\n     * Template id\r\n     */\r\n    get templateId() {\r\n        return this.getAttribute(\"data-template\");\r\n    }\r\n\r\n    /**\r\n     * Template\r\n     */\r\n    get template() {\r\n        return this.parentNode.querySelector(\"#\" + this.templateId);\r\n    }\r\n\r\n    /**\r\n     * Input element id (for AutoSuggest)\r\n     */\r\n    get inputId() {\r\n        return this.getAttribute(\"data-input\");\r\n    }\r\n\r\n    /**\r\n     * Input element (for AutoSuggest)\r\n     */\r\n    get input() {\r\n        return this.parentNode.querySelector(\"#\" + this.inputId);\r\n    }\r\n\r\n    /**\r\n     * Is list\r\n     */\r\n    get list() {\r\n        return this.options;\r\n    }\r\n\r\n    /**\r\n     * Number of columns\r\n     */\r\n    get columns() {\r\n        if (ew && ew.IS_MOBILE) {\r\n            return 1;\r\n        } else {\r\n            let cols = this.getAttribute(\"data-repeatcolumn\");\r\n            return cols ? parseInt(cols, 10) : 1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Layout\r\n     */\r\n    get layout() {\r\n        let type = this.getAttribute(\"data-layout\");\r\n        return (type == \"grid\") ? type : \"\";\r\n    }\r\n\r\n    /**\r\n     * Length\r\n     */\r\n    get length() {\r\n        return this.options.length;\r\n    }\r\n\r\n    /**\r\n     * Get selected index\r\n     */\r\n    get selectedIndex() {\r\n        for (let option of this.options) {\r\n            if (option.selected)\r\n                return option.index;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     * Set selected index\r\n     */\r\n    set selectedIndex(index) {\r\n        let option = this.options[index];\r\n        if (option) {\r\n            this.options.forEach(option => option.selected = false);\r\n            option.selected = true;\r\n            this.render();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Type\r\n     */\r\n    get type() {\r\n        return this.getAttribute(\"data-type\") || this.getAttribute(\"type\");\r\n    }\r\n\r\n    /**\r\n     * Multiple\r\n     */\r\n    get multiple() {\r\n        if (this.hasAttribute(\"data-multiple\")) {\r\n            return this.getAttribute(\"data-multiple\") != \"0\";\r\n        } else {\r\n            return this.type == \"select-multiple\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get value\r\n     * @returns {string}\r\n     */\r\n    get value() {\r\n        if (this.type == \"select-one\" || this.type == \"select-multiple\") {\r\n            return this.values.join(ew.MULTIPLE_OPTION_SEPARATOR || \",\");\r\n        } else {\r\n            return this.getAttribute(\"value\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get value as array\r\n     * @returns {string[]}\r\n     */\r\n    get values() {\r\n        if (this.type == \"select-one\" || this.type == \"select-multiple\") {\r\n            return Array.prototype.filter.call(this.options, option => option.selected).map(option => option.value);\r\n        } else {\r\n            let val = this.getAttribute(\"value\");\r\n            return val ? val.split(ew.MULTIPLE_OPTION_SEPARATOR || \",\") : [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set value\r\n     * @param {string|string[]} val\r\n     */\r\n    set value(val) {\r\n        if (this.type == \"select-one\") {\r\n            for (let option of this.options)\r\n                option.selected = (option.value == val);\r\n        } else if (this.type == \"select-multiple\") {\r\n            let ar;\r\n            if (Array.isArray(val)) { // Array\r\n                ar = val.map(v => v ?? String(v));\r\n            } else { // String\r\n                val = val ?? String(val);\r\n                ar = val ? val.split(ew.MULTIPLE_OPTION_SEPARATOR || \",\") : [];\r\n            }\r\n            for (let option of this.options)\r\n                option.selected = ar.includes(String(option.value));\r\n        } else {\r\n            this.setAttribute(\"value\", val);\r\n        }\r\n        this.render();\r\n    }\r\n\r\n    /**\r\n     * Add an option\r\n     */\r\n    add(value, text, selected) {\r\n        let option = new SelectionListOption(value, text, selected),\r\n            index = this.options.findIndex(option => option.value == value);\r\n        if (index > -1)\r\n            this.options[index] = option;\r\n        else\r\n            this.options.push(option);\r\n    }\r\n\r\n    /**\r\n     * Remove an option\r\n     */\r\n    remove(index) {\r\n        let option = this.options[index];\r\n        if (option)\r\n            this.options.splice(index, 1);\r\n    }\r\n\r\n    /**\r\n     * Remove all options\r\n     */\r\n    removeAll() {\r\n        this.options.splice(0);\r\n    }\r\n\r\n    /**\r\n     * Clear selection\r\n     */\r\n    clear() {\r\n        for (let option of this.options)\r\n            option.selected = false;\r\n        this.render();\r\n    }\r\n\r\n    /**\r\n     * Get random number\r\n     */\r\n    getRandom() {\r\n        return Math.floor(Math.random() * (999999 - 100000)) + 100000;\r\n    }\r\n\r\n    /**\r\n     * Trigger change event\r\n     */\r\n    triggerChange() {\r\n        const event = new Event(\"change\", {\r\n            view: window,\r\n            bubbles: true,\r\n            cancelable: false\r\n        });\r\n        this.dispatchEvent(event);\r\n    }\r\n\r\n    /**\r\n     * Check if invalid\r\n     */\r\n    isInvalid(className) {\r\n        return /\\bis-invalid\\b/.test(className);\r\n    }\r\n\r\n    /**\r\n     * Check class\r\n     */\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        if (name == \"class\") {\r\n            if (this.targetId && this.isInvalid(oldValue) != this.isInvalid(newValue)) { // \"is-invalid\" toggled\r\n                let target = document.getElementById(this.targetId),\r\n                    inputs = target.querySelectorAll(\"input\"),\r\n                    isInvalid = this.isInvalid(newValue);\r\n                Array.prototype.forEach.call(inputs, input => input.classList.toggle(\"is-invalid\", isInvalid));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render checkbox or radio in the target element\r\n     */\r\n    render() {\r\n        let target = this.target,\r\n            template = this.template;\r\n        if (!target || !template || !this.list)\r\n            return;\r\n\r\n        // Clear the target\r\n        while (target.firstChild)\r\n            target.removeChild(target.firstChild);\r\n\r\n        // Render\r\n        target.style.cursor = \"wait\";\r\n        let self = this,\r\n            content = template.content,\r\n            cols = this.columns || 1,\r\n            tbl = document.createElement(\"div\"),\r\n            cnt = this.length,\r\n            radioSuffix = \"_\" + this.getRandom(),\r\n            isInvalid = this.classList.contains(\"is-invalid\"),\r\n            row;\r\n        if (this.layout == \"grid\") {\r\n            this.containerClass = \"container\";\r\n            this.rowClass = \"row\";\r\n            this.cellClass = \"col\";\r\n        }\r\n        tbl.className = this.containerClass + \" ew-item-container\";\r\n        target.append(tbl);\r\n        try {\r\n            let options = this.options.filter(opt => opt.value);\r\n            options.forEach((option, i) => {\r\n                let clone = content.cloneNode(true),\r\n                    input = clone.querySelector(\"input\"),\r\n                    label = clone.querySelector(\"label\"),\r\n                    suffix = \"_\" + this.getRandom(); // Make sure the id is unique\r\n                input.name = input.name + (input.type == \"radio\" ? radioSuffix : suffix);\r\n                input.id = input.id + suffix;\r\n                input.value = option.value;\r\n                input.setAttribute(\"data-index\", i);\r\n                input.checked = option.selected;\r\n                if (isInvalid)\r\n                    input.classList.add(\"is-invalid\");\r\n                input.addEventListener(\"click\", function() {\r\n                    let index = parseInt(this.getAttribute(\"data-index\"), 10);\r\n                    if (self.type == \"select-one\") {\r\n                        for (let option of self.options)\r\n                            option.selected = false;\r\n                    }\r\n                    self.options[index].selected = this.checked;\r\n                    self.setAttribute(\"value\", self.value);\r\n                    self.triggerChange();\r\n                })\r\n                label.innerHTML = option.text;\r\n                label.htmlFor = input.id;\r\n                let cell = document.createElement(\"div\");\r\n                cell.className = this.cellClass;\r\n                cell.appendChild(clone);\r\n                if (i % cols == 0) {\r\n                    row = document.createElement(\"div\");\r\n                    row.className = this.rowClass;\r\n                }\r\n                row.append(cell);\r\n                if (i % cols == cols - 1) {\r\n                    tbl.append(row);\r\n                } else if (i == cnt - 1) { // Last\r\n                    for (let j = (i % cols) + 1; j < cols; j++) {\r\n                        let c = document.createElement(\"div\");\r\n                        c.className = this.cellClass;\r\n                        row.append(c);\r\n                    }\r\n                    tbl.append(row);\r\n                }\r\n            });\r\n            this.setAttribute(\"value\", this.value);\r\n        } finally {\r\n            target.style.cursor = \"default\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set focus\r\n     */\r\n    focus() {\r\n        if (this.list) {\r\n            this.target?.querySelector(\"input\")?.focus();\r\n        } else {\r\n            super.focus();\r\n        }\r\n    }\r\n}\r\n","import \"./loadjs\";\r\nimport \"./requestAnimationFrame\";\r\nimport \"./CustomEvent\";\r\nimport Language from \"./Language\";\r\nimport SelectionList from \"./SelectionList\";\r\nimport SelectionListOption from \"./SelectionListOption\";\r\n\r\n// Define SelectionList\r\ncustomElements.define(\"selection-list\", SelectionList, { extends: \"input\" });\r\n\r\nwindow.SelectionList = SelectionList;\r\nwindow.SelectionListOption = SelectionListOption;\r\n\r\nvar ew = {\r\n    PAGE_ID: \"\", // Page ID // To be updated in page\r\n    RELATIVE_PATH: \"\", // Relative path // To be updated in page\r\n    MULTIPLE_OPTION_SEPARATOR: \",\",\r\n    GENERATE_PASSWORD_UPPERCASE: true,\r\n    GENERATE_PASSWORD_LOWERCASE: true,\r\n    GENERATE_PASSWORD_NUMBER: true,\r\n    GENERATE_PASSWORD_SPECIALCHARS: true,\r\n    CONFIRM_CANCEL: true,\r\n    ROWTYPE_ADD: 2,\r\n    ROWTYPE_EDIT: 3,\r\n    UNFORMAT_YEAR: 50,\r\n    LAZY_LOAD_RETRIES: 3,\r\n    AJAX_DELAY: 5,\r\n    LOOKUP_DELAY: 250,\r\n    MAX_OPTION_COUNT: 3,\r\n    USE_OVERLAY_SCROLLBARS: true, // For responsive tables\r\n    Language: Language, // Class\r\n    language: null, // Language object\r\n    vars: null,\r\n    googleMaps: [],\r\n    addOptionDialog: null,\r\n    emailDialog: null,\r\n    importDialog: null,\r\n    modalDialog: null,\r\n    modalLookupDialog: null,\r\n    autoSuggestSettings: {\r\n        highlight: true,\r\n        hint: true,\r\n        minLength: 1,\r\n        trigger: \"click\",\r\n        debounce: 250,\r\n        delay: 0, // For loading more results\r\n        templates: { // Custom templates for Typeahead (notFound, pending, header, footer, suggestion)\r\n            footer: '<div class=\"tt-footer\"><a href=\"#\" class=\"tt-more\"></a></div>' // \"footer\" template\r\n        }\r\n    },\r\n    lightboxSettings: {\r\n        transition: \"none\",\r\n        photo: true,\r\n        opacity: 0.5\r\n    },\r\n    importUploadOptions: {\r\n        maxFileSize: 10000000,\r\n        maxNumberOfFiles: 10\r\n    },\r\n    sweetAlertSettings: {\r\n        showClass: {\r\n            popup: \"swal2-noanimation\",\r\n            backdrop: \"swal2-noanimation\"\r\n        },\r\n        hideClass: {\r\n            popup: \"\",\r\n            backdrop: \"\"\r\n        },\r\n        customClass: {\r\n            container: \"ew-swal2-container\",\r\n            popup: \"ew-swal2-popup\",\r\n            header: \"ew-swal2-header\",\r\n            title: \"ew-swal2-title\",\r\n            closeButton: \"ew-swal2-close-button\",\r\n            icon: \"ew-swal2-icon\",\r\n            image: \"ew-swal2-image\",\r\n            content: \"ew-swal2-content\",\r\n            input: \"ew-swal2-input\",\r\n            actions: \"ew-swal2-actions\",\r\n            confirmButton: \"ew-swal2-confirm-button\",\r\n            cancelButton: \"ew-swal2-cancel-button\",\r\n            footer: \"ew-swal2-footer\"\r\n        }\r\n    },\r\n    selectOptions: {\r\n        // Select2 options\r\n        allowClear: true,\r\n        theme: \"bootstrap4\",\r\n        width: \"style\",\r\n        minimumResultsForSearch: 20,\r\n        escapeMarkup: (v) => v,\r\n        // Custom options\r\n        debounce: 250, // For ajax.delay, see https://select2.org/data-sources/ajax#rate-limiting-requests\r\n        customOption: true,\r\n        containerClass: \"d-table\",\r\n        rowClass: \"d-table-row\",\r\n        cellClass: \"d-table-cell text-nowrap\",\r\n        iconClass: \"custom-control-label\"\r\n    },\r\n    toastOptions: {\r\n        position: \"topRight\", // topRight|topLeft|bottomRight|bottomLeft\r\n    },\r\n    DOMPurifyConfig: {},\r\n    sanitize: function(str) {\r\n        return DOMPurify.sanitize(str, this.DOMPurifyConfig);\r\n    },\r\n    sanitizeFn: null, // For Bootstrap Tooltips and Popovers\r\n    PDFObjectOptions: {},\r\n    chartConfig: {},\r\n    spinnerClass: \"spinner-border text-primary\", // spinner-border or spinner-grow\r\n    jsRenderHelpers: {},\r\n    autoHideSuccessMessage: true,\r\n    autoHideSuccessMessageDelay: 5000,\r\n    searchOperatorChanged: function() {},\r\n    setLanguage: function() {},\r\n    addOptionDialogShow: function() {},\r\n    modalLookupShow: function() {},\r\n    importDialogShow: function() {},\r\n    toggleSearchOperator: function() {},\r\n    togglePassword: function() {},\r\n    sort: function() {},\r\n    clickMultiCheckbox: function() {},\r\n    export: function() {},\r\n    exportWithCharts: function() {},\r\n    setSearchType: function() {},\r\n    emailDialogShow: function() {},\r\n    selectAll: function() {},\r\n    selectAllKey: function() {},\r\n    submitAction: function() {},\r\n    addGridRow: function() {},\r\n    confirmDelete: function() { return false; },\r\n    deleteGridRow: function() { return false; }\r\n};\r\n\r\n/**\r\n * Add spinner\r\n */\r\new.addSpinner = function() {\r\n    if (document.getElementById(\"ew-page-spinner\"))\r\n        return;\r\n    var div = document.createElement(\"div\");\r\n    div.id =\"ew-page-spinner\";\r\n    div.setAttribute(\"class\", ew.spinnerClass);\r\n    div.setAttribute(\"role\", \"status\");\r\n    div.innerHTML = '<span class=\"sr-only\">' + (ew.language ? ew.language.phrase(\"Loading\") : \"Loading...\") + '</span>';\r\n    if (document.body)\r\n        document.body.appendChild(div);\r\n};\r\n\r\n/**\r\n * Remove spinner\r\n */\r\new.removeSpinner = function() {\r\n    var el = document.getElementById(\"ew-page-spinner\");\r\n    if (el)\r\n        el.parentNode.removeChild(el);\r\n};\r\n\r\n/**\r\n * Init grid upper/lower panel\r\n *\r\n * @param {HTMLElement} el - Element\r\n */\r\new.initGridPanel = function(el) {\r\n    if (el.dataset.isset)\r\n        return;\r\n    var html = \"\";\r\n    for (var i = 0; i < el.children.length; i++) {\r\n        html = el.children[i].innerHTML.trim();\r\n        if (html !== \"\")\r\n            break;\r\n    }\r\n    if (html === \"\")\r\n        el.classList.add(\"d-none\");\r\n    el.dataset.isset = true;\r\n};\r\n\r\n/**\r\n * Init grid upper and lower panels\r\n */\r\new.initGridPanels = function() {\r\n    Array.prototype.forEach.call(document.querySelectorAll(\".ew-grid-upper-panel, .ew-grid-lower-panel\"), this.initGridPanel);\r\n}\r\n\r\n// Request animation frame to init grid lower and upper panels\r\nvar _initGridPanelsReq;\r\nfunction _initGridPanels(timestamp) {\r\n    ew.initGridPanels();\r\n    _initGridPanelsReq = requestAnimationFrame(_initGridPanels);\r\n}\r\n_initGridPanelsReq = requestAnimationFrame(_initGridPanels);\r\n\r\n// DOM content loaded\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n    ew.addSpinner();\r\n    ew.initGridPanels();\r\n    cancelAnimationFrame(_initGridPanelsReq);\r\n    window.loadjs.done(\"dom\");\r\n});\r\n\r\n/**\r\n * Overlay scrollbars options\r\n */\r\new.overlayScrollbarsOptions = {\r\n    className: \"os-theme-dark\",\r\n    sizeAutoCapable: true,\r\n    scrollbars: {\r\n        autoHide: \"leave\",\r\n        clickScrolling: true\r\n    }\r\n};\r\n\r\n// All bundle IDs\r\new.bundleIds = [\"dom\", \"head\"];\r\n\r\n/**\r\n * Initiate script load (async in series) and register bundle\r\n * @param {(string|string[])} paths - The file paths\r\n * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\r\n *   callback or (3) object literal with success/error arguments, numRetries,\r\n *   etc.\r\n * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\r\n *   literal with success/error arguments, numRetries, etc.\r\n */\r\new.loadjs = function(paths, arg1, arg2) {\r\n    let bundleId,\r\n        args;\r\n    // bundleId (if string)\r\n    if (arg1 && arg1.trim)\r\n        bundleId = arg1;\r\n    // args (default is {})\r\n    args = (bundleId ? arg2 : arg1) || {};\r\n    if (bundleId && bundleId != \"load\" && !ew.bundleIds.includes(bundleId))\r\n        ew.bundleIds.push(bundleId);\r\n    paths = Array.isArray(paths) ? paths : [paths];\r\n    paths = paths.filter(path => path && (!Array.isArray(path) || path.length)); // Valid paths\r\n    if (args.call) // Accept function as argument\r\n        args = { success: args };\r\n    args = { ...args, returnPromise: true };\r\n    let clone = { ...args },\r\n        p = Promise.resolve();\r\n    delete clone.success;\r\n    paths.forEach((path, i, ar) => {\r\n        if (i == ar.length - 1) // Last\r\n            p = p.then(() => window.loadjs(path, bundleId || args, bundleId ? args : null).catch(paths => console.log(paths)));\r\n        else\r\n            p = p.then(() => window.loadjs(path, clone).catch(paths => console.log(paths)));\r\n    });\r\n    return p;\r\n};\r\n\r\n/**\r\n * Initiate script load (async in series) when dependencies have been satisfied\r\n * @param {(string|string[])} deps - List of bundle ids\r\n * @param {(string|string[])} paths - The file paths\r\n * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\r\n *   callback or (3) object literal with success/error arguments, numRetries,\r\n *   etc.\r\n * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\r\n *   literal with success/error arguments, numRetries, etc.\r\n */\r\new.ready = function(deps, paths, arg1, arg2) {\r\n    window.loadjs.ready(deps, function() {\r\n        ew.loadjs(paths, arg1, arg2);\r\n    });\r\n};\r\n\r\n// Global client script\r\nloadjs.ready(\"head\", function() {\r\n    ew.clientScript();\r\n});\r\n\r\n// Global startup script\r\nloadjs.ready(\"foot\", function() {\r\n    ew.startupScript();\r\n    loadjs.done(\"load\");\r\n});\r\n\r\n/**\r\n * Render client side template, use the HTML in DOM and return the HTML\r\n *\r\n * @param {jQuery} tmpl Template\r\n * @param {Object} data Data\r\n * @returns HTML string\r\n */\r\new.renderTemplate = function(tmpl, data) {\r\n    var $ = jQuery, $tmpl = (tmpl && tmpl.render) ? tmpl : $(tmpl);\r\n    if (!$tmpl.render)\r\n        return;\r\n    var args = {$template: $tmpl, data: data};\r\n    $(document).trigger(\"rendertemplate\", [args])\r\n    var html = $tmpl.render(args.data, ew.jsRenderHelpers),\r\n        method = args.$template.data(\"method\"),\r\n        target = args.$template.data(\"target\");\r\n    if (html && method && target) // Render by specified method to target\r\n        $(html)[method](target);\r\n    else if (html && !method && target) // No method, render as inner HTML of target\r\n        $(target).html(html);\r\n    else if (html && !method && !target) // No method and target, render locally\r\n        $tmpl.parent().append(html);\r\n    return html;\r\n};\r\n\r\n/**\r\n * Render all client side templates\r\n *\r\n * @param {*} e Event\r\n */\r\new.renderJsTemplates = function(e) {\r\n    var $ = jQuery, ids = {}, el = (e && e.target) ? e.target : document;\r\n    $(el).find(\".ew-js-template\").sort(function (a, b) {\r\n        a = parseInt($(a).data(\"seq\"), 10) || 0;\r\n        b = parseInt($(b).data(\"seq\"), 10) || 0;\r\n        if (a > b) {\r\n            return 1;\r\n        } else if(a < b) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }).each(function(index) {\r\n        var $this = $(this), name = $this.data(\"name\"), data = $this.data(\"data\");\r\n        if (data && typeof data == \"string\") {\r\n            data = ew.vars[data] || window[data]; // Get data from ew.vars or global\r\n            if (!data) // Data not found (e.g. no header)\r\n                return;\r\n        }\r\n        if (name) {\r\n            if (!$.render[name]) { // Render the first template of any named template only\r\n                $.templates(name, $this.text());\r\n                ew.renderTemplate($this, data);\r\n            }\r\n        } else {\r\n            ew.renderTemplate($this, data);\r\n        }\r\n    });\r\n};\r\n\r\nexport default ew;"],"names":["this","loadjs","devnull","bundleIdCache","bundleResultCache","bundleCallbackQueue","subscribe","bundleIds","callbackFn","push","depsNotFound","i","length","numWaiting","fn","bundleId","r","q","pathsNotFound","publish","splice","executeCallbacks","args","call","success","error","loadFile","path","numTries","doc","document","async","maxTries","numRetries","beforeCallbackFn","before","pathname","replace","pathStripped","isLegacyIECss","e","test","createElement","rel","href","relList","as","src","undefined","onload","onerror","onbeforeload","ev","result","type","sheet","cssText","x","code","defaultPrevented","tagName","head","appendChild","loadFiles","paths","arg1","arg2","trim","loadFn","resolve","reject","returnPromise","Promise","ready","deps","done","reset","isDefined","global","rafPrefix","nowOffset","Date","now","pnow","performance","requestAnimationFrame","callback","cancelAnimationFrame","lastTime","TypeError","currentTime","delay","setTimeout","id","clearTimeout","window","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Language","obj","phrase","toLowerCase","SelectionListOption","value","text","selected","String","SelectionList","connectedCallback","getAttribute","values","multiple","split","ew","MULTIPLE_OPTION_SEPARATOR","val","add","option","index","options","findIndex","remove","removeAll","clear","render","getRandom","Math","floor","random","triggerChange","Event","view","dispatchEvent","isInvalid","className","attributeChangedCallback","name","oldValue","newValue","targetId","target","getElementById","inputs","querySelectorAll","Array","prototype","forEach","input","classList","toggle","template","list","firstChild","removeChild","style","cursor","self","content","cols","columns","tbl","cnt","radioSuffix","contains","row","layout","containerClass","rowClass","cellClass","append","filter","opt","clone","cloneNode","querySelector","label","suffix","setAttribute","checked","addEventListener","parseInt","innerHTML","htmlFor","cell","j","c","focus","parentNode","templateId","inputId","IS_MOBILE","hasAttribute","join","ar","isArray","map","v","includes","HTMLInputElement","customElements","define","extends","PAGE_ID","RELATIVE_PATH","GENERATE_PASSWORD_UPPERCASE","GENERATE_PASSWORD_LOWERCASE","GENERATE_PASSWORD_NUMBER","GENERATE_PASSWORD_SPECIALCHARS","CONFIRM_CANCEL","ROWTYPE_ADD","ROWTYPE_EDIT","UNFORMAT_YEAR","LAZY_LOAD_RETRIES","AJAX_DELAY","LOOKUP_DELAY","MAX_OPTION_COUNT","USE_OVERLAY_SCROLLBARS","language","vars","googleMaps","addOptionDialog","emailDialog","importDialog","modalDialog","modalLookupDialog","autoSuggestSettings","highlight","hint","minLength","trigger","debounce","templates","footer","lightboxSettings","transition","photo","opacity","importUploadOptions","maxFileSize","maxNumberOfFiles","sweetAlertSettings","showClass","popup","backdrop","hideClass","customClass","container","header","title","closeButton","icon","image","actions","confirmButton","cancelButton","selectOptions","allowClear","theme","width","minimumResultsForSearch","escapeMarkup","customOption","iconClass","toastOptions","position","DOMPurifyConfig","sanitize","str","DOMPurify","sanitizeFn","PDFObjectOptions","chartConfig","spinnerClass","jsRenderHelpers","autoHideSuccessMessage","autoHideSuccessMessageDelay","searchOperatorChanged","setLanguage","addOptionDialogShow","modalLookupShow","importDialogShow","toggleSearchOperator","togglePassword","sort","clickMultiCheckbox","export","exportWithCharts","setSearchType","emailDialogShow","selectAll","selectAllKey","submitAction","addGridRow","confirmDelete","deleteGridRow","addSpinner","div","body","removeSpinner","el","initGridPanel","dataset","isset","html","children","initGridPanels","_initGridPanelsReq","_initGridPanels","timestamp","overlayScrollbarsOptions","sizeAutoCapable","scrollbars","autoHide","clickScrolling","p","then","catch","console","log","clientScript","startupScript","renderTemplate","tmpl","data","$","jQuery","$tmpl","$template","method","parent","renderJsTemplates","find","a","b","each","$this"],"mappings":"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"}