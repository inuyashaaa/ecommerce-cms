/*!
 * Core JavaScript for PHPMaker v2021.0.1
 * Copyright (c) e.World Technology Limited. All rights reserved.
 */
var ew=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return(l=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};p.loadjs=function(){var e=function(){},t={},n={},r={};function i(e,t){if(e){var i=r[e];if(n[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function o(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,r,i){var o,s,l=document,u=r.async,c=(r.numRetries||0)+1,d=r.before||e,f=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(f)?((s=l.createElement("link")).rel="stylesheet",s.href=p,(o="hideFocus"in s)&&s.relList&&(o=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(s=l.createElement("img")).src=p:((s=l.createElement("script")).src=t,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(e){var l=e.type[0];if(o)try{s.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((i+=1)<c)return a(t,n,r,i)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(t,l,e.defaultPrevented)},!1!==d(t,s)&&"IMG"!=s.tagName&&l.head.appendChild(s)}function s(e,n,r){var s,l;if(n&&n.trim&&(s=n),l=(s?r:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function u(t,n){!function(e,t,n){var r,i,o=(e=e.push?e:[e]).length,s=o,l=[];for(r=function(e,n,r){if("e"==n&&l.push(e),"b"==n){if(!r)return;l.push(e)}--o||t(l)},i=0;i<s;i++)a(e[i],r,n)}(e,(function(e){o(l,e),t&&o({success:t,error:n},e),i(s,e)}),l)}if(l.returnPromise)return new Promise(u);u()}return s.ready=function(e,t){return function(e,t){e=e.push?e:[e];var i,o,a,s=[],l=e.length,u=l;for(i=function(e,n){n.length&&s.push(e),--u||t(s)};l--;)o=e[l],(a=n[o])?i(o,a):(r[o]=r[o]||[]).push(i)}(e,(function(e){o(t,e)})),s},s.done=function(e){i(e,[])},s.reset=function(){t={},n={},r={}},s.isDefined=function(e){return e in t},s}(),function(e){var t,n=Date.now(),r=function(){return e.performance&&"function"==typeof e.performance.now?e.performance.now():Date.now()-n};if("mozRequestAnimationFrame"in e?t="moz":"webkitRequestAnimationFrame"in e&&(t="webkit"),t)e.requestAnimationFrame||(e.requestAnimationFrame=function(n){return e[t+"RequestAnimationFrame"]((function(){n(r())}))}),e.cancelAnimationFrame||(e.cancelAnimationFrame=e[t+"CancelAnimationFrame"]);else{var i=Date.now();e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=Date.now(),n=16+i-t;return n<0&&(n=0),i=t,setTimeout((function(){i=Date.now(),e(r())}),n)},e.cancelAnimationFrame=function(e){clearTimeout(e)}}}(p),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}();var h=function(e,t,n){this.value=String(e||""),this.text=String(t||""),this.selected=!!n},m=function(e){var r,i;function o(){var t;return n(c(t=e.call(this)||this),"containerClass","d-table"),n(c(t),"rowClass","d-table-row"),n(c(t),"cellClass","d-table-cell"),n(c(t),"options",[]),t}i=e,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,t(o,null,[{key:"observedAttributes",get:function(){return["class"]}}]);var a=o.prototype;return a.connectedCallback=function(){for(var e,t=this.getAttribute("value")||"",n=f(this.multiple?t.split(ew.MULTIPLE_OPTION_SEPARATOR):[t]);!(e=n()).done;){var r=e.value;this.add(r,"",!0)}},a.add=function(e,t,n){var r=new h(e,t,n),i=this.options.findIndex((function(t){return t.value==e}));i>-1?this.options[i]=r:this.options.push(r)},a.remove=function(e){this.options[e]&&this.options.splice(e,1)},a.removeAll=function(){this.options.splice(0)},a.clear=function(){for(var e,t=f(this.options);!(e=t()).done;){e.value.selected=!1}this.render()},a.getRandom=function(){return Math.floor(899999*Math.random())+1e5},a.triggerChange=function(){var e=new Event("change",{view:window,bubbles:!0,cancelable:!1});this.dispatchEvent(e)},a.isInvalid=function(e){return/\bis-invalid\b/.test(e)},a.attributeChangedCallback=function(e,t,n){if("class"==e&&this.targetId&&this.isInvalid(t)!=this.isInvalid(n)){var r=document.getElementById(this.targetId).querySelectorAll("input"),i=this.isInvalid(n);Array.prototype.forEach.call(r,(function(e){return e.classList.toggle("is-invalid",i)}))}},a.render=function(){var e=this,t=this.target,n=this.template;if(t&&n&&this.list){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.cursor="wait";var r,i=this,o=n.content,a=this.columns||1,s=document.createElement("div"),l=this.length,u="_"+this.getRandom(),c=this.classList.contains("is-invalid");"grid"==this.layout&&(this.containerClass="container",this.rowClass="row",this.cellClass="col"),s.className=this.containerClass+" ew-item-container",t.append(s);try{this.options.filter((function(e){return e.value})).forEach((function(t,n){var d=o.cloneNode(!0),p=d.querySelector("input"),h=d.querySelector("label"),m="_"+e.getRandom();p.name=p.name+("radio"==p.type?u:m),p.id=p.id+m,p.value=t.value,p.setAttribute("data-index",n),p.checked=t.selected,c&&p.classList.add("is-invalid"),p.addEventListener("click",(function(){var e=parseInt(this.getAttribute("data-index"),10);if("select-one"==i.type)for(var t,n=f(i.options);!(t=n()).done;){t.value.selected=!1}i.options[e].selected=this.checked,i.setAttribute("value",i.value),i.triggerChange()})),h.innerHTML=t.text,h.htmlFor=p.id;var g=document.createElement("div");if(g.className=e.cellClass,g.appendChild(d),n%a==0&&((r=document.createElement("div")).className=e.rowClass),r.append(g),n%a==a-1)s.append(r);else if(n==l-1){for(var y=n%a+1;y<a;y++){var v=document.createElement("div");v.className=e.cellClass,r.append(v)}s.append(r)}})),this.setAttribute("value",this.value)}finally{t.style.cursor="default"}}},a.focus=function(){var t,n;this.list?null===(t=this.target)||void 0===t||null===(n=t.querySelector("input"))||void 0===n||n.focus():e.prototype.focus.call(this)},t(o,[{key:"targetId",get:function(){return this.getAttribute("data-target")}},{key:"target",get:function(){return this.parentNode.querySelector("#"+this.targetId)}},{key:"templateId",get:function(){return this.getAttribute("data-template")}},{key:"template",get:function(){return this.parentNode.querySelector("#"+this.templateId)}},{key:"inputId",get:function(){return this.getAttribute("data-input")}},{key:"input",get:function(){return this.parentNode.querySelector("#"+this.inputId)}},{key:"list",get:function(){return this.options}},{key:"columns",get:function(){if(ew&&ew.IS_MOBILE)return 1;var e=this.getAttribute("data-repeatcolumn");return e?parseInt(e,10):1}},{key:"layout",get:function(){var e=this.getAttribute("data-layout");return"grid"==e?e:""}},{key:"length",get:function(){return this.options.length}},{key:"selectedIndex",get:function(){for(var e,t=f(this.options);!(e=t()).done;){var n=e.value;if(n.selected)return n.index}return-1},set:function(e){var t=this.options[e];t&&(this.options.forEach((function(e){return e.selected=!1})),t.selected=!0,this.render())}},{key:"type",get:function(){return this.getAttribute("data-type")||this.getAttribute("type")}},{key:"multiple",get:function(){return this.hasAttribute("data-multiple")?"0"!=this.getAttribute("data-multiple"):"select-multiple"==this.type}},{key:"value",get:function(){return"select-one"==this.type||"select-multiple"==this.type?this.values.join(ew.MULTIPLE_OPTION_SEPARATOR||","):this.getAttribute("value")},set:function(e){if("select-one"==this.type)for(var t,n=f(this.options);!(t=n()).done;){var r=t.value;r.selected=r.value==e}else if("select-multiple"==this.type){var i,o;if(Array.isArray(e))i=e.map((function(e){return null!=e?e:String(e)}));else i=(e=null!==(o=e)&&void 0!==o?o:String(e))?e.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[];for(var a,s=f(this.options);!(a=s()).done;){var l=a.value;l.selected=i.includes(String(l.value))}}else this.setAttribute("value",e);this.render()}},{key:"values",get:function(){if("select-one"==this.type||"select-multiple"==this.type)return Array.prototype.filter.call(this.options,(function(e){return e.selected})).map((function(e){return e.value}));var e=this.getAttribute("value");return e?e.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[]}}]),o}(u(HTMLInputElement));customElements.define("selection-list",m,{extends:"input"}),window.SelectionList=m,window.SelectionListOption=h;var g,y={PAGE_ID:"",RELATIVE_PATH:"",MULTIPLE_OPTION_SEPARATOR:",",GENERATE_PASSWORD_UPPERCASE:!0,GENERATE_PASSWORD_LOWERCASE:!0,GENERATE_PASSWORD_NUMBER:!0,GENERATE_PASSWORD_SPECIALCHARS:!0,CONFIRM_CANCEL:!0,ROWTYPE_ADD:2,ROWTYPE_EDIT:3,UNFORMAT_YEAR:50,LAZY_LOAD_RETRIES:3,AJAX_DELAY:5,LOOKUP_DELAY:250,MAX_OPTION_COUNT:3,USE_OVERLAY_SCROLLBARS:!0,Language:function(e){this.obj=e,this.phrase=function(e){return this.obj[e.toLowerCase()]}},language:null,vars:null,googleMaps:[],addOptionDialog:null,emailDialog:null,importDialog:null,modalDialog:null,modalLookupDialog:null,autoSuggestSettings:{highlight:!0,hint:!0,minLength:1,trigger:"click",debounce:250,delay:0,templates:{footer:'<div class="tt-footer"><a href="#" class="tt-more"></a></div>'}},lightboxSettings:{transition:"none",photo:!0,opacity:.5},importUploadOptions:{maxFileSize:1e7,maxNumberOfFiles:10},sweetAlertSettings:{showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},hideClass:{popup:"",backdrop:""},customClass:{container:"ew-swal2-container",popup:"ew-swal2-popup",header:"ew-swal2-header",title:"ew-swal2-title",closeButton:"ew-swal2-close-button",icon:"ew-swal2-icon",image:"ew-swal2-image",content:"ew-swal2-content",input:"ew-swal2-input",actions:"ew-swal2-actions",confirmButton:"ew-swal2-confirm-button",cancelButton:"ew-swal2-cancel-button",footer:"ew-swal2-footer"}},selectOptions:{allowClear:!0,theme:"bootstrap4",width:"style",minimumResultsForSearch:20,escapeMarkup:function(e){return e},debounce:250,customOption:!0,containerClass:"d-table",rowClass:"d-table-row",cellClass:"d-table-cell text-nowrap",iconClass:"custom-control-label"},toastOptions:{position:"topRight"},DOMPurifyConfig:{},sanitize:function(e){return DOMPurify.sanitize(e,this.DOMPurifyConfig)},sanitizeFn:null,PDFObjectOptions:{},chartConfig:{},spinnerClass:"spinner-border text-primary",jsRenderHelpers:{},autoHideSuccessMessage:!0,autoHideSuccessMessageDelay:5e3,searchOperatorChanged:function(){},setLanguage:function(){},addOptionDialogShow:function(){},modalLookupShow:function(){},importDialogShow:function(){},toggleSearchOperator:function(){},togglePassword:function(){},sort:function(){},clickMultiCheckbox:function(){},export:function(){},exportWithCharts:function(){},setSearchType:function(){},emailDialogShow:function(){},selectAll:function(){},selectAllKey:function(){},submitAction:function(){},addGridRow:function(){},confirmDelete:function(){return!1},deleteGridRow:function(){return!1}};return y.addSpinner=function(){if(!document.getElementById("ew-page-spinner")){var e=document.createElement("div");e.id="ew-page-spinner",e.setAttribute("class",y.spinnerClass),e.setAttribute("role","status"),e.innerHTML='<span class="sr-only">'+(y.language?y.language.phrase("Loading"):"Loading...")+"</span>",document.body&&document.body.appendChild(e)}},y.removeSpinner=function(){var e=document.getElementById("ew-page-spinner");e&&e.parentNode.removeChild(e)},y.initGridPanel=function(e){if(!e.dataset.isset){for(var t="",n=0;n<e.children.length&&""===(t=e.children[n].innerHTML.trim());n++);""===t&&e.classList.add("d-none"),e.dataset.isset=!0}},y.initGridPanels=function(){Array.prototype.forEach.call(document.querySelectorAll(".ew-grid-upper-panel, .ew-grid-lower-panel"),this.initGridPanel)},g=requestAnimationFrame((function e(t){y.initGridPanels(),g=requestAnimationFrame(e)})),document.addEventListener("DOMContentLoaded",(function(){y.addSpinner(),y.initGridPanels(),cancelAnimationFrame(g),window.loadjs.done("dom")})),y.overlayScrollbarsOptions={className:"os-theme-dark",sizeAutoCapable:!0,scrollbars:{autoHide:"leave",clickScrolling:!0}},y.bundleIds=["dom","head"],y.loadjs=function(e,t,n){var r,o;t&&t.trim&&(r=t),o=(r?n:t)||{},r&&"load"!=r&&!y.bundleIds.includes(r)&&y.bundleIds.push(r),e=(e=Array.isArray(e)?e:[e]).filter((function(e){return e&&(!Array.isArray(e)||e.length)})),o.call&&(o={success:o}),o=i(i({},o),{},{returnPromise:!0});var a=i({},o),s=Promise.resolve();return delete a.success,e.forEach((function(e,t,n){s=t==n.length-1?s.then((function(){return window.loadjs(e,r||o,r?o:null).catch((function(e){return console.log(e)}))})):s.then((function(){return window.loadjs(e,a).catch((function(e){return console.log(e)}))}))})),s},y.ready=function(e,t,n,r){window.loadjs.ready(e,(function(){y.loadjs(t,n,r)}))},loadjs.ready("head",(function(){y.clientScript()})),loadjs.ready("foot",(function(){y.startupScript(),loadjs.done("load")})),y.renderTemplate=function(e,t){var n=jQuery,r=e&&e.render?e:n(e);if(r.render){var i={$template:r,data:t};n(document).trigger("rendertemplate",[i]);var o=r.render(i.data,y.jsRenderHelpers),a=i.$template.data("method"),s=i.$template.data("target");return o&&a&&s?n(o)[a](s):o&&!a&&s?n(s).html(o):!o||a||s||r.parent().append(o),o}},y.renderJsTemplates=function(e){var t=jQuery,n=e&&e.target?e.target:document;t(n).find(".ew-js-template").sort((function(e,n){return(e=parseInt(t(e).data("seq"),10)||0)>(n=parseInt(t(n).data("seq"),10)||0)?1:e<n?-1:0})).each((function(e){var n=t(this),r=n.data("name"),i=n.data("data");i&&"string"==typeof i&&!(i=y.vars[i]||window[i])||(r?t.render[r]||(t.templates(r,n.text()),y.renderTemplate(n,i)):y.renderTemplate(n,i))}))},y}();
//# sourceMappingURL=ewcore.min.js.map